(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(rn,ot,S)=>{"use strict";S.d(ot,{Am:()=>Sn,Bd:()=>K,FA:()=>Ie,Fy:()=>He,I9:()=>ln,Im:()=>lt,Ku:()=>Ze,Ll:()=>ne,T9:()=>Ae,Uj:()=>ce,XA:()=>Ve,ZQ:()=>$,bD:()=>Zt,cY:()=>xe,eX:()=>ve,g:()=>ct,gR:()=>yt,hp:()=>In,jZ:()=>F,lT:()=>Nt,lV:()=>Ge,nr:()=>Ye,sr:()=>be,tD:()=>$t,u:()=>ye,zW:()=>fe,zw:()=>Ne});const G=function(se){const de=[];let Pe=0;for(let mt=0;mt<se.length;mt++){let et=se.charCodeAt(mt);et<128?de[Pe++]=et:et<2048?(de[Pe++]=et>>6|192,de[Pe++]=63&et|128):55296==(64512&et)&&mt+1<se.length&&56320==(64512&se.charCodeAt(mt+1))?(et=65536+((1023&et)<<10)+(1023&se.charCodeAt(++mt)),de[Pe++]=et>>18|240,de[Pe++]=et>>12&63|128,de[Pe++]=et>>6&63|128,de[Pe++]=63&et|128):(de[Pe++]=et>>12|224,de[Pe++]=et>>6&63|128,de[Pe++]=63&et|128)}return de},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,de){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let et=0;et<se.length;et+=3){const qt=se[et],_n=et+1<se.length,qn=_n?se[et+1]:0,Qn=et+2<se.length,Rr=Qn?se[et+2]:0;let gn=(15&qn)<<2|Rr>>6,vi=63&Rr;Qn||(vi=64,_n||(gn=64)),mt.push(Pe[qt>>2],Pe[(3&qt)<<4|qn>>4],Pe[gn],Pe[vi])}return mt.join("")},encodeString(se,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(se):this.encodeByteArray(G(se),de)},decodeString(se,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(se):function(se){const de=[];let Pe=0,mt=0;for(;Pe<se.length;){const et=se[Pe++];if(et<128)de[mt++]=String.fromCharCode(et);else if(et>191&&et<224){const qt=se[Pe++];de[mt++]=String.fromCharCode((31&et)<<6|63&qt)}else if(et>239&&et<365){const Qn=((7&et)<<18|(63&se[Pe++])<<12|(63&se[Pe++])<<6|63&se[Pe++])-65536;de[mt++]=String.fromCharCode(55296+(Qn>>10)),de[mt++]=String.fromCharCode(56320+(1023&Qn))}else{const qt=se[Pe++],_n=se[Pe++];de[mt++]=String.fromCharCode((15&et)<<12|(63&qt)<<6|63&_n)}}return de.join("")}(this.decodeStringToByteArray(se,de))},decodeStringToByteArray(se,de){this.init_();const Pe=de?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let et=0;et<se.length;){const qt=Pe[se.charAt(et++)],qn=et<se.length?Pe[se.charAt(et)]:0;++et;const Rr=et<se.length?Pe[se.charAt(et)]:64;++et;const kn=et<se.length?Pe[se.charAt(et)]:64;if(++et,null==qt||null==qn||null==Rr||null==kn)throw new ie;mt.push(qt<<2|qn>>4),64!==Rr&&(mt.push(qn<<4&240|Rr>>2),64!==kn&&mt.push(Rr<<6&192|kn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(se){return function(se){const de=G(se);return oe.encodeByteArray(de,!0)}(se).replace(/\./g,"")},ye=function(se){try{return oe.decodeString(se,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function Ne(se,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return de}for(const Pe in de)!de.hasOwnProperty(Pe)||!Ue(Pe)||(se[Pe]=Ne(se[Pe],de[Pe]));return se}function Ue(se){return"__proto__"!==se}const Me=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const de=se&&ye(se[1]);return de&&JSON.parse(de)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},Ae=()=>{var se;return null===(se=Me())||void 0===se?void 0:se.config},Ve=se=>{var de;return null===(de=Me())||void 0===de?void 0:de[`_${se}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,Pe)=>{this.resolve=de,this.reject=Pe})}wrapCallback(de){return(Pe,mt)=>{Pe?this.reject(Pe):this.resolve(mt),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(Pe):de(Pe,mt))}}}function He(se,de){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=de||"demo-project",et=se.iat||0,qt=se.sub||se.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _n=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:et,exp:et+3600,auth_time:et,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(_n)),""].join(".")}function $(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($())}function ne(){var se;const de=null===(se=Me())||void 0===se?void 0:se.forceEnvironment;if("node"===de)return!0;if("browser"===de)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function K(){return"object"==typeof self&&self.self===self}function be(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nt(){const se=$();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function Ye(){return!ne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((se,de)=>{try{let Pe=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(mt);et.onsuccess=()=>{et.result.close(),Pe||self.indexedDB.deleteDatabase(mt),se(!0)},et.onupgradeneeded=()=>{Pe=!1},et.onerror=()=>{var qt;de((null===(qt=et.error)||void 0===qt?void 0:qt.message)||"")}}catch(Pe){de(Pe)}})}class ct extends Error{constructor(de,Pe,mt){super(Pe),this.code=de,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(de,Pe,mt){this.service=de,this.serviceName=Pe,this.errors=mt}create(de,...Pe){const mt=Pe[0]||{},et=`${this.service}/${de}`,qt=this.errors[de],_n=qt?function We(se,de){return se.replace(Be,(Pe,mt)=>{const et=de[mt];return null!=et?String(et):`<${mt}?>`})}(qt,mt):"Error";return new ct(et,`${this.serviceName}: ${_n} (${et}).`,mt)}}const Be=/\{\$([^}]+)}/g;function yt(se,de){return Object.prototype.hasOwnProperty.call(se,de)}function lt(se){for(const de in se)if(Object.prototype.hasOwnProperty.call(se,de))return!1;return!0}function Zt(se,de){if(se===de)return!0;const Pe=Object.keys(se),mt=Object.keys(de);for(const et of Pe){if(!mt.includes(et))return!1;const qt=se[et],_n=de[et];if(Dn(qt)&&Dn(_n)){if(!Zt(qt,_n))return!1}else if(qt!==_n)return!1}for(const et of mt)if(!Pe.includes(et))return!1;return!0}function Dn(se){return null!==se&&"object"==typeof se}function Sn(se){const de=[];for(const[Pe,mt]of Object.entries(se))Array.isArray(mt)?mt.forEach(et=>{de.push(encodeURIComponent(Pe)+"="+encodeURIComponent(et))}):de.push(encodeURIComponent(Pe)+"="+encodeURIComponent(mt));return de.length?"&"+de.join("&"):""}function ln(se){const de={};return se.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[et,qt]=mt.split("=");de[decodeURIComponent(et)]=decodeURIComponent(qt)}}),de}function In(se){const de=se.indexOf("?");if(!de)return"";const Pe=se.indexOf("#",de);return se.substring(de,Pe>0?Pe:void 0)}function $t(se,de){const Pe=new Wn(se,de);return Pe.subscribe.bind(Pe)}class Wn{constructor(de,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{de(this)}).catch(mt=>{this.error(mt)})}next(de){this.forEachObserver(Pe=>{Pe.next(de)})}error(de){this.forEachObserver(Pe=>{Pe.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,Pe,mt){let et;if(void 0===de&&void 0===Pe&&void 0===mt)throw new Error("Missing Observer.");et=function or(se,de){if("object"!=typeof se||null===se)return!1;for(const Pe of de)if(Pe in se&&"function"==typeof se[Pe])return!0;return!1}(de,["next","error","complete"])?de:{next:de,error:Pe,complete:mt},void 0===et.next&&(et.next=On),void 0===et.error&&(et.error=On),void 0===et.complete&&(et.complete=On);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),qt}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,de)}sendOne(de,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{Pe(this.observers[de])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function Ze(se){return se&&se._delegate?se._delegate:se}},1656:(rn,ot,S)=>{"use strict";S.d(ot,{c:()=>ae,r:()=>X});const ae=($,F)=>{$.componentOnReady?$.componentOnReady().then(ne=>F(ne)):X(()=>F($))},X=$=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame($):"function"==typeof requestAnimationFrame?requestAnimationFrame($):setTimeout($)},6031:(rn,ot,S)=>{"use strict";S.d(ot,{L:()=>l,a:()=>k,b:()=>ae,c:()=>G,d:()=>Ee,g:()=>$});const l="ionViewWillEnter",k="ionViewDidEnter",ae="ionViewWillLeave",G="ionViewDidLeave",Ee="ionViewWillUnload",$=F=>F.classList.contains("ion-page")?F:F.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||F},3503:(rn,ot,S)=>{"use strict";S.d(ot,{c:()=>Xe});var l=S(8476),k=S(5638);let ae;const Ee=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oe=Re=>(void 0===ae&&(ae=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),ae),ie=(Re,Me,Oe)=>{const dt=Me.startsWith("animation")?oe(Re):"";Re.style.setProperty(dt+Me,Oe)},je=(Re,Me)=>{const Oe=Me.startsWith("animation")?oe(Re):"";Re.style.removeProperty(Oe+Me)},X=[],Ce=(Re=[],Me)=>{if(void 0!==Me){const Oe=Array.isArray(Me)?Me:[Me];return[...Re,...Oe]}return Re},Xe=Re=>{let Me,Oe,dt,Ae,Ve,xe,K,fe,ve,Te,me,Be,tt,He=[],$=[],F=[],ne=!1,be={},Ge=[],qe=[],Nt={},xt=0,bt=!1,Ye=!1,ct=!0,Ie=!1,We=!0,$e=!1;const ft=Re,Gt=[],Bt=[],Yt=[],jt=[],yt=[],ut=[],lt=[],vt=[],Zt=[],Dn=[],vn=[],Sn="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,ln="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Sn,un=()=>vn,On=(At,H)=>{const Y=H.findIndex(ze=>ze.c===At);Y>-1&&H.splice(Y,1)},Or=(At,H)=>((null!=H&&H.oneTimeCallback?Bt:Gt).push({c:At,o:H}),tt),kr=()=>{if(ln)vn.forEach(At=>{At.cancel()}),vn.length=0;else{const At=jt.slice();(0,k.r)(()=>{At.forEach(H=>{je(H,"animation-name"),je(H,"animation-duration"),je(H,"animation-timing-function"),je(H,"animation-iteration-count"),je(H,"animation-delay"),je(H,"animation-play-state"),je(H,"animation-fill-mode"),je(H,"animation-direction")})})}},Pn=()=>{ut.forEach(At=>{null!=At&&At.parentNode&&At.parentNode.removeChild(At)}),ut.length=0},de=()=>void 0!==Ve?Ve:K?K.getFill():"both",Pe=()=>void 0!==ve?ve:void 0!==xe?xe:K?K.getDirection():"normal",mt=()=>bt?"linear":void 0!==dt?dt:K?K.getEasing():"linear",et=()=>Ye?0:void 0!==Te?Te:void 0!==Oe?Oe:K?K.getDuration():0,qt=()=>void 0!==Ae?Ae:K?K.getIterations():1,_n=()=>void 0!==me?me:void 0!==Me?Me:K?K.getDelay():0,It=()=>{0!==xt&&(xt--,0===xt&&((()=>{De(),Zt.forEach(Le=>Le()),Dn.forEach(Le=>Le());const At=ct?1:0,H=Ge,Y=qe,ze=Nt;jt.forEach(Le=>{const st=Le.classList;H.forEach(Pt=>st.add(Pt)),Y.forEach(Pt=>st.remove(Pt));for(const Pt in ze)ze.hasOwnProperty(Pt)&&ie(Le,Pt,ze[Pt])}),Te=void 0,ve=void 0,me=void 0,Gt.forEach(Le=>Le.c(At,tt)),Bt.forEach(Le=>Le.c(At,tt)),Bt.length=0,We=!0,ct&&(Ie=!0),ct=!0})(),K&&K.animationFinish()))},gt=(At=!0)=>{Pn();const H=(Re=>(Re.forEach(Me=>{for(const Oe in Me)if(Me.hasOwnProperty(Oe)){const dt=Me[Oe];if("easing"===Oe)Me["animation-timing-function"]=dt,delete Me[Oe];else{const Ae=Ee(Oe);Ae!==Oe&&(Me[Ae]=dt,delete Me[Oe])}}}),Re))(He);jt.forEach(Y=>{if(H.length>0){const ze=((Re=[])=>Re.map(Me=>{const Oe=Me.offset,dt=[];for(const Ae in Me)Me.hasOwnProperty(Ae)&&"offset"!==Ae&&dt.push(`${Ae}: ${Me[Ae]};`);return`${100*Oe}% { ${dt.join(" ")} }`}).join(" "))(H);Be=void 0!==Re?Re:(Re=>{let Me=X.indexOf(Re);return Me<0&&(Me=X.push(Re)-1),`ion-animation-${Me}`})(ze);const Le=((Re,Me,Oe)=>{var dt;const Ae=(Re=>{const Me=void 0!==Re.getRootNode?Re.getRootNode():Re;return Me.head||Me})(Oe),Ve=oe(Oe),xe=Ae.querySelector("#"+Re);if(xe)return xe;const He=(null!==(dt=Oe.ownerDocument)&&void 0!==dt?dt:document).createElement("style");return He.id=Re,He.textContent=`@${Ve}keyframes ${Re} { ${Me} } @${Ve}keyframes ${Re}-alt { ${Me} }`,Ae.appendChild(He),He})(Be,ze,Y);ut.push(Le),ie(Y,"animation-duration",`${et()}ms`),ie(Y,"animation-timing-function",mt()),ie(Y,"animation-delay",`${_n()}ms`),ie(Y,"animation-fill-mode",de()),ie(Y,"animation-direction",Pe());const st=qt()===1/0?"infinite":qt().toString();ie(Y,"animation-iteration-count",st),ie(Y,"animation-play-state","paused"),At&&ie(Y,"animation-name",`${Le.id}-alt`),(0,k.r)(()=>{ie(Y,"animation-name",Le.id||null)})}})},dn=(At=!0)=>{(()=>{lt.forEach(ze=>ze()),vt.forEach(ze=>ze());const At=$,H=F,Y=be;jt.forEach(ze=>{const Le=ze.classList;At.forEach(st=>Le.add(st)),H.forEach(st=>Le.remove(st));for(const st in Y)Y.hasOwnProperty(st)&&ie(ze,st,Y[st])})})(),He.length>0&&(ln?(jt.forEach(At=>{const H=At.animate(He,{id:ft,delay:_n(),duration:et(),easing:mt(),iterations:qt(),fill:de(),direction:Pe()});H.pause(),vn.push(H)}),vn.length>0&&(vn[0].onfinish=()=>{It()})):gt(At)),ne=!0},bn=At=>{if(At=Math.min(Math.max(At,0),.9999),ln)vn.forEach(H=>{H.currentTime=H.effect.getComputedTiming().delay+et()*At,H.pause()});else{const H=`-${et()*At}ms`;jt.forEach(Y=>{He.length>0&&(ie(Y,"animation-delay",H),ie(Y,"animation-play-state","paused"))})}},$n=At=>{vn.forEach(H=>{H.effect.updateTiming({delay:_n(),duration:et(),easing:mt(),iterations:qt(),fill:de(),direction:Pe()})}),void 0!==At&&bn(At)},Bn=(At=!0,H)=>{(0,k.r)(()=>{jt.forEach(Y=>{ie(Y,"animation-name",Be||null),ie(Y,"animation-duration",`${et()}ms`),ie(Y,"animation-timing-function",mt()),ie(Y,"animation-delay",void 0!==H?`-${H*et()}ms`:`${_n()}ms`),ie(Y,"animation-fill-mode",de()||null),ie(Y,"animation-direction",Pe()||null);const ze=qt()===1/0?"infinite":qt().toString();ie(Y,"animation-iteration-count",ze),At&&ie(Y,"animation-name",`${Be}-alt`),(0,k.r)(()=>{ie(Y,"animation-name",Be||null)})})})},zn=(At=!1,H=!0,Y)=>(At&&yt.forEach(ze=>{ze.update(At,H,Y)}),ln?$n(Y):Bn(H,Y),tt),rr=()=>{ne&&(ln?vn.forEach(At=>{At.pause()}):jt.forEach(At=>{ie(At,"animation-play-state","paused")}),$e=!0)},pe=()=>{fe=void 0,It()},De=()=>{fe&&clearTimeout(fe)},sn=At=>new Promise(H=>{null!=At&&At.sync&&(Ye=!0,Or(()=>Ye=!1,{oneTimeCallback:!0})),ne||dn(),Ie&&(ln?(bn(0),$n()):Bn(),Ie=!1),We&&(xt=yt.length+1,We=!1);const Y=()=>{On(ze,Bt),H()},ze=()=>{On(Y,Yt),H()};Or(ze,{oneTimeCallback:!0}),((At,H)=>{Yt.push({c:At,o:{oneTimeCallback:!0}})})(Y),yt.forEach(Le=>{Le.play()}),ln?(vn.forEach(At=>{At.play()}),(0===He.length||0===jt.length)&&It()):(()=>{if(De(),(0,k.r)(()=>{jt.forEach(At=>{He.length>0&&ie(At,"animation-play-state","running")})}),0===He.length||0===jt.length)It();else{const At=_n()||0,H=et()||0,Y=qt()||1;isFinite(Y)&&(fe=setTimeout(pe,At+H*Y+100)),((Re,Me)=>{let Oe;const dt={passive:!0},Ve=xe=>{Re===xe.target&&(Oe&&Oe(),De(),(0,k.r)(()=>{jt.forEach(At=>{je(At,"animation-duration"),je(At,"animation-delay"),je(At,"animation-play-state")}),(0,k.r)(It)}))};Re&&(Re.addEventListener("webkitAnimationEnd",Ve,dt),Re.addEventListener("animationend",Ve,dt),Oe=()=>{Re.removeEventListener("webkitAnimationEnd",Ve,dt),Re.removeEventListener("animationend",Ve,dt)})})(jt[0])}})(),$e=!1}),An=(At,H)=>{const Y=He[0];return void 0===Y||void 0!==Y.offset&&0!==Y.offset?He=[{offset:0,[At]:H},...He]:Y[At]=H,tt};return tt={parentAnimation:K,elements:jt,childAnimations:yt,id:ft,animationFinish:It,from:An,to:(At,H)=>{const Y=He[He.length-1];return void 0===Y||void 0!==Y.offset&&1!==Y.offset?He=[...He,{offset:1,[At]:H}]:Y[At]=H,tt},fromTo:(At,H,Y)=>An(At,H).to(At,Y),parent:At=>(K=At,tt),play:sn,pause:()=>(yt.forEach(At=>{At.pause()}),rr(),tt),stop:()=>{yt.forEach(At=>{At.stop()}),ne&&(kr(),ne=!1),bt=!1,Ye=!1,We=!0,ve=void 0,Te=void 0,me=void 0,xt=0,Ie=!1,ct=!0,$e=!1,Yt.forEach(At=>At.c(0,tt)),Yt.length=0},destroy:At=>(yt.forEach(H=>{H.destroy(At)}),(At=>{kr(),At&&Pn()})(At),jt.length=0,yt.length=0,He.length=0,Gt.length=0,Bt.length=0,ne=!1,We=!0,tt),keyframes:At=>{const H=He!==At;return He=At,H&&(At=>{ln?un().forEach(H=>{const Y=H.effect;if(Y.setKeyframes)Y.setKeyframes(At);else{const ze=new KeyframeEffect(Y.target,At,Y.getTiming());H.effect=ze}}):gt()})(He),tt},addAnimation:At=>{if(null!=At)if(Array.isArray(At))for(const H of At)H.parent(tt),yt.push(H);else At.parent(tt),yt.push(At);return tt},addElement:At=>{if(null!=At)if(1===At.nodeType)jt.push(At);else if(At.length>=0)for(let H=0;H<At.length;H++)jt.push(At[H]);else console.error("Invalid addElement value");return tt},update:zn,fill:At=>(Ve=At,zn(!0),tt),direction:At=>(xe=At,zn(!0),tt),iterations:At=>(Ae=At,zn(!0),tt),duration:At=>(!ln&&0===At&&(At=1),Oe=At,zn(!0),tt),easing:At=>(dt=At,zn(!0),tt),delay:At=>(Me=At,zn(!0),tt),getWebAnimations:un,getKeyframes:()=>He,getFill:de,getDirection:Pe,getDelay:_n,getIterations:qt,getEasing:mt,getDuration:et,afterAddRead:At=>(Zt.push(At),tt),afterAddWrite:At=>(Dn.push(At),tt),afterClearStyles:(At=[])=>{for(const H of At)Nt[H]="";return tt},afterStyles:(At={})=>(Nt=At,tt),afterRemoveClass:At=>(qe=Ce(qe,At),tt),afterAddClass:At=>(Ge=Ce(Ge,At),tt),beforeAddRead:At=>(lt.push(At),tt),beforeAddWrite:At=>(vt.push(At),tt),beforeClearStyles:(At=[])=>{for(const H of At)be[H]="";return tt},beforeStyles:(At={})=>(be=At,tt),beforeRemoveClass:At=>(F=Ce(F,At),tt),beforeAddClass:At=>($=Ce($,At),tt),onFinish:Or,isRunning:()=>0!==xt&&!$e,progressStart:(At=!1,H)=>(yt.forEach(Y=>{Y.progressStart(At,H)}),rr(),bt=At,ne||dn(),zn(!1,!0,H),tt),progressStep:At=>(yt.forEach(H=>{H.progressStep(At)}),bn(At),tt),progressEnd:(At,H,Y)=>(bt=!1,yt.forEach(ze=>{ze.progressEnd(At,H,Y)}),void 0!==Y&&(Te=Y),Ie=!1,ct=!0,0===At?(ve="reverse"===Pe()?"normal":"reverse","reverse"===ve&&(ct=!1),ln?(zn(),bn(1-H)):(me=(1-H)*et()*-1,zn(!1,!1))):1===At&&(ln?(zn(),bn(H)):(me=H*et()*-1,zn(!1,!1))),void 0!==At&&!K&&sn(),tt)}}},464:(rn,ot,S)=>{"use strict";S.d(ot,{E:()=>ye,a:()=>l,s:()=>je});const l=X=>{try{if(X instanceof ie)return X.value;if(!G()||"string"!=typeof X||""===X)return X;if(X.includes("onload="))return"";const Ne=document.createDocumentFragment(),Ue=document.createElement("div");Ne.appendChild(Ue),Ue.innerHTML=X,oe.forEach(Re=>{const Me=Ne.querySelectorAll(Re);for(let Oe=Me.length-1;Oe>=0;Oe--){const dt=Me[Oe];dt.parentNode?dt.parentNode.removeChild(dt):Ne.removeChild(dt);const Ae=ae(dt);for(let Ve=0;Ve<Ae.length;Ve++)k(Ae[Ve])}});const Fe=ae(Ne);for(let Re=0;Re<Fe.length;Re++)k(Fe[Re]);const Ce=document.createElement("div");Ce.appendChild(Ne);const Xe=Ce.querySelector("div");return null!==Xe?Xe.innerHTML:Ce.innerHTML}catch(Ne){return console.error(Ne),""}},k=X=>{if(X.nodeType&&1!==X.nodeType)return;if(typeof NamedNodeMap<"u"&&!(X.attributes instanceof NamedNodeMap))return void X.remove();for(let Ue=X.attributes.length-1;Ue>=0;Ue--){const Fe=X.attributes.item(Ue),Ce=Fe.name;if(!Ee.includes(Ce.toLowerCase())){X.removeAttribute(Ce);continue}const Xe=Fe.value,Re=X[Ce];(null!=Xe&&Xe.toLowerCase().includes("javascript:")||null!=Re&&Re.toLowerCase().includes("javascript:"))&&X.removeAttribute(Ce)}const Ne=ae(X);for(let Ue=0;Ue<Ne.length;Ue++)k(Ne[Ue])},ae=X=>null!=X.children?X.children:X.childNodes,G=()=>{var X;const Ne=window,Ue=null===(X=null==Ne?void 0:Ne.Ionic)||void 0===X?void 0:X.config;return!Ue||(Ue.get?Ue.get("sanitizerEnabled",!0):!0===Ue.sanitizerEnabled||void 0===Ue.sanitizerEnabled)},Ee=["class","id","href","src","name","slot"],oe=["script","style","iframe","meta","link","object","embed"];class ie{constructor(Ne){this.value=Ne}}const je=X=>{const Ne=window,Ue=Ne.Ionic;if(!Ue||!Ue.config||"Object"===Ue.config.constructor.name)return Ne.Ionic=Ne.Ionic||{},Ne.Ionic.config=Object.assign(Object.assign({},Ne.Ionic.config),X),Ne.Ionic.config},ye=!1},5938:(rn,ot,S)=>{"use strict";S.d(ot,{C:()=>Ee,a:()=>ae,d:()=>G});var l=S(467),k=S(5638);const ae=function(){var oe=(0,l.A)(function*(ie,je,ce,ye,X,Ne){var Ue;if(ie)return ie.attachViewToDom(je,ce,X,ye);if(!(Ne||"string"==typeof ce||ce instanceof HTMLElement))throw new Error("framework delegate is missing");const Fe="string"==typeof ce?null===(Ue=je.ownerDocument)||void 0===Ue?void 0:Ue.createElement(ce):ce;return ye&&ye.forEach(Ce=>Fe.classList.add(Ce)),X&&Object.assign(Fe,X),je.appendChild(Fe),yield new Promise(Ce=>(0,k.c)(Fe,Ce)),Fe});return function(je,ce,ye,X,Ne,Ue){return oe.apply(this,arguments)}}(),G=(oe,ie)=>{if(ie){if(oe)return oe.removeViewFromDom(ie.parentElement,ie);ie.remove()}return Promise.resolve()},Ee=()=>{let oe,ie;return{attachViewToDom:function(){var ye=(0,l.A)(function*(X,Ne,Ue={},Fe=[]){var Ce,Xe;let Re;if(oe=X,Ne){const Oe="string"==typeof Ne?null===(Ce=oe.ownerDocument)||void 0===Ce?void 0:Ce.createElement(Ne):Ne;Fe.forEach(dt=>Oe.classList.add(dt)),Object.assign(Oe,Ue),oe.appendChild(Oe),Re=Oe,yield new Promise(dt=>(0,k.c)(Oe,dt))}else if(oe.children.length>0&&("ION-MODAL"===oe.tagName||"ION-POPOVER"===oe.tagName)&&!(Re=oe.children[0]).classList.contains("ion-delegate-host")){const dt=null===(Xe=oe.ownerDocument)||void 0===Xe?void 0:Xe.createElement("div");dt.classList.add("ion-delegate-host"),Fe.forEach(Ae=>dt.classList.add(Ae)),dt.append(...oe.children),oe.appendChild(dt),Re=dt}const Me=document.querySelector("ion-app")||document.body;return ie=document.createComment("ionic teleport"),oe.parentNode.insertBefore(ie,oe),Me.appendChild(oe),null!=Re?Re:oe});return function(Ne,Ue){return ye.apply(this,arguments)}}(),removeViewFromDom:()=>(oe&&ie&&(ie.parentNode.insertBefore(oe,ie),ie.remove()),Promise.resolve())}}},8221:(rn,ot,S)=>{"use strict";S.d(ot,{G:()=>Ee});class k{constructor(ie,je,ce,ye,X){this.id=je,this.name=ce,this.disableScroll=X,this.priority=1e6*ye+je,this.ctrl=ie}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ie=this.ctrl.capture(this.name,this.id,this.priority);return ie&&this.disableScroll&&this.ctrl.disableScroll(this.id),ie}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ae{constructor(ie,je,ce,ye){this.id=je,this.disable=ce,this.disableScroll=ye,this.ctrl=ie}block(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.disableGesture(ie,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.enableGesture(ie,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const G="backdrop-no-scroll",Ee=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ie){var je;return new k(this,this.newID(),ie.name,null!==(je=ie.priority)&&void 0!==je?je:0,!!ie.disableScroll)}createBlocker(ie={}){return new ae(this,this.newID(),ie.disable,!!ie.disableScroll)}start(ie,je,ce){return this.canStart(ie)?(this.requestedStart.set(je,ce),!0):(this.requestedStart.delete(je),!1)}capture(ie,je,ce){if(!this.start(ie,je,ce))return!1;const ye=this.requestedStart;let X=-1e4;if(ye.forEach(Ne=>{X=Math.max(X,Ne)}),X===ce){this.capturedId=je,ye.clear();const Ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ie}});return document.dispatchEvent(Ne),!0}return ye.delete(je),!1}release(ie){this.requestedStart.delete(ie),this.capturedId===ie&&(this.capturedId=void 0)}disableGesture(ie,je){let ce=this.disabledGestures.get(ie);void 0===ce&&(ce=new Set,this.disabledGestures.set(ie,ce)),ce.add(je)}enableGesture(ie,je){const ce=this.disabledGestures.get(ie);void 0!==ce&&ce.delete(je)}disableScroll(ie){this.disabledScroll.add(ie),1===this.disabledScroll.size&&document.body.classList.add(G)}enableScroll(ie){this.disabledScroll.delete(ie),0===this.disabledScroll.size&&document.body.classList.remove(G)}canStart(ie){return!(void 0!==this.capturedId||this.isDisabled(ie))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ie){const je=this.disabledGestures.get(ie);return!!(je&&je.size>0)}newID(){return this.gestureId++,this.gestureId}}},9457:(rn,ot,S)=>{"use strict";S.r(ot),S.d(ot,{MENU_BACK_BUTTON_PRIORITY:()=>ce,OVERLAY_BACK_BUTTON_PRIORITY:()=>je,blockHardwareBackButton:()=>oe,shouldUseCloseWatcher:()=>Ee,startHardwareBackButton:()=>ie});var l=S(467),k=S(8476),ae=S(8436);S(9081);const Ee=()=>ae.c.get("experimentalCloseWatcher",!1)&&void 0!==k.w&&"CloseWatcher"in k.w,oe=()=>{document.addEventListener("backbutton",()=>{})},ie=()=>{const ye=document;let X=!1;const Ne=()=>{if(X)return;let Ue=0,Fe=[];const Ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Me,Oe){Fe.push({priority:Me,handler:Oe,id:Ue++})}}});ye.dispatchEvent(Ce);const Xe=function(){var Me=(0,l.A)(function*(Oe){try{if(null!=Oe&&Oe.handler){const dt=Oe.handler(Re);null!=dt&&(yield dt)}}catch(dt){console.error(dt)}});return function(dt){return Me.apply(this,arguments)}}(),Re=()=>{if(Fe.length>0){let Me={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Fe.forEach(Oe=>{Oe.priority>=Me.priority&&(Me=Oe)}),X=!0,Fe=Fe.filter(Oe=>Oe.id!==Me.id),Xe(Me).then(()=>X=!1)}};Re()};if(Ee()){let Ue;const Fe=()=>{null==Ue||Ue.destroy(),Ue=new k.w.CloseWatcher,Ue.onclose=()=>{Ne(),Fe()}};Fe()}else ye.addEventListener("backbutton",Ne)},je=100,ce=99},5638:(rn,ot,S)=>{"use strict";S.d(ot,{a:()=>je,b:()=>ce,c:()=>ae,d:()=>Xe,e:()=>Ce,f:()=>Fe,g:()=>ye,h:()=>Ue,i:()=>ie,j:()=>Ve,k:()=>Ee,l:()=>Re,m:()=>G,n:()=>Ne,o:()=>Me,p:()=>Ae,q:()=>xe,r:()=>X,s:()=>He,t:()=>l,u:()=>Oe,v:()=>dt});const l=($,F=0)=>new Promise(ne=>{k($,F,ne)}),k=($,F=0,ne)=>{let K,be;const Ge={passive:!0},Nt=()=>{K&&K()},xt=bt=>{(void 0===bt||$===bt.target)&&(Nt(),ne(bt))};return $&&($.addEventListener("webkitTransitionEnd",xt,Ge),$.addEventListener("transitionend",xt,Ge),be=setTimeout(xt,F+500),K=()=>{void 0!==be&&(clearTimeout(be),be=void 0),$.removeEventListener("webkitTransitionEnd",xt,Ge),$.removeEventListener("transitionend",xt,Ge)}),Nt},ae=($,F)=>{$.componentOnReady?$.componentOnReady().then(ne=>F(ne)):X(()=>F($))},G=$=>void 0!==$.componentOnReady,Ee=($,F=[])=>{const ne={};return F.forEach(K=>{$.hasAttribute(K)&&(null!==$.getAttribute(K)&&(ne[K]=$.getAttribute(K)),$.removeAttribute(K))}),ne},oe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ie=($,F)=>{let ne=oe;return F&&F.length>0&&(ne=ne.filter(K=>!F.includes(K))),Ee($,ne)},je=($,F,ne,K)=>{var be;if(typeof window<"u"){const Ge=window,qe=null===(be=null==Ge?void 0:Ge.Ionic)||void 0===be?void 0:be.config;if(qe){const Nt=qe.get("_ael");if(Nt)return Nt($,F,ne,K);if(qe._ael)return qe._ael($,F,ne,K)}}return $.addEventListener(F,ne,K)},ce=($,F,ne,K)=>{var be;if(typeof window<"u"){const Ge=window,qe=null===(be=null==Ge?void 0:Ge.Ionic)||void 0===be?void 0:be.config;if(qe){const Nt=qe.get("_rel");if(Nt)return Nt($,F,ne,K);if(qe._rel)return qe._rel($,F,ne,K)}}return $.removeEventListener(F,ne,K)},ye=($,F=$)=>$.shadowRoot||F,X=$=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame($):"function"==typeof requestAnimationFrame?requestAnimationFrame($):setTimeout($),Ne=$=>!!$.shadowRoot&&!!$.attachShadow,Ue=$=>{const F=$.closest("ion-item");return F?F.querySelector("ion-label"):null},Fe=$=>{if($.focus(),$.classList.contains("ion-focusable")){const F=$.closest("ion-app");F&&F.setFocus([$])}},Ce=($,F)=>{let ne;const K=$.getAttribute("aria-labelledby"),be=$.id;let Ge=null!==K&&""!==K.trim()?K:F+"-lbl",qe=null!==K&&""!==K.trim()?document.getElementById(K):Ue($);return qe?(null===K&&(qe.id=Ge),ne=qe.textContent,qe.setAttribute("aria-hidden","true")):""!==be.trim()&&(qe=document.querySelector(`label[for="${be}"]`),qe&&(""!==qe.id?Ge=qe.id:qe.id=Ge=`${be}-lbl`,ne=qe.textContent)),{label:qe,labelId:Ge,labelText:ne}},Xe=($,F,ne,K,be)=>{if($||Ne(F)){let Ge=F.querySelector("input.aux-input");Ge||(Ge=F.ownerDocument.createElement("input"),Ge.type="hidden",Ge.classList.add("aux-input"),F.appendChild(Ge)),Ge.disabled=be,Ge.name=ne,Ge.value=K||""}},Re=($,F,ne)=>Math.max($,Math.min(F,ne)),Me=($,F)=>{if(!$){const ne="ASSERT: "+F;throw console.error(ne),new Error(ne)}},Oe=$=>$.timeStamp||Date.now(),dt=$=>{if($){const F=$.changedTouches;if(F&&F.length>0){const ne=F[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==$.pageX)return{x:$.pageX,y:$.pageY}}return{x:0,y:0}},Ae=$=>{const F="rtl"===document.dir;switch($){case"start":return F;case"end":return!F;default:throw new Error(`"${$}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=($,F)=>{const ne=$._original||$;return{_original:$,emit:xe(ne.emit.bind(ne),F)}},xe=($,F=0)=>{let ne;return(...K)=>{clearTimeout(ne),ne=setTimeout($,F,...K)}},He=($,F)=>{if(null!=$||($={}),null!=F||(F={}),$===F)return!0;const ne=Object.keys($);if(ne.length!==Object.keys(F).length)return!1;for(const K of ne)if(!(K in F)||$[K]!==F[K])return!1;return!0}},405:(rn,ot,S)=>{"use strict";S.r(ot),S.d(ot,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ce});var l=S(8221);const k=(Ue,Fe,Ce,Xe)=>{const Re=ae(Ue)?{capture:!!Xe.capture,passive:!!Xe.passive}:!!Xe.capture;let Me,Oe;return Ue.__zone_symbol__addEventListener?(Me="__zone_symbol__addEventListener",Oe="__zone_symbol__removeEventListener"):(Me="addEventListener",Oe="removeEventListener"),Ue[Me](Fe,Ce,Re),()=>{Ue[Oe](Fe,Ce,Re)}},ae=Ue=>{if(void 0===G)try{const Fe=Object.defineProperty({},"passive",{get:()=>{G=!0}});Ue.addEventListener("optsTest",()=>{},Fe)}catch{G=!1}return!!G};let G;const ie=Ue=>Ue instanceof Document?Ue:Ue.ownerDocument,ce=Ue=>{let Fe=!1,Ce=!1,Xe=!0,Re=!1;const Me=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ue),Oe=Me.canStart,dt=Me.onWillStart,Ae=Me.onStart,Ve=Me.onEnd,xe=Me.notCaptured,He=Me.onMove,$=Me.threshold,F=Me.passive,ne=Me.blurOnStart,K={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},be=((Ue,Fe,Ce)=>{const Xe=Ce*(Math.PI/180),Re="x"===Ue,Me=Math.cos(Xe),Oe=Fe*Fe;let dt=0,Ae=0,Ve=!1,xe=0;return{start(He,$){dt=He,Ae=$,xe=0,Ve=!0},detect(He,$){if(!Ve)return!1;const F=He-dt,ne=$-Ae,K=F*F+ne*ne;if(K<Oe)return!1;const be=Math.sqrt(K),Ge=(Re?F:ne)/be;return xe=Ge>Me?1:Ge<-Me?-1:0,Ve=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(Me.direction,Me.threshold,Me.maxAngle),Ge=l.G.createGesture({name:Ue.gestureName,priority:Ue.gesturePriority,disableScroll:Ue.disableScroll}),xt=()=>{Fe&&(Re=!1,He&&He(K))},bt=()=>!!Ge.capture()&&(Fe=!0,Xe=!1,K.startX=K.currentX,K.startY=K.currentY,K.startTime=K.currentTime,dt?dt(K).then(fe):fe(),!0),fe=()=>{ne&&(()=>{if(typeof document<"u"){const Ie=document.activeElement;null!=Ie&&Ie.blur&&Ie.blur()}})(),Ae&&Ae(K),Xe=!0},ve=()=>{Fe=!1,Ce=!1,Re=!1,Xe=!0,Ge.release()},Te=Ie=>{const We=Fe,Be=Xe;if(ve(),Be){if(ye(K,Ie),We)return void(Ve&&Ve(K));xe&&xe(K)}},me=((Ue,Fe,Ce,Xe,Re)=>{let Me,Oe,dt,Ae,Ve,xe,He,$=0;const F=Ye=>{$=Date.now()+2e3,Fe(Ye)&&(!Oe&&Ce&&(Oe=k(Ue,"touchmove",Ce,Re)),dt||(dt=k(Ye.target,"touchend",K,Re)),Ae||(Ae=k(Ye.target,"touchcancel",K,Re)))},ne=Ye=>{$>Date.now()||Fe(Ye)&&(!xe&&Ce&&(xe=k(ie(Ue),"mousemove",Ce,Re)),He||(He=k(ie(Ue),"mouseup",be,Re)))},K=Ye=>{Ge(),Xe&&Xe(Ye)},be=Ye=>{qe(),Xe&&Xe(Ye)},Ge=()=>{Oe&&Oe(),dt&&dt(),Ae&&Ae(),Oe=dt=Ae=void 0},qe=()=>{xe&&xe(),He&&He(),xe=He=void 0},Nt=()=>{Ge(),qe()},xt=(Ye=!0)=>{Ye?(Me||(Me=k(Ue,"touchstart",F,Re)),Ve||(Ve=k(Ue,"mousedown",ne,Re))):(Me&&Me(),Ve&&Ve(),Me=Ve=void 0,Nt())};return{enable:xt,stop:Nt,destroy:()=>{xt(!1),Xe=Ce=Fe=void 0}}})(Me.el,Ie=>{const We=Ne(Ie);return!(Ce||!Xe||(X(Ie,K),K.startX=K.currentX,K.startY=K.currentY,K.startTime=K.currentTime=We,K.velocityX=K.velocityY=K.deltaX=K.deltaY=0,K.event=Ie,Oe&&!1===Oe(K))||(Ge.release(),!Ge.start()))&&(Ce=!0,0===$?bt():(be.start(K.startX,K.startY),!0))},Ie=>{Fe?!Re&&Xe&&(Re=!0,ye(K,Ie),requestAnimationFrame(xt)):(ye(K,Ie),be.detect(K.currentX,K.currentY)&&(!be.isGesture()||!bt())&&ct())},Te,{capture:!1,passive:F}),ct=()=>{ve(),me.stop(),xe&&xe(K)};return{enable(Ie=!0){Ie||(Fe&&Te(void 0),ve()),me.enable(Ie)},destroy(){Ge.destroy(),me.destroy()}}},ye=(Ue,Fe)=>{if(!Fe)return;const Ce=Ue.currentX,Xe=Ue.currentY,Re=Ue.currentTime;X(Fe,Ue);const Me=Ue.currentX,Oe=Ue.currentY,Ae=(Ue.currentTime=Ne(Fe))-Re;if(Ae>0&&Ae<100){const xe=(Oe-Xe)/Ae;Ue.velocityX=(Me-Ce)/Ae*.7+.3*Ue.velocityX,Ue.velocityY=.7*xe+.3*Ue.velocityY}Ue.deltaX=Me-Ue.startX,Ue.deltaY=Oe-Ue.startY,Ue.event=Fe},X=(Ue,Fe)=>{let Ce=0,Xe=0;if(Ue){const Re=Ue.changedTouches;if(Re&&Re.length>0){const Me=Re[0];Ce=Me.clientX,Xe=Me.clientY}else void 0!==Ue.pageX&&(Ce=Ue.pageX,Xe=Ue.pageY)}Fe.currentX=Ce,Fe.currentY=Xe},Ne=Ue=>Ue.timeStamp||Date.now()},7818:(rn,ot,S)=>{"use strict";S.d(ot,{m:()=>Ue});var l=S(467),k=S(8476),ae=S(9457),G=S(4929),Ee=S(5638),oe=S(8436),ie=S(3503);const je=Fe=>(0,ie.c)().duration(Fe?400:300),ce=Fe=>{let Ce,Xe;const Re=Fe.width+8,Me=(0,ie.c)(),Oe=(0,ie.c)();Fe.isEndSide?(Ce=Re+"px",Xe="0px"):(Ce=-Re+"px",Xe="0px"),Me.addElement(Fe.menuInnerEl).fromTo("transform",`translateX(${Ce})`,`translateX(${Xe})`);const Ae="ios"===(0,oe.b)(Fe),Ve=Ae?.2:.25;return Oe.addElement(Fe.backdropEl).fromTo("opacity",.01,Ve),je(Ae).addAnimation([Me,Oe])},ye=Fe=>{let Ce,Xe;const Re=(0,oe.b)(Fe),Me=Fe.width;Fe.isEndSide?(Ce=-Me+"px",Xe=Me+"px"):(Ce=Me+"px",Xe=-Me+"px");const Oe=(0,ie.c)().addElement(Fe.menuInnerEl).fromTo("transform",`translateX(${Xe})`,"translateX(0px)"),dt=(0,ie.c)().addElement(Fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ce})`),Ae=(0,ie.c)().addElement(Fe.backdropEl).fromTo("opacity",.01,.32);return je("ios"===Re).addAnimation([Oe,dt,Ae])},X=Fe=>{const Ce=(0,oe.b)(Fe),Xe=Fe.width*(Fe.isEndSide?-1:1)+"px",Re=(0,ie.c)().addElement(Fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Xe})`);return je("ios"===Ce).addAnimation(Re)},Ue=(()=>{const Fe=new Map,Ce=[],Xe=function(){var ve=(0,l.A)(function*(Te){const me=yield xe(Te,!0);return!!me&&me.open()});return function(me){return ve.apply(this,arguments)}}(),Re=function(){var ve=(0,l.A)(function*(Te){const me=yield void 0!==Te?xe(Te,!0):He();return void 0!==me&&me.close()});return function(me){return ve.apply(this,arguments)}}(),Me=function(){var ve=(0,l.A)(function*(Te){const me=yield xe(Te,!0);return!!me&&me.toggle()});return function(me){return ve.apply(this,arguments)}}(),Oe=function(){var ve=(0,l.A)(function*(Te,me){const ct=yield xe(me);return ct&&(ct.disabled=!Te),ct});return function(me,ct){return ve.apply(this,arguments)}}(),dt=function(){var ve=(0,l.A)(function*(Te,me){const ct=yield xe(me);return ct&&(ct.swipeGesture=Te),ct});return function(me,ct){return ve.apply(this,arguments)}}(),Ae=function(){var ve=(0,l.A)(function*(Te){if(null!=Te){const me=yield xe(Te);return void 0!==me&&me.isOpen()}return void 0!==(yield He())});return function(me){return ve.apply(this,arguments)}}(),Ve=function(){var ve=(0,l.A)(function*(Te){const me=yield xe(Te);return!!me&&!me.disabled});return function(me){return ve.apply(this,arguments)}}(),xe=function(){var ve=(0,l.A)(function*(Te,me=!1){if(yield fe(),"start"===Te||"end"===Te){const Ie=Ce.filter(Be=>Be.side===Te&&!Be.disabled);if(Ie.length>=1)return Ie.length>1&&me&&(0,G.p)(`menuController queried for a menu on the "${Te}" side, but ${Ie.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ie.map(Be=>Be.el)),Ie[0].el;const We=Ce.filter(Be=>Be.side===Te);if(We.length>=1)return We.length>1&&me&&(0,G.p)(`menuController queried for a menu on the "${Te}" side, but ${We.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,We.map(Be=>Be.el)),We[0].el}else if(null!=Te)return Ye(Ie=>Ie.menuId===Te);return Ye(Ie=>!Ie.disabled)||(Ce.length>0?Ce[0].el:void 0)});return function(me){return ve.apply(this,arguments)}}(),He=function(){var ve=(0,l.A)(function*(){return yield fe(),Nt()});return function(){return ve.apply(this,arguments)}}(),$=function(){var ve=(0,l.A)(function*(){return yield fe(),xt()});return function(){return ve.apply(this,arguments)}}(),F=function(){var ve=(0,l.A)(function*(){return yield fe(),bt()});return function(){return ve.apply(this,arguments)}}(),ne=(ve,Te)=>{Fe.set(ve,Te)},Ge=function(){var ve=(0,l.A)(function*(Te,me,ct){if(bt())return!1;if(me){const Ie=yield He();Ie&&Te.el!==Ie&&(yield Ie.setOpen(!1,!1))}return Te._setOpen(me,ct)});return function(me,ct,Ie){return ve.apply(this,arguments)}}(),Nt=()=>Ye(ve=>ve._isOpen),xt=()=>Ce.map(ve=>ve.el),bt=()=>Ce.some(ve=>ve.isAnimating),Ye=ve=>{const Te=Ce.find(ve);if(void 0!==Te)return Te.el},fe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ve=>new Promise(Te=>(0,Ee.c)(ve,Te))));return ne("reveal",X),ne("push",ye),ne("overlay",ce),null==k.d||k.d.addEventListener("ionBackButton",ve=>{const Te=Nt();Te&&ve.detail.register(ae.MENU_BACK_BUTTON_PRIORITY,()=>Te.close())}),{registerAnimation:ne,get:xe,getMenus:$,getOpen:He,isEnabled:Ve,swipeGesture:dt,isAnimating:F,isOpen:Ae,enable:Oe,toggle:Me,close:Re,open:Xe,_getOpenSync:Nt,_createAnimation:(ve,Te)=>{const me=Fe.get(ve);if(!me)throw new Error("animation not registered");return me(Te)},_register:ve=>{Ce.indexOf(ve)<0&&Ce.push(ve)},_unregister:ve=>{const Te=Ce.indexOf(ve);Te>-1&&Ce.splice(Te,1)},_setOpen:Ge}})()},1497:(rn,ot,S)=>{"use strict";S.d(ot,{b:()=>oe,c:()=>ie,d:()=>je,e:()=>$,g:()=>K,l:()=>xe,s:()=>F,t:()=>X,w:()=>He});var l=S(467),k=S(9081),ae=S(5638);const oe="ionViewWillLeave",ie="ionViewDidLeave",je="ionViewWillUnload",X=be=>new Promise((Ge,qe)=>{(0,k.w)(()=>{Ne(be),Ue(be).then(Nt=>{Nt.animation&&Nt.animation.destroy(),Fe(be),Ge(Nt)},Nt=>{Fe(be),qe(Nt)})})}),Ne=be=>{const Ge=be.enteringEl,qe=be.leavingEl;ne(Ge,qe,be.direction),be.showGoBack?Ge.classList.add("can-go-back"):Ge.classList.remove("can-go-back"),F(Ge,!1),Ge.style.setProperty("pointer-events","none"),qe&&(F(qe,!1),qe.style.setProperty("pointer-events","none"))},Ue=function(){var be=(0,l.A)(function*(Ge){const qe=yield Ce(Ge);return qe&&k.B.isBrowser?Xe(qe,Ge):Re(Ge)});return function(qe){return be.apply(this,arguments)}}(),Fe=be=>{const Ge=be.enteringEl,qe=be.leavingEl;Ge.classList.remove("ion-page-invisible"),Ge.style.removeProperty("pointer-events"),void 0!==qe&&(qe.classList.remove("ion-page-invisible"),qe.style.removeProperty("pointer-events"))},Ce=function(){var be=(0,l.A)(function*(Ge){return Ge.leavingEl&&Ge.animated&&0!==Ge.duration?Ge.animationBuilder?Ge.animationBuilder:"ios"===Ge.mode?(yield Promise.resolve().then(S.bind(S,2604))).iosTransitionAnimation:(yield Promise.resolve().then(S.bind(S,3003))).mdTransitionAnimation:void 0});return function(qe){return be.apply(this,arguments)}}(),Xe=function(){var be=(0,l.A)(function*(Ge,qe){yield Me(qe,!0);const Nt=Ge(qe.baseEl,qe);Ae(qe.enteringEl,qe.leavingEl);const xt=yield dt(Nt,qe);return qe.progressCallback&&qe.progressCallback(void 0),xt&&Ve(qe.enteringEl,qe.leavingEl),{hasCompleted:xt,animation:Nt}});return function(qe,Nt){return be.apply(this,arguments)}}(),Re=function(){var be=(0,l.A)(function*(Ge){const qe=Ge.enteringEl,Nt=Ge.leavingEl;return yield Me(Ge,!1),Ae(qe,Nt),Ve(qe,Nt),{hasCompleted:!0}});return function(qe){return be.apply(this,arguments)}}(),Me=function(){var be=(0,l.A)(function*(Ge,qe){(void 0!==Ge.deepWait?Ge.deepWait:qe)&&(yield Promise.all([$(Ge.enteringEl),$(Ge.leavingEl)])),yield Oe(Ge.viewIsReady,Ge.enteringEl)});return function(qe,Nt){return be.apply(this,arguments)}}(),Oe=function(){var be=(0,l.A)(function*(Ge,qe){Ge&&(yield Ge(qe))});return function(qe,Nt){return be.apply(this,arguments)}}(),dt=(be,Ge)=>{const qe=Ge.progressCallback,Nt=new Promise(xt=>{be.onFinish(bt=>xt(1===bt))});return qe?(be.progressStart(!0),qe(be)):be.play(),Nt},Ae=(be,Ge)=>{xe(Ge,oe),xe(be,"ionViewWillEnter")},Ve=(be,Ge)=>{xe(be,"ionViewDidEnter"),xe(Ge,ie)},xe=(be,Ge)=>{if(be){const qe=new CustomEvent(Ge,{bubbles:!1,cancelable:!1});be.dispatchEvent(qe)}},He=()=>new Promise(be=>(0,ae.r)(()=>(0,ae.r)(()=>be()))),$=function(){var be=(0,l.A)(function*(Ge){const qe=Ge;if(qe){if(null!=qe.componentOnReady){if(null!=(yield qe.componentOnReady()))return}else if(null!=qe.__registerHost)return void(yield new Promise(xt=>(0,ae.r)(xt)));yield Promise.all(Array.from(qe.children).map($))}});return function(qe){return be.apply(this,arguments)}}(),F=(be,Ge)=>{Ge?(be.setAttribute("aria-hidden","true"),be.classList.add("ion-page-hidden")):(be.hidden=!1,be.removeAttribute("aria-hidden"),be.classList.remove("ion-page-hidden"))},ne=(be,Ge,qe)=>{void 0!==be&&(be.style.zIndex="back"===qe?"99":"101"),void 0!==Ge&&(Ge.style.zIndex="100")},K=be=>be.classList.contains("ion-page")?be:be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||be},4929:(rn,ot,S)=>{"use strict";S.d(ot,{a:()=>k,b:()=>ae,p:()=>l});const l=(G,...Ee)=>console.warn(`[Ionic Warning]: ${G}`,...Ee),k=(G,...Ee)=>console.error(`[Ionic Error]: ${G}`,...Ee),ae=(G,...Ee)=>console.error(`<${G.tagName.toLowerCase()}> must be used inside ${Ee.join(" or ")}.`)},8476:(rn,ot,S)=>{"use strict";S.d(ot,{d:()=>k,w:()=>l});const l=typeof window<"u"?window:void 0,k=typeof document<"u"?document:void 0},9081:(rn,ot,S)=>{"use strict";S.d(ot,{B:()=>Ne,H:()=>bt,a:()=>go,b:()=>Ur,c:()=>Be,d:()=>Gt,e:()=>Kr,f:()=>ft,g:()=>tt,h:()=>Nt,i:()=>de,j:()=>Ue,r:()=>gt,w:()=>At});var l=S(467);let G,Ee,oe,ie=!1,je=!1,ce=!1,ye=!1,X=!1;const Ne={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ue=H=>{const Y=new URL(H,rr.$resourcesUrl$);return Y.origin!==xn.location.origin?Y.href:Y.pathname},dt="s-id",Ae="sty-id",He="slot-fb{display:contents}slot-fb[hidden]{display:none}",$="http://www.w3.org/1999/xlink",F={},Ge=H=>"object"==(H=typeof H)||"function"===H;function qe(H){var Y,ze,Le;return null!==(Le=null===(ze=null===(Y=H.head)||void 0===Y?void 0:Y.querySelector('meta[name="csp-nonce"]'))||void 0===ze?void 0:ze.getAttribute("content"))&&void 0!==Le?Le:void 0}const Nt=(H,Y,...ze)=>{let Le=null,st=null,Pt=null,kt=!1,nn=!1;const Jt=[],Qt=zt=>{for(let Rn=0;Rn<zt.length;Rn++)Le=zt[Rn],Array.isArray(Le)?Qt(Le):null!=Le&&"boolean"!=typeof Le&&((kt="function"!=typeof H&&!Ge(Le))&&(Le=String(Le)),kt&&nn?Jt[Jt.length-1].$text$+=Le:Jt.push(kt?xt(null,Le):Le),nn=kt)};if(Qt(ze),Y){Y.key&&(st=Y.key),Y.name&&(Pt=Y.name);{const zt=Y.className||Y.class;zt&&(Y.class="object"!=typeof zt?zt:Object.keys(zt).filter(Rn=>zt[Rn]).join(" "))}}if("function"==typeof H)return H(null===Y?{}:Y,Jt,fe);const tn=xt(H,null);return tn.$attrs$=Y,Jt.length>0&&(tn.$children$=Jt),tn.$key$=st,tn.$name$=Pt,tn},xt=(H,Y)=>({$flags$:0,$tag$:H,$text$:Y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),bt={},fe={forEach:(H,Y)=>H.map(ve).forEach(Y),map:(H,Y)=>H.map(ve).map(Y).map(Te)},ve=H=>({vattrs:H.$attrs$,vchildren:H.$children$,vkey:H.$key$,vname:H.$name$,vtag:H.$tag$,vtext:H.$text$}),Te=H=>{if("function"==typeof H.vtag){const ze=Object.assign({},H.vattrs);return H.vkey&&(ze.key=H.vkey),H.vname&&(ze.name=H.vname),Nt(H.vtag,ze,...H.vchildren||[])}const Y=xt(H.vtag,H.vtext);return Y.$attrs$=H.vattrs,Y.$children$=H.vchildren,Y.$key$=H.vkey,Y.$name$=H.vname,Y},ct=(H,Y,ze,Le,st,Pt,kt)=>{let nn,Jt,Qt,tn;if(1===Pt.nodeType){for(nn=Pt.getAttribute("c-id"),nn&&(Jt=nn.split("."),(Jt[0]===kt||"0"===Jt[0])&&(Qt={$flags$:0,$hostId$:Jt[0],$nodeId$:Jt[1],$depth$:Jt[2],$index$:Jt[3],$tag$:Pt.tagName.toLowerCase(),$elm$:Pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Y.push(Qt),Pt.removeAttribute("c-id"),H.$children$||(H.$children$=[]),H.$children$[Qt.$index$]=Qt,H=Qt,Le&&"0"===Qt.$depth$&&(Le[Qt.$index$]=Qt.$elm$))),tn=Pt.childNodes.length-1;tn>=0;tn--)ct(H,Y,ze,Le,st,Pt.childNodes[tn],kt);if(Pt.shadowRoot)for(tn=Pt.shadowRoot.childNodes.length-1;tn>=0;tn--)ct(H,Y,ze,Le,st,Pt.shadowRoot.childNodes[tn],kt)}else if(8===Pt.nodeType)Jt=Pt.nodeValue.split("."),(Jt[1]===kt||"0"===Jt[1])&&(nn=Jt[0],Qt={$flags$:0,$hostId$:Jt[1],$nodeId$:Jt[2],$depth$:Jt[3],$index$:Jt[4],$elm$:Pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===nn?(Qt.$elm$=Pt.nextSibling,Qt.$elm$&&3===Qt.$elm$.nodeType&&(Qt.$text$=Qt.$elm$.textContent,Y.push(Qt),Pt.remove(),H.$children$||(H.$children$=[]),H.$children$[Qt.$index$]=Qt,Le&&"0"===Qt.$depth$&&(Le[Qt.$index$]=Qt.$elm$))):Qt.$hostId$===kt&&("s"===nn?(Qt.$tag$="slot",Pt["s-sn"]=Jt[5]?Qt.$name$=Jt[5]:"",Pt["s-sr"]=!0,Le&&(Qt.$elm$=ur.createElement(Qt.$tag$),Qt.$name$&&Qt.$elm$.setAttribute("name",Qt.$name$),Pt.parentNode.insertBefore(Qt.$elm$,Pt),Pt.remove(),"0"===Qt.$depth$&&(Le[Qt.$index$]=Qt.$elm$)),ze.push(Qt),H.$children$||(H.$children$=[]),H.$children$[Qt.$index$]=Qt):"r"===nn&&(Le?Pt.remove():(st["s-cr"]=Pt,Pt["s-cn"]=!0))));else if(H&&"style"===H.$tag$){const zt=xt(null,Pt.textContent);zt.$elm$=Pt,zt.$index$="0",H.$children$=[zt]}},Ie=(H,Y)=>{if(1===H.nodeType){let ze=0;for(;ze<H.childNodes.length;ze++)Ie(H.childNodes[ze],Y);if(H.shadowRoot)for(ze=0;ze<H.shadowRoot.childNodes.length;ze++)Ie(H.shadowRoot.childNodes[ze],Y)}else if(8===H.nodeType){const ze=H.nodeValue.split(".");"o"===ze[0]&&(Y.set(ze[1]+"."+ze[2],H),H.nodeValue="",H["s-en"]=ze[3])}},Be=H=>Xn.push(H),tt=H=>It(H).$modeName$,ft=H=>It(H).$hostElement$,Gt=(H,Y,ze)=>{const Le=ft(H);return{emit:st=>Bt(Le,Y,{bubbles:!!(4&ze),composed:!!(2&ze),cancelable:!!(1&ze),detail:st})}},Bt=(H,Y,ze)=>{const Le=rr.ce(Y,ze);return H.dispatchEvent(Le),Le},Yt=new WeakMap,jt=(H,Y,ze)=>{let Le=zn.get(H);_e&&ze?(Le=Le||new CSSStyleSheet,"string"==typeof Le?Le=Y:Le.replaceSync(Y)):Le=Y,zn.set(H,Le)},yt=(H,Y,ze)=>{var Le;const st=lt(Y,ze),Pt=zn.get(st);if(H=11===H.nodeType?H:ur,Pt)if("string"==typeof Pt){let nn,kt=Yt.get(H=H.head||H);if(kt||Yt.set(H,kt=new Set),!kt.has(st)){if(H.host&&(nn=H.querySelector(`[${Ae}="${st}"]`)))nn.innerHTML=Pt;else{nn=ur.createElement("style"),nn.innerHTML=Pt;const Jt=null!==(Le=rr.$nonce$)&&void 0!==Le?Le:qe(ur);null!=Jt&&nn.setAttribute("nonce",Jt),H.insertBefore(nn,H.querySelector("link"))}4&Y.$flags$&&(nn.innerHTML+=He),kt&&kt.add(st)}}else H.adoptedStyleSheets.includes(Pt)||(H.adoptedStyleSheets=[...H.adoptedStyleSheets,Pt]);return st},lt=(H,Y)=>"sc-"+(Y&&32&H.$flags$?H.$tagName$+"-"+Y:H.$tagName$),vt=H=>H.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Zt=(H,Y,ze,Le,st,Pt)=>{if(ze!==Le){let kt=dn(H,Y),nn=Y.toLowerCase();if("class"===Y){const Jt=H.classList,Qt=vn(ze),tn=vn(Le);Jt.remove(...Qt.filter(zt=>zt&&!tn.includes(zt))),Jt.add(...tn.filter(zt=>zt&&!Qt.includes(zt)))}else if("style"===Y){for(const Jt in ze)(!Le||null==Le[Jt])&&(Jt.includes("-")?H.style.removeProperty(Jt):H.style[Jt]="");for(const Jt in Le)(!ze||Le[Jt]!==ze[Jt])&&(Jt.includes("-")?H.style.setProperty(Jt,Le[Jt]):H.style[Jt]=Le[Jt])}else if("key"!==Y)if("ref"===Y)Le&&Le(H);else if(kt||"o"!==Y[0]||"n"!==Y[1]){const Jt=Ge(Le);if((kt||Jt&&null!==Le)&&!st)try{if(H.tagName.includes("-"))H[Y]=Le;else{const tn=null==Le?"":Le;"list"===Y?kt=!1:(null==ze||H[Y]!=tn)&&(H[Y]=tn)}}catch{}let Qt=!1;nn!==(nn=nn.replace(/^xlink\:?/,""))&&(Y=nn,Qt=!0),null==Le||!1===Le?(!1!==Le||""===H.getAttribute(Y))&&(Qt?H.removeAttributeNS($,Y):H.removeAttribute(Y)):(!kt||4&Pt||st)&&!Jt&&(Le=!0===Le?"":Le,Qt?H.setAttributeNS($,Y,Le):H.setAttribute(Y,Le))}else if(Y="-"===Y[2]?Y.slice(3):dn(xn,nn)?nn.slice(2):nn[2]+Y.slice(3),ze||Le){const Jt=Y.endsWith(Sn);Y=Y.replace(ln,""),ze&&rr.rel(H,Y,ze,Jt),Le&&rr.ael(H,Y,Le,Jt)}}},Dn=/\s/,vn=H=>H?H.split(Dn):[],Sn="Capture",ln=new RegExp(Sn+"$"),In=(H,Y,ze,Le)=>{const st=11===Y.$elm$.nodeType&&Y.$elm$.host?Y.$elm$.host:Y.$elm$,Pt=H&&H.$attrs$||F,kt=Y.$attrs$||F;for(Le in Pt)Le in kt||Zt(st,Le,Pt[Le],void 0,ze,Y.$flags$);for(Le in kt)Zt(st,Le,Pt[Le],kt[Le],ze,Y.$flags$)},un=(H,Y,ze,Le)=>{const st=Y.$children$[ze];let kt,nn,Jt,Pt=0;if(ie||(ce=!0,"slot"===st.$tag$&&(G&&Le.classList.add(G+"-s"),st.$flags$|=st.$children$?2:1)),null!==st.$text$)kt=st.$elm$=ur.createTextNode(st.$text$);else if(1&st.$flags$)kt=st.$elm$=ur.createTextNode("");else{if(ye||(ye="svg"===st.$tag$),kt=st.$elm$=ur.createElementNS(ye?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&st.$flags$?"slot-fb":st.$tag$),ye&&"foreignObject"===st.$tag$&&(ye=!1),In(null,st,ye),(H=>null!=H)(G)&&kt["s-si"]!==G&&kt.classList.add(kt["s-si"]=G),st.$children$)for(Pt=0;Pt<st.$children$.length;++Pt)nn=un(H,st,Pt,kt),nn&&kt.appendChild(nn);"svg"===st.$tag$?ye=!1:"foreignObject"===kt.tagName&&(ye=!0)}return kt["s-hn"]=oe,3&st.$flags$&&(kt["s-sr"]=!0,kt["s-cr"]=Ee,kt["s-sn"]=st.$name$||"",Jt=H&&H.$children$&&H.$children$[ze],Jt&&Jt.$tag$===st.$tag$&&H.$elm$&&$t(H.$elm$,!1)),kt},$t=(H,Y)=>{rr.$flags$|=1;const ze=H.childNodes;for(let Le=ze.length-1;Le>=0;Le--){const st=ze[Le];st["s-hn"]!==oe&&st["s-ol"]&&(Or(st).insertBefore(st,ar(st)),st["s-ol"].remove(),st["s-ol"]=void 0,st["s-sh"]=void 0,ce=!0),Y&&$t(st,Y)}rr.$flags$&=-2},Wn=(H,Y,ze,Le,st,Pt)=>{let nn,kt=H["s-cr"]&&H["s-cr"].parentNode||H;for(kt.shadowRoot&&kt.tagName===oe&&(kt=kt.shadowRoot);st<=Pt;++st)Le[st]&&(nn=un(null,ze,st,H),nn&&(Le[st].$elm$=nn,kt.insertBefore(nn,ar(Y))))},Hn=(H,Y,ze)=>{for(let Le=Y;Le<=ze;++Le){const st=H[Le];if(st){const Pt=st.$elm$;mr(st),Pt&&(je=!0,Pt["s-ol"]?Pt["s-ol"].remove():$t(Pt,!0),Pt.remove())}}},On=(H,Y,ze=!1)=>H.$tag$===Y.$tag$&&("slot"===H.$tag$?H.$name$===Y.$name$:!!ze||H.$key$===Y.$key$),ar=H=>H&&H["s-ol"]||H,Or=H=>(H["s-ol"]?H["s-ol"]:H).parentNode,pn=(H,Y,ze=!1)=>{const Le=Y.$elm$=H.$elm$,st=H.$children$,Pt=Y.$children$,kt=Y.$tag$,nn=Y.$text$;let Jt;null===nn?(ye="svg"===kt||"foreignObject"!==kt&&ye,"slot"===kt&&!ie||In(H,Y,ye),null!==st&&null!==Pt?((H,Y,ze,Le,st=!1)=>{let Sr,C,Pt=0,kt=0,nn=0,Jt=0,Qt=Y.length-1,tn=Y[0],zt=Y[Qt],Rn=Le.length-1,cr=Le[0],dr=Le[Rn];for(;Pt<=Qt&&kt<=Rn;)if(null==tn)tn=Y[++Pt];else if(null==zt)zt=Y[--Qt];else if(null==cr)cr=Le[++kt];else if(null==dr)dr=Le[--Rn];else if(On(tn,cr,st))pn(tn,cr,st),tn=Y[++Pt],cr=Le[++kt];else if(On(zt,dr,st))pn(zt,dr,st),zt=Y[--Qt],dr=Le[--Rn];else if(On(tn,dr,st))("slot"===tn.$tag$||"slot"===dr.$tag$)&&$t(tn.$elm$.parentNode,!1),pn(tn,dr,st),H.insertBefore(tn.$elm$,zt.$elm$.nextSibling),tn=Y[++Pt],dr=Le[--Rn];else if(On(zt,cr,st))("slot"===tn.$tag$||"slot"===dr.$tag$)&&$t(zt.$elm$.parentNode,!1),pn(zt,cr,st),H.insertBefore(zt.$elm$,tn.$elm$),zt=Y[--Qt],cr=Le[++kt];else{for(nn=-1,Jt=Pt;Jt<=Qt;++Jt)if(Y[Jt]&&null!==Y[Jt].$key$&&Y[Jt].$key$===cr.$key$){nn=Jt;break}nn>=0?(C=Y[nn],C.$tag$!==cr.$tag$?Sr=un(Y&&Y[kt],ze,nn,H):(pn(C,cr,st),Y[nn]=void 0,Sr=C.$elm$),cr=Le[++kt]):(Sr=un(Y&&Y[kt],ze,kt,H),cr=Le[++kt]),Sr&&Or(tn.$elm$).insertBefore(Sr,ar(tn.$elm$))}Pt>Qt?Wn(H,null==Le[Rn+1]?null:Le[Rn+1].$elm$,ze,Le,kt,Rn):kt>Rn&&Hn(Y,Pt,Qt)})(Le,st,Y,Pt,ze):null!==Pt?(null!==H.$text$&&(Le.textContent=""),Wn(Le,null,Y,Pt,0,Pt.length-1)):null!==st&&Hn(st,0,st.length-1),ye&&"svg"===kt&&(ye=!1)):(Jt=Le["s-cr"])?Jt.parentNode.textContent=nn:H.$text$!==nn&&(Le.data=nn)},kr=H=>{const Y=H.childNodes;for(const ze of Y)if(1===ze.nodeType){if(ze["s-sr"]){const Le=ze["s-sn"];ze.hidden=!1;for(const st of Y)if(st!==ze)if(st["s-hn"]!==ze["s-hn"]||""!==Le){if(1===st.nodeType&&(Le===st.getAttribute("slot")||Le===st["s-sn"])){ze.hidden=!0;break}}else if(1===st.nodeType||3===st.nodeType&&""!==st.textContent.trim()){ze.hidden=!0;break}}kr(ze)}},Pn=[],Gn=H=>{let Y,ze,Le;for(const st of H.childNodes){if(st["s-sr"]&&(Y=st["s-cr"])&&Y.parentNode){ze=Y.parentNode.childNodes;const Pt=st["s-sn"];for(Le=ze.length-1;Le>=0;Le--)if(Y=ze[Le],!Y["s-cn"]&&!Y["s-nr"]&&Y["s-hn"]!==st["s-hn"])if(Dr(Y,Pt)){let kt=Pn.find(nn=>nn.$nodeToRelocate$===Y);je=!0,Y["s-sn"]=Y["s-sn"]||Pt,kt?(kt.$nodeToRelocate$["s-sh"]=st["s-hn"],kt.$slotRefNode$=st):(Y["s-sh"]=st["s-hn"],Pn.push({$slotRefNode$:st,$nodeToRelocate$:Y})),Y["s-sr"]&&Pn.map(nn=>{Dr(nn.$nodeToRelocate$,Y["s-sn"])&&(kt=Pn.find(Jt=>Jt.$nodeToRelocate$===Y),kt&&!nn.$slotRefNode$&&(nn.$slotRefNode$=kt.$slotRefNode$))})}else Pn.some(kt=>kt.$nodeToRelocate$===Y)||Pn.push({$nodeToRelocate$:Y})}1===st.nodeType&&Gn(st)}},Dr=(H,Y)=>1===H.nodeType?null===H.getAttribute("slot")&&""===Y||H.getAttribute("slot")===Y:H["s-sn"]===Y||""===Y,mr=H=>{H.$attrs$&&H.$attrs$.ref&&H.$attrs$.ref(null),H.$children$&&H.$children$.map(mr)},yr=(H,Y)=>{Y&&!H.$onRenderResolve$&&Y["s-p"]&&Y["s-p"].push(new Promise(ze=>H.$onRenderResolve$=ze))},Lr=(H,Y)=>{if(H.$flags$|=16,!(4&H.$flags$))return yr(H,H.$ancestorComponent$),At(()=>ri(H,Y));H.$flags$|=512},ri=(H,Y)=>{const Le=H.$lazyInstance$;let st;return Y&&(H.$flags$|=256,H.$queuedListeners$&&(H.$queuedListeners$.map(([Pt,kt])=>mt(Le,Pt,kt)),H.$queuedListeners$=void 0),st=mt(Le,"componentWillLoad")),st=at(st,()=>mt(Le,"componentWillRender")),at(st,()=>Tt(H,Le,Y))},at=(H,Y)=>Je(H)?H.then(Y):Y(),Je=H=>H instanceof Promise||H&&H.then&&"function"==typeof H.then,Tt=function(){var H=(0,l.A)(function*(Y,ze,Le){var st;const Pt=Y.$hostElement$,nn=Pt["s-rc"];Le&&(H=>{const Y=H.$cmpMeta$,ze=H.$hostElement$,Le=Y.$flags$,Pt=yt(ze.shadowRoot?ze.shadowRoot:ze.getRootNode(),Y,H.$modeName$);10&Le&&(ze["s-sc"]=Pt,ze.classList.add(Pt+"-h"),2&Le&&ze.classList.add(Pt+"-s"))})(Y);Ze(Y,ze,Pt,Le),nn&&(nn.map(Qt=>Qt()),Pt["s-rc"]=void 0);{const Qt=null!==(st=Pt["s-p"])&&void 0!==st?st:[],tn=()=>se(Y);0===Qt.length?tn():(Promise.all(Qt).then(tn),Y.$flags$|=4,Qt.length=0)}});return function(ze,Le,st){return H.apply(this,arguments)}}(),Ze=(H,Y,ze,Le)=>{try{Y=Y.render&&Y.render(),H.$flags$&=-17,H.$flags$|=2,((H,Y,ze=!1)=>{var Le,st,Pt,kt;const nn=H.$hostElement$,Jt=H.$cmpMeta$,Qt=H.$vnode$||xt(null,null),tn=(H=>H&&H.$tag$===bt)(Y)?Y:Nt(null,null,Y);if(oe=nn.tagName,Jt.$attrsToReflect$&&(tn.$attrs$=tn.$attrs$||{},Jt.$attrsToReflect$.map(([zt,Rn])=>tn.$attrs$[Rn]=nn[zt])),ze&&tn.$attrs$)for(const zt of Object.keys(tn.$attrs$))nn.hasAttribute(zt)&&!["key","ref","style","class"].includes(zt)&&(tn.$attrs$[zt]=nn[zt]);if(tn.$tag$=null,tn.$flags$|=4,H.$vnode$=tn,tn.$elm$=Qt.$elm$=nn.shadowRoot||nn,G=nn["s-sc"],ie=!!(1&Jt.$flags$),Ee=nn["s-cr"],je=!1,pn(Qt,tn,ze),rr.$flags$|=1,ce){Gn(tn.$elm$);for(const zt of Pn){const Rn=zt.$nodeToRelocate$;if(!Rn["s-ol"]){const cr=ur.createTextNode("");cr["s-nr"]=Rn,Rn.parentNode.insertBefore(Rn["s-ol"]=cr,Rn)}}for(const zt of Pn){const Rn=zt.$nodeToRelocate$,cr=zt.$slotRefNode$;if(cr){const dr=cr.parentNode;let Sr=cr.nextSibling;{let C=null===(Le=Rn["s-ol"])||void 0===Le?void 0:Le.previousSibling;for(;C;){let re=null!==(st=C["s-nr"])&&void 0!==st?st:null;if(re&&re["s-sn"]===Rn["s-sn"]&&dr===re.parentNode&&(re=re.nextSibling,!re||!re["s-nr"])){Sr=re;break}C=C.previousSibling}}(!Sr&&dr!==Rn.parentNode||Rn.nextSibling!==Sr)&&Rn!==Sr&&(!Rn["s-hn"]&&Rn["s-ol"]&&(Rn["s-hn"]=Rn["s-ol"].parentNode.nodeName),dr.insertBefore(Rn,Sr),1===Rn.nodeType&&(Rn.hidden=null!==(Pt=Rn["s-ih"])&&void 0!==Pt&&Pt))}else 1===Rn.nodeType&&(ze&&(Rn["s-ih"]=null!==(kt=Rn.hidden)&&void 0!==kt&&kt),Rn.hidden=!0)}}je&&kr(tn.$elm$),rr.$flags$&=-2,Pn.length=0,Ee=void 0})(H,Y,Le)}catch(st){bn(st,H.$hostElement$)}return null},se=H=>{const ze=H.$hostElement$,st=H.$lazyInstance$,Pt=H.$ancestorComponent$;mt(st,"componentDidRender"),64&H.$flags$?mt(st,"componentDidUpdate"):(H.$flags$|=64,et(ze),mt(st,"componentDidLoad"),H.$onReadyResolve$(ze),Pt||Pe()),H.$onInstanceResolve$(ze),H.$onRenderResolve$&&(H.$onRenderResolve$(),H.$onRenderResolve$=void 0),512&H.$flags$&&Vn(()=>Lr(H,!1)),H.$flags$&=-517},de=H=>{{const Y=It(H),ze=Y.$hostElement$.isConnected;return ze&&2==(18&Y.$flags$)&&Lr(Y,!1),ze}},Pe=H=>{et(ur.documentElement),Vn(()=>Bt(xn,"appload",{detail:{namespace:"ionic"}}))},mt=(H,Y,ze)=>{if(H&&H[Y])try{return H[Y](ze)}catch(Le){bn(Le)}},et=H=>H.classList.add("hydrated"),qn=(H,Y,ze)=>{var Le;const st=H.prototype;if(Y.$members$){H.watchers&&(Y.$watchers$=H.watchers);const Pt=Object.entries(Y.$members$);if(Pt.map(([kt,[nn]])=>{31&nn||2&ze&&32&nn?Object.defineProperty(st,kt,{get(){return((H,Y)=>It(this).$instanceValues$.get(Y))(0,kt)},set(Jt){((H,Y,ze,Le)=>{const st=It(H),Pt=st.$hostElement$,kt=st.$instanceValues$.get(Y),nn=st.$flags$,Jt=st.$lazyInstance$;ze=((H,Y)=>null==H||Ge(H)?H:4&Y?"false"!==H&&(""===H||!!H):2&Y?parseFloat(H):1&Y?String(H):H)(ze,Le.$members$[Y][0]);const Qt=Number.isNaN(kt)&&Number.isNaN(ze);if((!(8&nn)||void 0===kt)&&ze!==kt&&!Qt&&(st.$instanceValues$.set(Y,ze),Jt)){if(Le.$watchers$&&128&nn){const zt=Le.$watchers$[Y];zt&&zt.map(Rn=>{try{Jt[Rn](ze,kt,Y)}catch(cr){bn(cr,Pt)}})}2==(18&nn)&&Lr(st,!1)}})(this,kt,Jt,Y)},configurable:!0,enumerable:!0}):1&ze&&64&nn&&Object.defineProperty(st,kt,{value(...Jt){var Qt;const tn=It(this);return null===(Qt=null==tn?void 0:tn.$onInstancePromise$)||void 0===Qt?void 0:Qt.then(()=>{var zt;return null===(zt=tn.$lazyInstance$)||void 0===zt?void 0:zt[kt](...Jt)})}})}),1&ze){const kt=new Map;st.attributeChangedCallback=function(nn,Jt,Qt){rr.jmp(()=>{var tn;const zt=kt.get(nn);if(this.hasOwnProperty(zt))Qt=this[zt],delete this[zt];else{if(st.hasOwnProperty(zt)&&"number"==typeof this[zt]&&this[zt]==Qt)return;if(null==zt){const Rn=It(this),cr=null==Rn?void 0:Rn.$flags$;if(cr&&!(8&cr)&&128&cr&&Qt!==Jt){const dr=Rn.$lazyInstance$,Sr=null===(tn=Y.$watchers$)||void 0===tn?void 0:tn[nn];null==Sr||Sr.forEach(C=>{null!=dr[C]&&dr[C].call(dr,Qt,Jt,nn)})}return}}this[zt]=(null!==Qt||"boolean"!=typeof this[zt])&&Qt})},H.observedAttributes=Array.from(new Set([...Object.keys(null!==(Le=Y.$watchers$)&&void 0!==Le?Le:{}),...Pt.filter(([nn,Jt])=>15&Jt[0]).map(([nn,Jt])=>{var Qt;const tn=Jt[1]||nn;return kt.set(tn,nn),512&Jt[0]&&(null===(Qt=Y.$attrsToReflect$)||void 0===Qt||Qt.push([nn,tn])),tn})]))}}return H},Qn=function(){var H=(0,l.A)(function*(Y,ze,Le,st){let Pt;if(!(32&ze.$flags$)){if(ze.$flags$|=32,Le.$lazyBundleId$){if(Pt=Bn(Le),Pt.then){const tn=()=>{};Pt=yield Pt,tn()}Pt.isProxied||(Le.$watchers$=Pt.watchers,qn(Pt,Le,2),Pt.isProxied=!0);const Qt=()=>{};ze.$flags$|=8;try{new Pt(ze)}catch(tn){bn(tn)}ze.$flags$&=-9,ze.$flags$|=128,Qt(),Rr(ze.$lazyInstance$)}else Pt=Y.constructor,customElements.whenDefined(Le.$tagName$).then(()=>ze.$flags$|=128);if(Pt.style){let Qt=Pt.style;"string"!=typeof Qt&&(Qt=Qt[ze.$modeName$=(H=>Xn.map(Y=>Y(H)).find(Y=>!!Y))(Y)]);const tn=lt(Le,ze.$modeName$);if(!zn.has(tn)){const zt=()=>{};jt(tn,Qt,!!(1&Le.$flags$)),zt()}}}const kt=ze.$ancestorComponent$,nn=()=>Lr(ze,!0);kt&&kt["s-rc"]?kt["s-rc"].push(nn):nn()});return function(ze,Le,st,Pt){return H.apply(this,arguments)}}(),Rr=H=>{mt(H,"connectedCallback")},kn=H=>{const Y=H["s-cr"]=ur.createComment("");Y["s-cn"]=!0,H.insertBefore(Y,H.firstChild)},gn=H=>{mt(H,"disconnectedCallback")},vi=function(){var H=(0,l.A)(function*(Y){if(!(1&rr.$flags$)){const ze=It(Y);ze.$rmListeners$&&(ze.$rmListeners$.map(Le=>Le()),ze.$rmListeners$=void 0),null!=ze&&ze.$lazyInstance$?gn(ze.$lazyInstance$):null!=ze&&ze.$onReadyPromise$&&ze.$onReadyPromise$.then(()=>gn(ze.$lazyInstance$))}});return function(ze){return H.apply(this,arguments)}}(),Ur=(H,Y={})=>{var ze;const st=[],Pt=Y.exclude||[],kt=xn.customElements,nn=ur.head,Jt=nn.querySelector("meta[charset]"),Qt=ur.createElement("style"),tn=[],zt=ur.querySelectorAll(`[${Ae}]`);let Rn,cr=!0,dr=0;for(Object.assign(rr,Y),rr.$resourcesUrl$=new URL(Y.resourcesUrl||"./",ur.baseURI).href,rr.$flags$|=2;dr<zt.length;dr++)jt(zt[dr].getAttribute(Ae),vt(zt[dr].innerHTML),!0);let Sr=!1;if(H.map(C=>{C[1].map(re=>{var M;const le={$flags$:re[0],$tagName$:re[1],$members$:re[2],$listeners$:re[3]};4&le.$flags$&&(Sr=!0),le.$members$=re[2],le.$listeners$=re[3],le.$attrsToReflect$=[],le.$watchers$=null!==(M=re[4])&&void 0!==M?M:{};const rt=le.$tagName$,sr=class extends HTMLElement{constructor(ir){super(ir),Ot(ir=this,le),1&le.$flags$&&ir.attachShadow({mode:"open",delegatesFocus:!!(16&le.$flags$)})}connectedCallback(){Rn&&(clearTimeout(Rn),Rn=null),cr?tn.push(this):rr.jmp(()=>(H=>{if(!(1&rr.$flags$)){const Y=It(H),ze=Y.$cmpMeta$,Le=()=>{};if(1&Y.$flags$)Ai(H,Y,ze.$listeners$),null!=Y&&Y.$lazyInstance$?Rr(Y.$lazyInstance$):null!=Y&&Y.$onReadyPromise$&&Y.$onReadyPromise$.then(()=>Rr(Y.$lazyInstance$));else{let st;if(Y.$flags$|=1,st=H.getAttribute(dt),st){if(1&ze.$flags$){const Pt=yt(H.shadowRoot,ze,H.getAttribute("s-mode"));H.classList.remove(Pt+"-h",Pt+"-s")}((H,Y,ze,Le)=>{const Pt=H.shadowRoot,kt=[],Jt=Pt?[]:null,Qt=Le.$vnode$=xt(Y,null);rr.$orgLocNodes$||Ie(ur.body,rr.$orgLocNodes$=new Map),H[dt]=ze,H.removeAttribute(dt),ct(Qt,kt,[],Jt,H,H,ze),kt.map(tn=>{const zt=tn.$hostId$+"."+tn.$nodeId$,Rn=rr.$orgLocNodes$.get(zt),cr=tn.$elm$;Rn&&pe&&""===Rn["s-en"]&&Rn.parentNode.insertBefore(cr,Rn.nextSibling),Pt||(cr["s-hn"]=Y,Rn&&(cr["s-ol"]=Rn,cr["s-ol"]["s-nr"]=cr)),rr.$orgLocNodes$.delete(zt)}),Pt&&Jt.map(tn=>{tn&&Pt.appendChild(tn)})})(H,ze.$tagName$,st,Y)}st||12&ze.$flags$&&kn(H);{let Pt=H;for(;Pt=Pt.parentNode||Pt.host;)if(1===Pt.nodeType&&Pt.hasAttribute("s-id")&&Pt["s-p"]||Pt["s-p"]){yr(Y,Y.$ancestorComponent$=Pt);break}}ze.$members$&&Object.entries(ze.$members$).map(([Pt,[kt]])=>{if(31&kt&&H.hasOwnProperty(Pt)){const nn=H[Pt];delete H[Pt],H[Pt]=nn}}),Qn(H,Y,ze)}Le()}})(this))}disconnectedCallback(){rr.jmp(()=>vi(this))}componentOnReady(){return It(this).$onReadyPromise$}};le.$lazyBundleId$=C[0],!Pt.includes(rt)&&!kt.get(rt)&&(st.push(rt),kt.define(rt,qn(sr,le,1)))})}),st.length>0&&(Sr&&(Qt.textContent+=He),Qt.textContent+=st+"{visibility:hidden}.hydrated{visibility:inherit}",Qt.innerHTML.length)){Qt.setAttribute("data-styles","");const C=null!==(ze=rr.$nonce$)&&void 0!==ze?ze:qe(ur);null!=C&&Qt.setAttribute("nonce",C),nn.insertBefore(Qt,Jt?Jt.nextSibling:nn.firstChild)}cr=!1,tn.length?tn.map(C=>C.connectedCallback()):rr.jmp(()=>Rn=setTimeout(Pe,30))},Ai=(H,Y,ze,Le)=>{ze&&ze.map(([st,Pt,kt])=>{const nn=_i(H,st),Jt=Mi(Y,kt),Qt=tr(st);rr.ael(nn,Pt,Jt,Qt),(Y.$rmListeners$=Y.$rmListeners$||[]).push(()=>rr.rel(nn,Pt,Jt,Qt))})},Mi=(H,Y)=>ze=>{try{256&H.$flags$?H.$lazyInstance$[Y](ze):(H.$queuedListeners$=H.$queuedListeners$||[]).push([Y,ze])}catch(Le){bn(Le)}},_i=(H,Y)=>4&Y?ur:8&Y?xn:16&Y?ur.body:H,tr=H=>De?{passive:!!(1&H),capture:!!(2&H)}:!!(2&H),Qr=new WeakMap,It=H=>Qr.get(H),gt=(H,Y)=>Qr.set(Y.$lazyInstance$=H,Y),Ot=(H,Y)=>{const ze={$flags$:0,$hostElement$:H,$cmpMeta$:Y,$instanceValues$:new Map};return ze.$onInstancePromise$=new Promise(Le=>ze.$onInstanceResolve$=Le),ze.$onReadyPromise$=new Promise(Le=>ze.$onReadyResolve$=Le),H["s-p"]=[],H["s-rc"]=[],Ai(H,ze,Y.$listeners$),Qr.set(H,ze)},dn=(H,Y)=>Y in H,bn=(H,Y)=>(0,console.error)(H,Y),$n=new Map,Bn=(H,Y,ze)=>{const Le=H.$tagName$.replace(/-/g,"_"),st=H.$lazyBundleId$,Pt=$n.get(st);return Pt?Pt[Le]:S(8996)(`./${st}.entry.js`).then(kt=>($n.set(st,kt),kt[Le]),bn)},zn=new Map,Xn=[],xn=typeof window<"u"?window:{},ur=xn.document||{head:{}},rr={$flags$:0,$resourcesUrl$:"",jmp:H=>H(),raf:H=>requestAnimationFrame(H),ael:(H,Y,ze,Le)=>H.addEventListener(Y,ze,Le),rel:(H,Y,ze,Le)=>H.removeEventListener(Y,ze,Le),ce:(H,Y)=>new CustomEvent(H,Y)},go=H=>{Object.assign(rr,H)},pe=!0,De=(()=>{let H=!1;try{ur.addEventListener("e",null,Object.defineProperty({},"passive",{get(){H=!0}}))}catch{}return H})(),_e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ht=[],Ut=[],sn=(H,Y)=>ze=>{H.push(ze),X||(X=!0,Y&&4&rr.$flags$?Vn(An):rr.raf(An))},hn=H=>{for(let Y=0;Y<H.length;Y++)try{H[Y](performance.now())}catch(ze){bn(ze)}H.length=0},An=()=>{hn(ht),hn(Ut),(X=ht.length>0)&&rr.raf(An)},Vn=H=>Promise.resolve(void 0).then(H),Kr=sn(ht,!1),At=sn(Ut,!0)},8436:(rn,ot,S)=>{"use strict";S.d(ot,{a:()=>X,b:()=>xt,c:()=>ae,i:()=>bt});var l=S(9081);class k{constructor(){this.m=new Map}reset(fe){this.m=new Map(Object.entries(fe))}get(fe,ve){const Te=this.m.get(fe);return void 0!==Te?Te:ve}getBoolean(fe,ve=!1){const Te=this.m.get(fe);return void 0===Te?ve:"string"==typeof Te?"true"===Te:!!Te}getNumber(fe,ve){const Te=parseFloat(this.m.get(fe));return isNaN(Te)?void 0!==ve?ve:NaN:Te}set(fe,ve){this.m.set(fe,ve)}}const ae=new k,ce="ionic-persist-config",X=(Ye,fe)=>("string"==typeof Ye&&(fe=Ye,Ye=void 0),(Ye=>Ne(Ye))(Ye).includes(fe)),Ne=(Ye=window)=>{if(typeof Ye>"u")return[];Ye.Ionic=Ye.Ionic||{};let fe=Ye.Ionic.platforms;return null==fe&&(fe=Ye.Ionic.platforms=Ue(Ye),fe.forEach(ve=>Ye.document.documentElement.classList.add(`plt-${ve}`))),fe},Ue=Ye=>{const fe=ae.get("platform");return Object.keys(qe).filter(ve=>{const Te=null==fe?void 0:fe[ve];return"function"==typeof Te?Te(Ye):qe[ve](Ye)})},Ce=Ye=>!!(be(Ye,/iPad/i)||be(Ye,/Macintosh/i)&&Ve(Ye)),Me=Ye=>be(Ye,/android|sink/i),Ve=Ye=>Ge(Ye,"(any-pointer:coarse)"),He=Ye=>$(Ye)||F(Ye),$=Ye=>!!(Ye.cordova||Ye.phonegap||Ye.PhoneGap),F=Ye=>{const fe=Ye.Capacitor;return!(null==fe||!fe.isNative)},be=(Ye,fe)=>fe.test(Ye.navigator.userAgent),Ge=(Ye,fe)=>{var ve;return null===(ve=Ye.matchMedia)||void 0===ve?void 0:ve.call(Ye,fe).matches},qe={ipad:Ce,iphone:Ye=>be(Ye,/iPhone/i),ios:Ye=>be(Ye,/iPhone|iPod/i)||Ce(Ye),android:Me,phablet:Ye=>{const fe=Ye.innerWidth,ve=Ye.innerHeight,Te=Math.min(fe,ve),me=Math.max(fe,ve);return Te>390&&Te<520&&me>620&&me<800},tablet:Ye=>{const fe=Ye.innerWidth,ve=Ye.innerHeight,Te=Math.min(fe,ve),me=Math.max(fe,ve);return Ce(Ye)||(Ye=>Me(Ye)&&!be(Ye,/mobile/i))(Ye)||Te>460&&Te<820&&me>780&&me<1400},cordova:$,capacitor:F,electron:Ye=>be(Ye,/electron/i),pwa:Ye=>{var fe;return!!(null!==(fe=Ye.matchMedia)&&void 0!==fe&&fe.call(Ye,"(display-mode: standalone)").matches||Ye.navigator.standalone)},mobile:Ve,mobileweb:Ye=>Ve(Ye)&&!He(Ye),desktop:Ye=>!Ve(Ye),hybrid:He};let Nt;const xt=Ye=>Ye&&(0,l.g)(Ye)||Nt,bt=(Ye={})=>{if(typeof window>"u")return;const fe=window.document,ve=window,Te=ve.Ionic=ve.Ionic||{},me={};Ye._ael&&(me.ael=Ye._ael),Ye._rel&&(me.rel=Ye._rel),Ye._ce&&(me.ce=Ye._ce),(0,l.a)(me);const ct=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ye=>{try{const fe=Ye.sessionStorage.getItem(ce);return null!==fe?JSON.parse(fe):{}}catch{return{}}})(ve)),{persistConfig:!1}),Te.config),(Ye=>{const fe={};return Ye.location.search.slice(1).split("&").map(ve=>ve.split("=")).map(([ve,Te])=>[decodeURIComponent(ve),decodeURIComponent(Te)]).filter(([ve])=>((Ye,fe)=>Ye.substr(0,fe.length)===fe)(ve,"ionic:")).map(([ve,Te])=>[ve.slice(6),Te]).forEach(([ve,Te])=>{fe[ve]=Te}),fe})(ve)),Ye);ae.reset(ct),ae.getBoolean("persistConfig")&&((Ye,fe)=>{try{Ye.sessionStorage.setItem(ce,JSON.stringify(fe))}catch{return}})(ve,ct),Ne(ve),Te.config=ae,Te.mode=Nt=ae.get("mode",fe.documentElement.getAttribute("mode")||(X(ve,"ios")?"ios":"md")),ae.set("mode",Nt),fe.documentElement.setAttribute("mode",Nt),fe.documentElement.classList.add(Nt),ae.getBoolean("_testing")&&ae.set("animated",!1);const Ie=Be=>{var tt;return null===(tt=Be.tagName)||void 0===tt?void 0:tt.startsWith("ION-")},We=Be=>["ios","md"].includes(Be);(0,l.c)(Be=>{for(;Be;){const tt=Be.mode||Be.getAttribute("mode");if(tt){if(We(tt))return tt;Ie(Be)&&console.warn('Invalid ionic mode: "'+tt+'", expected: "ios" or "md"')}Be=Be.parentElement}return Nt})}},2604:(rn,ot,S)=>{"use strict";S.r(ot),S.d(ot,{iosTransitionAnimation:()=>Ue,shadow:()=>ie});var l=S(3503),k=S(1497);S(8476),S(9081);const oe=Ce=>document.querySelector(`${Ce}.ion-cloned-element`),ie=Ce=>Ce.shadowRoot||Ce,je=Ce=>{const Xe="ION-TABS"===Ce.tagName?Ce:Ce.querySelector("ion-tabs"),Re="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Xe){const Me=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(Re):null}return Ce.querySelector(Re)},ce=(Ce,Xe)=>{const Re="ION-TABS"===Ce.tagName?Ce:Ce.querySelector("ion-tabs");let Me=[];if(null!=Re){const Oe=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Oe&&(Me=Oe.querySelectorAll("ion-buttons"))}else Me=Ce.querySelectorAll("ion-buttons");for(const Oe of Me){const dt=Oe.closest("ion-header"),Ae=dt&&!dt.classList.contains("header-collapse-condense-inactive"),Ve=Oe.querySelector("ion-back-button"),xe=Oe.classList.contains("buttons-collapse");if(null!==Ve&&("start"===Oe.slot||""===Oe.slot)&&(xe&&Ae&&Xe||!xe))return Ve}return null},X=(Ce,Xe,Re,Me,Oe,dt,Ae,Ve,xe)=>{var He,$;const F=Xe?`calc(100% - ${Oe.right+4}px)`:Oe.left-4+"px",ne=Xe?"right":"left",K=Xe?"left":"right",be=Xe?"right":"left",Ge=(null===(He=dt.textContent)||void 0===He?void 0:He.trim())===(null===($=Ve.textContent)||void 0===$?void 0:$.trim()),Nt=(xe.height-Fe)/Ae.height,xt=Ge?`scale(${xe.width/Ae.width}, ${Nt})`:`scale(${Nt})`,bt="scale(1)",fe=ie(Me).querySelector("ion-icon").getBoundingClientRect(),ve=Xe?fe.width/2-(fe.right-Oe.right)+"px":Oe.left-fe.width/2+"px",Te=Xe?`-${window.innerWidth-Oe.right}px`:`${Oe.left}px`,me=`${xe.top}px`,ct=`${Oe.top}px`,Be=Re?[{offset:0,transform:`translate3d(${Te}, ${ct}, 0)`},{offset:1,transform:`translate3d(${ve}, ${me}, 0)`}]:[{offset:0,transform:`translate3d(${ve}, ${me}, 0)`},{offset:1,transform:`translate3d(${Te}, ${ct}, 0)`}],ft=Re?[{offset:0,opacity:1,transform:bt},{offset:1,opacity:0,transform:xt}]:[{offset:0,opacity:0,transform:xt},{offset:1,opacity:1,transform:bt}],Yt=Re?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],jt=(0,l.c)(),yt=(0,l.c)(),ut=(0,l.c)(),lt=oe("ion-back-button"),vt=ie(lt).querySelector(".button-text"),Zt=ie(lt).querySelector("ion-icon");lt.text=Me.text,lt.mode=Me.mode,lt.icon=Me.icon,lt.color=Me.color,lt.disabled=Me.disabled,lt.style.setProperty("display","block"),lt.style.setProperty("position","fixed"),yt.addElement(Zt),jt.addElement(vt),ut.addElement(lt),ut.beforeStyles({position:"absolute",top:"0px",[be]:"0px"}).keyframes(Be),jt.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),lt.style.setProperty(ne,F)}).afterAddWrite(()=>{Me.style.setProperty("display",""),lt.style.setProperty("display","none"),lt.style.removeProperty(ne)}).keyframes(ft),yt.beforeStyles({"transform-origin":`${K} center`}).keyframes(Yt),Ce.addAnimation([jt,yt,ut])},Ne=(Ce,Xe,Re,Me,Oe,dt,Ae,Ve)=>{var xe,He;const $=Xe?"right":"left",F=Xe?`calc(100% - ${Oe.right}px)`:`${Oe.left}px`,K=`${Oe.top}px`,Ge=Xe?`-${window.innerWidth-Ve.right-8}px`:Ve.x-8+"px",Nt=Ve.y-2+"px",xt=(null===(xe=Ae.textContent)||void 0===xe?void 0:xe.trim())===(null===(He=Me.textContent)||void 0===He?void 0:He.trim()),Ye=Ve.height/(dt.height-Fe),fe="scale(1)",ve=xt?`scale(${Ve.width/dt.width}, ${Ye})`:`scale(${Ye})`,ct=Re?[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${Nt}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${K}, 0) ${fe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${K}, 0) ${fe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${Nt}, 0) ${ve}`}],Ie=oe("ion-title"),We=(0,l.c)();Ie.innerText=Me.innerText,Ie.size=Me.size,Ie.color=Me.color,We.addElement(Ie),We.beforeStyles({"transform-origin":`${$} top`,height:`${Oe.height}px`,display:"",position:"relative",[$]:F}).beforeAddWrite(()=>{Me.style.setProperty("opacity","0")}).afterAddWrite(()=>{Me.style.setProperty("opacity",""),Ie.style.setProperty("display","none")}).keyframes(ct),Ce.addAnimation(We)},Ue=(Ce,Xe)=>{var Re;try{const Me="cubic-bezier(0.32,0.72,0,1)",Oe="opacity",dt="transform",Ae="0%",xe="rtl"===Ce.ownerDocument.dir,He=xe?"-99.5%":"99.5%",$=xe?"33%":"-33%",F=Xe.enteringEl,ne=Xe.leavingEl,K="back"===Xe.direction,be=F.querySelector(":scope > ion-content"),Ge=F.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qe=F.querySelectorAll(":scope > ion-header > ion-toolbar"),Nt=(0,l.c)(),xt=(0,l.c)();if(Nt.addElement(F).duration((null!==(Re=Xe.duration)&&void 0!==Re?Re:0)||540).easing(Xe.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=Ce){const ve=(0,l.c)();ve.addElement(Ce),Nt.addAnimation(ve)}if(be||0!==qe.length||0!==Ge.length?(xt.addElement(be),xt.addElement(Ge)):xt.addElement(F.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Nt.addAnimation(xt),K?xt.beforeClearStyles([Oe]).fromTo("transform",`translateX(${$})`,`translateX(${Ae})`).fromTo(Oe,.8,1):xt.beforeClearStyles([Oe]).fromTo("transform",`translateX(${He})`,`translateX(${Ae})`),be){const ve=ie(be).querySelector(".transition-effect");if(ve){const Te=ve.querySelector(".transition-cover"),me=ve.querySelector(".transition-shadow"),ct=(0,l.c)(),Ie=(0,l.c)(),We=(0,l.c)();ct.addElement(ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ie.addElement(Te).beforeClearStyles([Oe]).fromTo(Oe,0,.1),We.addElement(me).beforeClearStyles([Oe]).fromTo(Oe,.03,.7),ct.addAnimation([Ie,We]),xt.addAnimation([ct])}}const bt=F.querySelector("ion-header.header-collapse-condense"),{forward:Ye,backward:fe}=((Ce,Xe,Re,Me,Oe)=>{const dt=ce(Me,Re),Ae=je(Oe),Ve=je(Me),xe=ce(Oe,Re),He=null!==dt&&null!==Ae&&!Re,$=null!==Ve&&null!==xe&&Re;if(He){const F=Ae.getBoundingClientRect(),ne=dt.getBoundingClientRect(),K=ie(dt).querySelector(".button-text"),be=K.getBoundingClientRect(),qe=ie(Ae).querySelector(".toolbar-title").getBoundingClientRect();Ne(Ce,Xe,Re,Ae,F,qe,K,be),X(Ce,Xe,Re,dt,ne,K,be,Ae,qe)}else if($){const F=Ve.getBoundingClientRect(),ne=xe.getBoundingClientRect(),K=ie(xe).querySelector(".button-text"),be=K.getBoundingClientRect(),qe=ie(Ve).querySelector(".toolbar-title").getBoundingClientRect();Ne(Ce,Xe,Re,Ve,F,qe,K,be),X(Ce,Xe,Re,xe,ne,K,be,Ve,qe)}return{forward:He,backward:$}})(Nt,xe,K,F,ne);if(qe.forEach(ve=>{const Te=(0,l.c)();Te.addElement(ve),Nt.addAnimation(Te);const me=(0,l.c)();me.addElement(ve.querySelector("ion-title"));const ct=(0,l.c)(),Ie=Array.from(ve.querySelectorAll("ion-buttons,[menuToggle]")),We=ve.closest("ion-header"),Be=null==We?void 0:We.classList.contains("header-collapse-condense-inactive");let tt;tt=Ie.filter(K?Yt=>{const jt=Yt.classList.contains("buttons-collapse");return jt&&!Be||!jt}:Yt=>!Yt.classList.contains("buttons-collapse")),ct.addElement(tt);const $e=(0,l.c)();$e.addElement(ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ft=(0,l.c)();ft.addElement(ie(ve).querySelector(".toolbar-background"));const Gt=(0,l.c)(),Bt=ve.querySelector("ion-back-button");if(Bt&&Gt.addElement(Bt),Te.addAnimation([me,ct,$e,ft,Gt]),ct.fromTo(Oe,.01,1),$e.fromTo(Oe,.01,1),K)Be||me.fromTo("transform",`translateX(${$})`,`translateX(${Ae})`).fromTo(Oe,.01,1),$e.fromTo("transform",`translateX(${$})`,`translateX(${Ae})`),Gt.fromTo(Oe,.01,1);else if(bt||me.fromTo("transform",`translateX(${He})`,`translateX(${Ae})`).fromTo(Oe,.01,1),$e.fromTo("transform",`translateX(${He})`,`translateX(${Ae})`),ft.beforeClearStyles([Oe,"transform"]),(null==We?void 0:We.translucent)?ft.fromTo("transform",xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ft.fromTo(Oe,.01,"var(--opacity)"),Ye||Gt.fromTo(Oe,.01,1),Bt&&!Ye){const jt=(0,l.c)();jt.addElement(ie(Bt).querySelector(".button-text")).fromTo("transform",xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Te.addAnimation(jt)}}),ne){const ve=(0,l.c)(),Te=ne.querySelector(":scope > ion-content"),me=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Te||0!==me.length||0!==ct.length?(ve.addElement(Te),ve.addElement(ct)):ve.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Nt.addAnimation(ve),K){ve.beforeClearStyles([Oe]).fromTo("transform",`translateX(${Ae})`,xe?"translateX(-100%)":"translateX(100%)");const Ie=(0,k.g)(ne);Nt.afterAddWrite(()=>{"normal"===Nt.getDirection()&&Ie.style.setProperty("display","none")})}else ve.fromTo("transform",`translateX(${Ae})`,`translateX(${$})`).fromTo(Oe,1,.8);if(Te){const Ie=ie(Te).querySelector(".transition-effect");if(Ie){const We=Ie.querySelector(".transition-cover"),Be=Ie.querySelector(".transition-shadow"),tt=(0,l.c)(),$e=(0,l.c)(),ft=(0,l.c)();tt.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$e.addElement(We).beforeClearStyles([Oe]).fromTo(Oe,.1,0),ft.addElement(Be).beforeClearStyles([Oe]).fromTo(Oe,.7,.03),tt.addAnimation([$e,ft]),ve.addAnimation([tt])}}me.forEach(Ie=>{const We=(0,l.c)();We.addElement(Ie);const Be=(0,l.c)();Be.addElement(Ie.querySelector("ion-title"));const tt=(0,l.c)(),$e=Ie.querySelectorAll("ion-buttons,[menuToggle]"),ft=Ie.closest("ion-header"),Gt=null==ft?void 0:ft.classList.contains("header-collapse-condense-inactive"),Bt=Array.from($e).filter(vt=>{const Zt=vt.classList.contains("buttons-collapse");return Zt&&!Gt||!Zt});tt.addElement(Bt);const Yt=(0,l.c)(),jt=Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");jt.length>0&&Yt.addElement(jt);const yt=(0,l.c)();yt.addElement(ie(Ie).querySelector(".toolbar-background"));const ut=(0,l.c)(),lt=Ie.querySelector("ion-back-button");if(lt&&ut.addElement(lt),We.addAnimation([Be,tt,Yt,ut,yt]),Nt.addAnimation(We),ut.fromTo(Oe,.99,0),tt.fromTo(Oe,.99,0),Yt.fromTo(Oe,.99,0),K){if(Gt||Be.fromTo("transform",`translateX(${Ae})`,xe?"translateX(-100%)":"translateX(100%)").fromTo(Oe,.99,0),Yt.fromTo("transform",`translateX(${Ae})`,xe?"translateX(-100%)":"translateX(100%)"),yt.beforeClearStyles([Oe,"transform"]),(null==ft?void 0:ft.translucent)?yt.fromTo("transform","translateX(0px)",xe?"translateX(-100%)":"translateX(100%)"):yt.fromTo(Oe,"var(--opacity)",0),lt&&!fe){const Zt=(0,l.c)();Zt.addElement(ie(lt).querySelector(".button-text")).fromTo("transform",`translateX(${Ae})`,`translateX(${(xe?-124:124)+"px"})`),We.addAnimation(Zt)}}else Gt||Be.fromTo("transform",`translateX(${Ae})`,`translateX(${$})`).fromTo(Oe,.99,0).afterClearStyles([dt,Oe]),Yt.fromTo("transform",`translateX(${Ae})`,`translateX(${$})`).afterClearStyles([dt,Oe]),ut.afterClearStyles([Oe]),Be.afterClearStyles([Oe]),tt.afterClearStyles([Oe])})}return Nt}catch(Me){throw Me}},Fe=10},3003:(rn,ot,S)=>{"use strict";S.r(ot),S.d(ot,{mdTransitionAnimation:()=>Ee});var l=S(3503),k=S(1497);S(8476),S(9081);const Ee=(oe,ie)=>{var je,ce,ye;const X="40px",Ue="back"===ie.direction,Ce=ie.leavingEl,Xe=(0,k.g)(ie.enteringEl),Re=Xe.querySelector("ion-toolbar"),Me=(0,l.c)();if(Me.addElement(Xe).fill("both").beforeRemoveClass("ion-page-invisible"),Ue?Me.duration((null!==(je=ie.duration)&&void 0!==je?je:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Me.duration((null!==(ce=ie.duration)&&void 0!==ce?ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${X})`,"translateY(0px)").fromTo("opacity",.01,1),Re){const Oe=(0,l.c)();Oe.addElement(Re),Me.addAnimation(Oe)}if(Ce&&Ue){Me.duration((null!==(ye=ie.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Oe=(0,l.c)();Oe.addElement((0,k.g)(Ce)).onFinish(dt=>{1===dt&&Oe.elements.length>0&&Oe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${X})`).fromTo("opacity",1,0),Me.addAnimation(Oe)}return Me}},4133:(rn,ot,S)=>{"use strict";S.d(ot,{B:()=>tt,G:()=>$e,O:()=>ft,a:()=>Ne,b:()=>Ue,c:()=>Re,d:()=>Gt,e:()=>Bt,f:()=>bt,g:()=>fe,h:()=>me,i:()=>Ie,j:()=>Oe,k:()=>dt,l:()=>Fe,m:()=>Ce,n:()=>He,o:()=>Nt,s:()=>Be,t:()=>Me});var l=S(467),k=S(8476),ae=S(9457),G=S(8436),Ee=S(5938),oe=S(5638),ie=S(4929);let je=0,ce=0;const ye=new WeakMap,X=yt=>({create:ut=>Ae(yt,ut),dismiss:(ut,lt,vt)=>be(document,ut,lt,yt,vt),getTop:()=>(0,l.A)(function*(){return Nt(document,yt)})()}),Ne=X("ion-alert"),Ue=X("ion-action-sheet"),Fe=X("ion-loading"),Ce=X("ion-modal"),Re=X("ion-popover"),Me=X("ion-toast"),Oe=yt=>{typeof document<"u"&&K(document);const ut=je++;yt.overlayIndex=ut},dt=yt=>(yt.hasAttribute("id")||(yt.id="ion-overlay-"+ ++ce),yt.id),Ae=(yt,ut)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(yt).then(()=>{const lt=document.createElement(yt);return lt.classList.add("overlay-hidden"),Object.assign(lt,Object.assign(Object.assign({},ut),{hasController:!0})),ve(document).appendChild(lt),new Promise(vt=>(0,oe.c)(lt,vt))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',He=(yt,ut)=>{const lt=yt.querySelector(Ve);F(lt,ut)},$=(yt,ut)=>{const lt=Array.from(yt.querySelectorAll(Ve));F(lt.length>0?lt[lt.length-1]:null,ut)},F=(yt,ut)=>{let lt=yt;const vt=null==yt?void 0:yt.shadowRoot;vt&&(lt=vt.querySelector(Ve)||yt),lt?(0,oe.f)(lt):ut.focus()},K=yt=>{0===je&&(je=1,yt.addEventListener("focus",ut=>{((yt,ut)=>{const lt=Nt(ut,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),vt=yt.target;lt&&vt&&!lt.classList.contains("ion-disable-focus-trap")&&(lt.shadowRoot?(()=>{if(lt.contains(vt))lt.lastFocus=vt;else if("ION-TOAST"===vt.tagName)F(lt.lastFocus,lt);else{const vn=lt.lastFocus;He(lt,lt),vn===ut.activeElement&&$(lt,lt),lt.lastFocus=ut.activeElement}})():(()=>{if(lt===vt)lt.lastFocus=void 0;else if("ION-TOAST"===vt.tagName)F(lt.lastFocus,lt);else{const vn=(0,oe.g)(lt);if(!vn.contains(vt))return;const Sn=vn.querySelector(".ion-overlay-wrapper");if(!Sn)return;if(Sn.contains(vt)||vt===vn.querySelector("ion-backdrop"))lt.lastFocus=vt;else{const ln=lt.lastFocus;He(Sn,lt),ln===ut.activeElement&&$(Sn,lt),lt.lastFocus=ut.activeElement}}})())})(ut,yt)},!0),yt.addEventListener("ionBackButton",ut=>{const lt=Nt(yt);null!=lt&&lt.backdropDismiss&&ut.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>{lt.dismiss(void 0,tt)})}),(0,ae.shouldUseCloseWatcher)()||yt.addEventListener("keydown",ut=>{if("Escape"===ut.key){const lt=Nt(yt);null!=lt&&lt.backdropDismiss&&lt.dismiss(void 0,tt)}}))},be=(yt,ut,lt,vt,Zt)=>{const Dn=Nt(yt,vt,Zt);return Dn?Dn.dismiss(ut,lt):Promise.reject("overlay does not exist")},qe=(yt,ut)=>((yt,ut)=>(void 0===ut&&(ut="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(yt.querySelectorAll(ut)).filter(lt=>lt.overlayIndex>0)))(yt,ut).filter(lt=>!(yt=>yt.classList.contains("overlay-hidden"))(lt)),Nt=(yt,ut,lt)=>{const vt=qe(yt,ut);return void 0===lt?vt[vt.length-1]:vt.find(Zt=>Zt.id===lt)},xt=(yt=!1)=>{const lt=ve(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");lt&&(yt?lt.setAttribute("aria-hidden","true"):lt.removeAttribute("aria-hidden"))},bt=function(){var yt=(0,l.A)(function*(ut,lt,vt,Zt,Dn){var vn,Sn;if(ut.presented)return;xt(!0),Yt(ut.el),ut.presented=!0,ut.willPresent.emit(),null===(vn=ut.willPresentShorthand)||void 0===vn||vn.emit();const ln=(0,G.b)(ut),In=ut.enterAnimation?ut.enterAnimation:G.c.get(lt,"ios"===ln?vt:Zt);(yield Te(ut,In,ut.el,Dn))&&(ut.didPresent.emit(),null===(Sn=ut.didPresentShorthand)||void 0===Sn||Sn.emit()),"ION-TOAST"!==ut.el.tagName&&Ye(ut.el),ut.keyboardClose&&(null===document.activeElement||!ut.el.contains(document.activeElement))&&ut.el.focus(),ut.el.removeAttribute("aria-hidden")});return function(lt,vt,Zt,Dn,vn){return yt.apply(this,arguments)}}(),Ye=function(){var yt=(0,l.A)(function*(ut){let lt=document.activeElement;if(!lt)return;const vt=null==lt?void 0:lt.shadowRoot;vt&&(lt=vt.querySelector(Ve)||lt),yield ut.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&lt.focus()});return function(lt){return yt.apply(this,arguments)}}(),fe=function(){var yt=(0,l.A)(function*(ut,lt,vt,Zt,Dn,vn,Sn){var ln,In;if(!ut.presented)return!1;void 0!==k.d&&1===qe(k.d).length&&xt(!1),ut.presented=!1;try{ut.el.style.setProperty("pointer-events","none"),ut.willDismiss.emit({data:lt,role:vt}),null===(ln=ut.willDismissShorthand)||void 0===ln||ln.emit({data:lt,role:vt});const un=(0,G.b)(ut),$t=ut.leaveAnimation?ut.leaveAnimation:G.c.get(Zt,"ios"===un?Dn:vn);vt!==$e&&(yield Te(ut,$t,ut.el,Sn)),ut.didDismiss.emit({data:lt,role:vt}),null===(In=ut.didDismissShorthand)||void 0===In||In.emit({data:lt,role:vt}),(ye.get(ut)||[]).forEach(Hn=>Hn.destroy()),ye.delete(ut),ut.el.classList.add("overlay-hidden"),ut.el.style.removeProperty("pointer-events"),void 0!==ut.el.lastFocus&&(ut.el.lastFocus=void 0)}catch(un){console.error(un)}return ut.el.remove(),jt(),!0});return function(lt,vt,Zt,Dn,vn,Sn,ln){return yt.apply(this,arguments)}}(),ve=yt=>yt.querySelector("ion-app")||yt.body,Te=function(){var yt=(0,l.A)(function*(ut,lt,vt,Zt){vt.classList.remove("overlay-hidden");const vn=lt(ut.el,Zt);(!ut.animated||!G.c.getBoolean("animated",!0))&&vn.duration(0),ut.keyboardClose&&vn.beforeAddWrite(()=>{const ln=vt.ownerDocument.activeElement;null!=ln&&ln.matches("input,ion-input, ion-textarea")&&ln.blur()});const Sn=ye.get(ut)||[];return ye.set(ut,[...Sn,vn]),yield vn.play(),!0});return function(lt,vt,Zt,Dn){return yt.apply(this,arguments)}}(),me=(yt,ut)=>{let lt;const vt=new Promise(Zt=>lt=Zt);return ct(yt,ut,Zt=>{lt(Zt.detail)}),vt},ct=(yt,ut,lt)=>{const vt=Zt=>{(0,oe.b)(yt,ut,vt),lt(Zt)};(0,oe.a)(yt,ut,vt)},Ie=yt=>"cancel"===yt||yt===tt,We=yt=>yt(),Be=(yt,ut)=>{if("function"==typeof yt)return G.c.get("_zoneGate",We)(()=>{try{return yt(ut)}catch(vt){throw vt}})},tt="backdrop",$e="gesture",ft=39,Gt=yt=>{let lt,ut=!1;const vt=(0,Ee.C)(),Zt=(Sn=!1)=>{if(lt&&!Sn)return{delegate:lt,inline:ut};const{el:ln,hasController:In,delegate:un}=yt;return ut=null!==ln.parentNode&&!In,lt=ut?un||vt:un,{inline:ut,delegate:lt}};return{attachViewToDom:function(){var Sn=(0,l.A)(function*(ln){const{delegate:In}=Zt(!0);if(In)return yield In.attachViewToDom(yt.el,ln);const{hasController:un}=yt;if(un&&void 0!==ln)throw new Error("framework delegate is missing");return null});return function(In){return Sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Sn}=Zt();Sn&&void 0!==yt.el&&Sn.removeViewFromDom(yt.el.parentElement,yt.el)}}},Bt=()=>{let yt;const ut=()=>{yt&&(yt(),yt=void 0)};return{addClickListener:(vt,Zt)=>{ut();const Dn=void 0!==Zt?document.getElementById(Zt):null;Dn?yt=((Sn,ln)=>{const In=()=>{ln.present()};return Sn.addEventListener("click",In),()=>{Sn.removeEventListener("click",In)}})(Dn,vt):(0,ie.p)(`A trigger element with the ID "${Zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,vt)},removeClickListener:ut}},Yt=yt=>{var ut;if(void 0===k.d)return;const lt=qe(k.d);for(let vt=lt.length-1;vt>=0;vt--){const Zt=lt[vt],Dn=null!==(ut=lt[vt+1])&&void 0!==ut?ut:yt;(Dn.hasAttribute("aria-hidden")||"ION-TOAST"!==Dn.tagName)&&Zt.setAttribute("aria-hidden","true")}},jt=()=>{if(void 0===k.d)return;const yt=qe(k.d);for(let ut=yt.length-1;ut>=0;ut--){const lt=yt[ut];if(lt.removeAttribute("aria-hidden"),"ION-TOAST"!==lt.tagName)break}}},6796:(rn,ot,S)=>{"use strict";S.d(ot,{u:()=>X});var l=S(467),k=S(7935),Ee=(S(509),S(2246),S(9350)),oe=S(7707);function ie(Ne,Ue){const Fe="object"==typeof Ue;return new Promise((Ce,Xe)=>{const Re=new oe.Ms({next:Me=>{Ce(Me),Re.unsubscribe()},error:Xe,complete:()=>{Fe?Ce(Ue.defaultValue):Xe(new Ee.G)}});Ne.subscribe(Re)})}var je=S(4438),ce=S(1182),ye=S(3510);let X=(()=>{var Ne;class Ue{constructor(Ce,Xe,Re){this.auth=Ce,this.firestore=Xe,this.afAuth=Re,this.user=null,this.afAuth.setPersistence(k.A.auth.Auth.Persistence.LOCAL).then(()=>{console.log("Persistence set to LOCAL")}).catch(Me=>{console.error("Error setting persistence: ",Me)})}setUser(Ce){this.user=Ce}getUserUid(){const Ce=k.A.auth().currentUser;return Ce?Ce.uid:null}loginFireauth(Ce){return new Promise((Xe,Re)=>{k.A.auth().signInWithEmailAndPassword(Ce.email,Ce.password).then(Me=>Xe(Me),Me=>Re(Me))})}userRegistration(Ce){var Xe=this;return(0,l.A)(function*(){try{var Re,Me,Oe;const dt=yield k.A.auth().createUserWithEmailAndPassword(Ce.email,Ce.password);return yield null===(Re=dt.user)||void 0===Re?void 0:Re.updateProfile({displayName:Ce.names}),yield Xe.firestore.collection("users").doc(null===(Me=dt.user)||void 0===Me?void 0:Me.uid).set({email:Ce.email,phone:Ce.phone,prof:Ce.prof,names:Ce.names}),yield Xe.firestore.collection("profile").doc(null===(Oe=dt.user)||void 0===Oe?void 0:Oe.uid).set({name:Ce.names,email:Ce.email,photoUrl:"/assets/images/avatar.png"}),dt}catch(dt){throw dt}})()}saveAllResponses(Ce){var Xe=this;return(0,l.A)(function*(){try{const Re=yield Xe.afAuth.currentUser;if(Re)return Xe.firestore.collection("users").doc(Re.uid).collection("questionnaires").doc().set({responses:Ce,timestamp:k.A.firestore.FieldValue.serverTimestamp()});throw new Error("User not authenticated")}catch(Re){throw console.error("Error saving responses: ",Re),Re}})()}fetchUserQuestionnaires(){var Ce=this;return(0,l.A)(function*(){try{const Xe=yield Ce.afAuth.currentUser;if(Xe){const Re=yield ie(Ce.firestore.collection("profile").doc(Xe.uid).get());if(!Re.exists)throw new Error("User profile does not exist");const Me=Re.data();if(!Me)throw new Error("User profile is empty");const Oe=yield ie(Ce.firestore.collection("users").doc(Xe.uid).collection("questionnaires").get());if(Oe.empty)throw new Error("No questionnaires found");return{userProfile:Me,questionnaires:Oe.docs.map(Ae=>Ae.data())}}throw new Error("User not authenticated")}catch(Xe){throw console.error("Error fetching questionnaires: ",Xe),Xe}})()}resetPassword(Ce){var Xe=this;return(0,l.A)(function*(){try{yield Xe.afAuth.sendPasswordResetEmail(Ce)}catch(Re){throw Re}})()}}return(Ne=Ue).\u0275fac=function(Ce){return new(Ce||Ne)(je.KVO(ce.DS),je.KVO(ye.Qe),je.KVO(ce.DS))},Ne.\u0275prov=je.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ue})()},3656:(rn,ot,S)=>{"use strict";var l=S(345),k=S(4438),ae=S(4964),G=S(7157),Ee=S(9364),oe=S(6796),ie=S(1182);let je=(()=>{var Ae;class Ve{constructor(He,$,F){this.authService=He,this.navCtrl=$,this.afAuth=F}ngOnInit(){this.afAuth.onAuthStateChanged(He=>{He?console.log("User is logged in"):(console.log("User is not logged in"),this.navCtrl.navigateRoot("/login"))})}}return(Ae=Ve).\u0275fac=function(He){return new(He||Ae)(k.rXU(oe.u),k.rXU(G.q9),k.rXU(ie.DS))},Ae.\u0275cmp=k.VBU({type:Ae,selectors:[["app-root"]],decls:2,vars:0,template:function(He,$){1&He&&(k.j41(0,"ion-app"),k.nrm(1,"ion-router-outlet"),k.k0s())},dependencies:[Ee.U1,Ee.Rg]}),Ve})();S(2214);const X=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([S.e(2076),S.e(2069)]).then(S.bind(S,2069)).then(Ae=>Ae.HomePageModule)},{path:"signup",loadChildren:()=>S.e(2789).then(S.bind(S,2789)).then(Ae=>Ae.SignupPageModule)},{path:"forgotpassword",loadChildren:()=>S.e(8746).then(S.bind(S,8746)).then(Ae=>Ae.ForgotpasswordPageModule)},{path:"login",loadChildren:()=>S.e(6688).then(S.bind(S,6688)).then(Ae=>Ae.LoginPageModule)},{path:"loginscreen",loadChildren:()=>S.e(5657).then(S.bind(S,5657)).then(Ae=>Ae.LoginscreenPageModule)},{path:"tabs",loadChildren:()=>S.e(7915).then(S.bind(S,7915)).then(Ae=>Ae.TabsPageModule),canActivate:[(()=>{var Ae;class Ve{constructor(He,$){this.router=He,this.afAuth=$}canActivate(He,$){return new Promise((F,ne)=>{this.afAuth.onAuthStateChanged(K=>{K?F(!0):(F(!1),this.router.navigate(["login"]))})})}}return(Ae=Ve).\u0275fac=function(He){return new(He||Ae)(k.KVO(ae.Ix),k.KVO(ie.DS))},Ae.\u0275prov=k.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ve})()]},{path:"uploadimage",loadChildren:()=>S.e(8420).then(S.bind(S,8420)).then(Ae=>Ae.UploadimagePageModule)},{path:"profile",loadChildren:()=>Promise.all([S.e(2076),S.e(2373)]).then(S.bind(S,2373)).then(Ae=>Ae.ProfilePageModule)}];let Ne=(()=>{var Ae;class Ve{}return(Ae=Ve).\u0275fac=function(He){return new(He||Ae)},Ae.\u0275mod=k.$C({type:Ae}),Ae.\u0275inj=k.G2t({imports:[ae.iI.forRoot(X,{preloadingStrategy:ae.Kp}),ae.iI]}),Ve})();var Ue=S(4341),Fe=S(9253),Ce=S(3510);const Xe_firebaseConfig={apiKey:"AIzaSyA0tGdlX2h9NIbMovD0nntjfyOo0LH__ho",authDomain:"afdc-47483.firebaseapp.com",projectId:"afdc-47483",storageBucket:"afdc-47483.appspot.com",messagingSenderId:"940700185048",appId:"1:940700185048:web:5258386706b6cb43fd02ad",measurementId:"G-SVDESWQGEQ"};var Re=S(4902);let Me=(()=>{var Ae;class Ve{}return(Ae=Ve).\u0275fac=function(He){return new(He||Ae)},Ae.\u0275mod=k.$C({type:Ae,bootstrap:[je]}),Ae.\u0275inj=k.G2t({providers:[{provide:ae.b,useClass:G.jM},Re.F],imports:[l.Bb,Ee.bv.forRoot(),Ne,Ue.X1,Ue.YN,ie.X8,Fe.bf.initializeApp(Xe_firebaseConfig),Ce.cM]}),Ve})();var Oe=S(7935);(0,k.SmG)(),l.sG().bootstrapModule(Me).catch(Ae=>console.log(Ae));const dt={apiKey:"AIzaSyA0tGdlX2h9NIbMovD0nntjfyOo0LH__ho",authDomain:"afdc-47483.firebaseapp.com",projectId:"afdc-47483",storageBucket:"afdc-47483.appspot.com",messagingSenderId:"940700185048",appId:"1:940700185048:web:5258386706b6cb43fd02ad",measurementId:"G-SVDESWQGEQ"};try{Oe.A.initializeApp(dt)}catch(Ae){console.error("Erro ao inicializar o Firebase:",Ae)}},262:function(rn,ot){var S,k;S=function ae(){"use strict";var G=typeof self<"u"?self:typeof window<"u"?window:void 0!==G?G:{},Ee=!G.document&&!!G.postMessage,oe=G.IS_PAPA_WORKER||!1,ie={},je=0,ce={parse:function($,F){var ne=(F=F||{}).dynamicTyping||!1;if(He(ne)&&(F.dynamicTypingFunction=ne,ne={}),F.dynamicTyping=ne,F.transform=!!He(F.transform)&&F.transform,F.worker&&ce.WORKERS_SUPPORTED){var K=function(){if(!ce.WORKERS_SUPPORTED)return!1;var Nt,xt,Ge=(Nt=G.URL||G.webkitURL||null,xt=ae.toString(),ce.BLOB_URL||(ce.BLOB_URL=Nt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",xt,")();"],{type:"text/javascript"})))),qe=new G.Worker(Ge);return qe.onmessage=Oe,qe.id=je++,ie[qe.id]=qe}();return K.userStep=F.step,K.userChunk=F.chunk,K.userComplete=F.complete,K.userError=F.error,F.step=He(F.step),F.chunk=He(F.chunk),F.complete=He(F.complete),F.error=He(F.error),delete F.worker,void K.postMessage({input:$,config:F,workerId:K.id})}var Ge,be=null;return"string"==typeof $?($=65279===(Ge=$).charCodeAt(0)?Ge.slice(1):Ge,be=F.download?new Ne(F):new Fe(F)):!0===$.readable&&He($.read)&&He($.on)?be=new Ce(F):(G.File&&$ instanceof File||$ instanceof Object)&&(be=new Ue(F)),be.stream($)},unparse:function($,F){var ne=!1,K=!0,be=",",Ge="\r\n",qe='"',Nt=qe+qe,xt=!1,bt=null,Ye=!1;!function(){if("object"==typeof F){if("string"!=typeof F.delimiter||ce.BAD_DELIMITERS.filter(function(me){return-1!==F.delimiter.indexOf(me)}).length||(be=F.delimiter),("boolean"==typeof F.quotes||"function"==typeof F.quotes||Array.isArray(F.quotes))&&(ne=F.quotes),"boolean"!=typeof F.skipEmptyLines&&"string"!=typeof F.skipEmptyLines||(xt=F.skipEmptyLines),"string"==typeof F.newline&&(Ge=F.newline),"string"==typeof F.quoteChar&&(qe=F.quoteChar),"boolean"==typeof F.header&&(K=F.header),Array.isArray(F.columns)){if(0===F.columns.length)throw new Error("Option columns is empty");bt=F.columns}void 0!==F.escapeChar&&(Nt=F.escapeChar+qe),("boolean"==typeof F.escapeFormulae||F.escapeFormulae instanceof RegExp)&&(Ye=F.escapeFormulae instanceof RegExp?F.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var fe=new RegExp(Re(qe),"g");if("string"==typeof $&&($=JSON.parse($)),Array.isArray($)){if(!$.length||Array.isArray($[0]))return ve(null,$,xt);if("object"==typeof $[0])return ve(bt||Object.keys($[0]),$,xt)}else if("object"==typeof $)return"string"==typeof $.data&&($.data=JSON.parse($.data)),Array.isArray($.data)&&($.fields||($.fields=$.meta&&$.meta.fields||bt),$.fields||($.fields=Array.isArray($.data[0])?$.fields:"object"==typeof $.data[0]?Object.keys($.data[0]):[]),Array.isArray($.data[0])||"object"==typeof $.data[0]||($.data=[$.data])),ve($.fields||[],$.data||[],xt);throw new Error("Unable to serialize unrecognized input");function ve(me,ct,Ie){var We="";"string"==typeof me&&(me=JSON.parse(me)),"string"==typeof ct&&(ct=JSON.parse(ct));var Be=Array.isArray(me)&&0<me.length,tt=!Array.isArray(ct[0]);if(Be&&K){for(var $e=0;$e<me.length;$e++)0<$e&&(We+=be),We+=Te(me[$e],$e);0<ct.length&&(We+=Ge)}for(var ft=0;ft<ct.length;ft++){var Gt=Be?me.length:ct[ft].length,Bt=!1,Yt=Be?0===Object.keys(ct[ft]).length:0===ct[ft].length;if(Ie&&!Be&&(Bt="greedy"===Ie?""===ct[ft].join("").trim():1===ct[ft].length&&0===ct[ft][0].length),"greedy"===Ie&&Be){for(var jt=[],yt=0;yt<Gt;yt++)jt.push(ct[ft][tt?me[yt]:yt]);Bt=""===jt.join("").trim()}if(!Bt){for(var lt=0;lt<Gt;lt++)0<lt&&!Yt&&(We+=be),We+=Te(ct[ft][Be&&tt?me[lt]:lt],lt);ft<ct.length-1&&(!Ie||0<Gt&&!Yt)&&(We+=Ge)}}return We}function Te(me,ct){if(null==me)return"";if(me.constructor===Date)return JSON.stringify(me).slice(1,25);var Ie=!1;Ye&&"string"==typeof me&&Ye.test(me)&&(me="'"+me,Ie=!0);var We=me.toString().replace(fe,Nt);return(Ie=Ie||!0===ne||"function"==typeof ne&&ne(me,ct)||Array.isArray(ne)&&ne[ct]||function(Be,tt){for(var $e=0;$e<tt.length;$e++)if(-1<Be.indexOf(tt[$e]))return!0;return!1}(We,ce.BAD_DELIMITERS)||-1<We.indexOf(be)||" "===We.charAt(0)||" "===We.charAt(We.length-1))?qe+We+qe:We}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(ce.BAD_DELIMITERS=["\r","\n",'"',ce.BYTE_ORDER_MARK],ce.WORKERS_SUPPORTED=!Ee&&!!G.Worker,ce.NODE_STREAM_INPUT=1,ce.LocalChunkSize=10485760,ce.RemoteChunkSize=5242880,ce.DefaultDelimiter=",",ce.Parser=Me,ce.ParserHandle=Xe,ce.NetworkStreamer=Ne,ce.FileStreamer=Ue,ce.StringStreamer=Fe,ce.ReadableStreamStreamer=Ce,G.jQuery){var ye=G.jQuery;ye.fn.parse=function($){var F=$.config||{},ne=[];return this.each(function(Ge){if("INPUT"!==ye(this).prop("tagName").toUpperCase()||"file"!==ye(this).attr("type").toLowerCase()||!G.FileReader||!this.files||0===this.files.length)return!0;for(var qe=0;qe<this.files.length;qe++)ne.push({file:this.files[qe],inputElem:this,instanceConfig:ye.extend({},F)})}),K(),this;function K(){if(0!==ne.length){var qe,Nt,xt,bt=ne[0];if(He($.before)){var Ye=$.before(bt.file,bt.inputElem);if("object"==typeof Ye){if("abort"===Ye.action)return"AbortError",qe=bt.file,Nt=bt.inputElem,xt=Ye.reason,void(He($.error)&&$.error({name:"AbortError"},qe,Nt,xt));if("skip"===Ye.action)return void be();"object"==typeof Ye.config&&(bt.instanceConfig=ye.extend(bt.instanceConfig,Ye.config))}else if("skip"===Ye)return void be()}var fe=bt.instanceConfig.complete;bt.instanceConfig.complete=function(ve){He(fe)&&fe(ve,bt.file,bt.inputElem),be()},ce.parse(bt.file,bt.instanceConfig)}else He($.complete)&&$.complete()}function be(){ne.splice(0,1),K()}}}function X($){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(F){var ne=Ve(F);ne.chunkSize=parseInt(ne.chunkSize),F.step||F.chunk||(ne.chunkSize=null),this._handle=new Xe(ne),(this._handle.streamer=this)._config=ne}.call(this,$),this.parseChunk=function(F,ne){if(this.isFirstChunk&&He(this._config.beforeFirstChunk)){var K=this._config.beforeFirstChunk(F);void 0!==K&&(F=K)}this.isFirstChunk=!1,this._halted=!1;var be=this._partialLine+F;this._partialLine="";var Ge=this._handle.parse(be,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var qe=Ge.meta.cursor;this._finished||(this._partialLine=be.substring(qe-this._baseIndex),this._baseIndex=qe),Ge&&Ge.data&&(this._rowCount+=Ge.data.length);var Nt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(oe)G.postMessage({results:Ge,workerId:ce.WORKER_ID,finished:Nt});else if(He(this._config.chunk)&&!ne){if(this._config.chunk(Ge,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ge=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ge.data),this._completeResults.errors=this._completeResults.errors.concat(Ge.errors),this._completeResults.meta=Ge.meta),this._completed||!Nt||!He(this._config.complete)||Ge&&Ge.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Nt||Ge&&Ge.meta.paused||this._nextChunk(),Ge}this._halted=!0},this._sendError=function(F){He(this._config.error)?this._config.error(F):oe&&this._config.error&&G.postMessage({workerId:ce.WORKER_ID,error:F,finished:!1})}}function Ne($){var F;($=$||{}).chunkSize||($.chunkSize=ce.RemoteChunkSize),X.call(this,$),this._nextChunk=Ee?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ne){this._input=ne,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),Ee||(F.onload=xe(this._chunkLoaded,this),F.onerror=xe(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Ee),this._config.downloadRequestHeaders){var ne=this._config.downloadRequestHeaders;for(var K in ne)F.setRequestHeader(K,ne[K])}this._config.chunkSize&&F.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{F.send(this._config.downloadRequestBody)}catch(Ge){this._chunkError(Ge.message)}Ee&&0===F.status&&this._chunkError()}},this._chunkLoaded=function(){var K;4===F.readyState&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(K=F.getResponseHeader("Content-Range"))?-1:parseInt(K.substring(K.lastIndexOf("/")+1))),this.parseChunk(F.responseText)))},this._chunkError=function(ne){this._sendError(new Error(F.statusText||ne))}}function Ue($){var F,ne;($=$||{}).chunkSize||($.chunkSize=ce.LocalChunkSize),X.call(this,$);var K=typeof FileReader<"u";this.stream=function(be){this._input=be,ne=be.slice||be.webkitSlice||be.mozSlice,K?((F=new FileReader).onload=xe(this._chunkLoaded,this),F.onerror=xe(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var be=this._input;if(this._config.chunkSize){var Ge=Math.min(this._start+this._config.chunkSize,this._input.size);be=ne.call(be,this._start,Ge)}var qe=F.readAsText(be,this._config.encoding);K||this._chunkLoaded({target:{result:qe}})},this._chunkLoaded=function(be){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(be.target.result)},this._chunkError=function(){this._sendError(F.error)}}function Fe($){var F;X.call(this,$=$||{}),this.stream=function(ne){return F=ne,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var ne,K=this._config.chunkSize;return K?(ne=F.substring(0,K),F=F.substring(K)):(ne=F,F=""),this._finished=!F,this.parseChunk(ne)}}}function Ce($){X.call(this,$=$||{});var F=[],ne=!0,K=!1;this.pause=function(){X.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){X.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(be){this._input=be,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){K&&1===F.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):ne=!0},this._streamData=xe(function(be){try{F.push("string"==typeof be?be:be.toString(this._config.encoding)),ne&&(ne=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(Ge){this._streamError(Ge)}},this),this._streamError=xe(function(be){this._streamCleanUp(),this._sendError(be)},this),this._streamEnd=xe(function(){this._streamCleanUp(),K=!0,this._streamData("")},this),this._streamCleanUp=xe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Xe($){var F,ne,K,be=Math.pow(2,53),Ge=-be,qe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Nt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,xt=this,bt=0,Ye=0,fe=!1,ve=!1,Te=[],me={data:[],errors:[],meta:{}};if(He($.step)){var ct=$.step;$.step=function(ft){if(me=ft,Be())We();else{if(We(),0===me.data.length)return;bt+=ft.data.length,$.preview&&bt>$.preview?ne.abort():(me.data=me.data[0],ct(me,xt))}}}function Ie(ft){return"greedy"===$.skipEmptyLines?""===ft.join("").trim():1===ft.length&&0===ft[0].length}function We(){return me&&K&&($e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ce.DefaultDelimiter+"'"),K=!1),$.skipEmptyLines&&(me.data=me.data.filter(function(ft){return!Ie(ft)})),Be()&&function(){if(me)if(Array.isArray(me.data[0])){for(var Gt=0;Be()&&Gt<me.data.length;Gt++)me.data[Gt].forEach(ft);me.data.splice(0,1)}else me.data.forEach(ft);function ft(Bt,Yt){He($.transformHeader)&&(Bt=$.transformHeader(Bt,Yt)),Te.push(Bt)}}(),function(){if(!me||!$.header&&!$.dynamicTyping&&!$.transform)return me;function ft(Bt,Yt){var jt,yt=$.header?{}:[];for(jt=0;jt<Bt.length;jt++){var ut=jt,lt=Bt[jt];$.header&&(ut=jt>=Te.length?"__parsed_extra":Te[jt]),$.transform&&(lt=$.transform(lt,ut)),lt=tt(ut,lt),"__parsed_extra"===ut?(yt[ut]=yt[ut]||[],yt[ut].push(lt)):yt[ut]=lt}return $.header&&(jt>Te.length?$e("FieldMismatch","TooManyFields","Too many fields: expected "+Te.length+" fields but parsed "+jt,Ye+Yt):jt<Te.length&&$e("FieldMismatch","TooFewFields","Too few fields: expected "+Te.length+" fields but parsed "+jt,Ye+Yt)),yt}var Gt=1;return!me.data.length||Array.isArray(me.data[0])?(me.data=me.data.map(ft),Gt=me.data.length):me.data=ft(me.data,0),$.header&&me.meta&&(me.meta.fields=Te),Ye+=Gt,me}()}function Be(){return $.header&&0===Te.length}function tt(ft,Gt){return Bt=ft,$.dynamicTypingFunction&&void 0===$.dynamicTyping[Bt]&&($.dynamicTyping[Bt]=$.dynamicTypingFunction(Bt)),!0===($.dynamicTyping[Bt]||$.dynamicTyping)?"true"===Gt||"TRUE"===Gt||"false"!==Gt&&"FALSE"!==Gt&&(function(Yt){if(qe.test(Yt)){var jt=parseFloat(Yt);if(Ge<jt&&jt<be)return!0}return!1}(Gt)?parseFloat(Gt):Nt.test(Gt)?new Date(Gt):""===Gt?null:Gt):Gt;var Bt}function $e(ft,Gt,Bt,Yt){var jt={type:ft,code:Gt,message:Bt};void 0!==Yt&&(jt.row=Yt),me.errors.push(jt)}this.parse=function(ft,Gt,Bt){if($.newline||($.newline=function(ut,lt){ut=ut.substring(0,1048576);var vt=new RegExp(Re(lt)+"([^]*?)"+Re(lt),"gm"),Zt=(ut=ut.replace(vt,"")).split("\r"),Dn=ut.split("\n");if(1===Zt.length||1<Dn.length&&Dn[0].length<Zt[0].length)return"\n";for(var Sn=0,ln=0;ln<Zt.length;ln++)"\n"===Zt[ln][0]&&Sn++;return Sn>=Zt.length/2?"\r\n":"\r"}(ft,$.quoteChar||'"')),K=!1,$.delimiter)He($.delimiter)&&($.delimiter=$.delimiter(ft),me.meta.delimiter=$.delimiter);else{var jt=function(ut,lt,vt,Zt,Dn){var vn,Sn,ln,In;Dn=Dn||[",","\t","|",";",ce.RECORD_SEP,ce.UNIT_SEP];for(var un=0;un<Dn.length;un++){var $t=Dn[un],Wn=0,Hn=0,or=0;ln=void 0;for(var On=new Me({comments:Zt,delimiter:$t,newline:lt,preview:10}).parse(ut),ar=0;ar<On.data.length;ar++)if(vt&&Ie(On.data[ar]))or++;else{var Or=On.data[ar].length;Hn+=Or,void 0!==ln?0<Or&&(Wn+=Math.abs(Or-ln),ln=Or):ln=Or}0<On.data.length&&(Hn/=On.data.length-or),(void 0===Sn||Wn<=Sn)&&(void 0===In||In<Hn)&&1.99<Hn&&(Sn=Wn,vn=$t,In=Hn)}return{successful:!!($.delimiter=vn),bestDelimiter:vn}}(ft,$.newline,$.skipEmptyLines,$.comments,$.delimitersToGuess);jt.successful?$.delimiter=jt.bestDelimiter:(K=!0,$.delimiter=ce.DefaultDelimiter),me.meta.delimiter=$.delimiter}var yt=Ve($);return $.preview&&$.header&&yt.preview++,F=ft,ne=new Me(yt),me=ne.parse(F,Gt,Bt),We(),fe?{meta:{paused:!0}}:me||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,ne.abort(),F=He($.chunk)?"":F.substring(ne.getCharIndex())},this.resume=function(){xt.streamer._halted?(fe=!1,xt.streamer.parseChunk(F,!0)):setTimeout(xt.resume,3)},this.aborted=function(){return ve},this.abort=function(){ve=!0,ne.abort(),me.meta.aborted=!0,He($.complete)&&$.complete(me),F=""}}function Re($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Me($){var F,ne=($=$||{}).delimiter,K=$.newline,be=$.comments,Ge=$.step,qe=$.preview,Nt=$.fastMode,xt=F=null==$.quoteChar?'"':$.quoteChar;if(void 0!==$.escapeChar&&(xt=$.escapeChar),("string"!=typeof ne||-1<ce.BAD_DELIMITERS.indexOf(ne))&&(ne=","),be===ne)throw new Error("Comment character same as delimiter");!0===be?be="#":("string"!=typeof be||-1<ce.BAD_DELIMITERS.indexOf(be))&&(be=!1),"\n"!==K&&"\r"!==K&&"\r\n"!==K&&(K="\n");var bt=0,Ye=!1;this.parse=function(fe,ve,Te){if("string"!=typeof fe)throw new Error("Input must be a string");var me=fe.length,ct=ne.length,Ie=K.length,We=be.length,Be=He(Ge),tt=[],$e=[],ft=[],Gt=bt=0;if(!fe)return pn();if($.header&&!ve){var Bt=fe.split(K)[0].split(ne),Yt=[],jt={},yt=!1;for(var ut in Bt){var lt=Bt[ut];He($.transformHeader)&&(lt=$.transformHeader(lt,ut));var vt=lt,Zt=jt[lt]||0;for(0<Zt&&(yt=!0,vt=lt+"_"+Zt),jt[lt]=Zt+1;Yt.includes(vt);)vt=vt+"_"+Zt;Yt.push(vt)}if(yt){var Dn=fe.split(K);Dn[0]=Yt.join(ne),fe=Dn.join(K)}}if(Nt||!1!==Nt&&-1===fe.indexOf(F)){for(var vn=fe.split(K),Sn=0;Sn<vn.length;Sn++){if(bt+=(ft=vn[Sn]).length,Sn!==vn.length-1)bt+=K.length;else if(Te)return pn();if(!be||ft.substring(0,We)!==be){if(Be){if(tt=[],or(ft.split(ne)),kr(),Ye)return pn()}else or(ft.split(ne));if(qe&&qe<=Sn)return tt=tt.slice(0,qe),pn(!0)}}return pn()}for(var ln=fe.indexOf(ne,bt),In=fe.indexOf(K,bt),un=new RegExp(Re(xt)+Re(F),"g"),$t=fe.indexOf(F,bt);;)if(fe[bt]!==F)if(be&&0===ft.length&&fe.substring(bt,bt+We)===be){if(-1===In)return pn();In=fe.indexOf(K,bt=In+Ie),ln=fe.indexOf(ne,bt)}else if(-1!==ln&&(ln<In||-1===In))ft.push(fe.substring(bt,ln)),ln=fe.indexOf(ne,bt=ln+ct);else{if(-1===In)break;if(ft.push(fe.substring(bt,In)),Or(In+Ie),Be&&(kr(),Ye))return pn();if(qe&&tt.length>=qe)return pn(!0)}else for($t=bt,bt++;;){if(-1===($t=fe.indexOf(F,$t+1)))return Te||$e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:tt.length,index:bt}),ar();if($t===me-1)return ar(fe.substring(bt,$t).replace(un,F));if(F!==xt||fe[$t+1]!==xt){if(F===xt||0===$t||fe[$t-1]!==xt){-1!==ln&&ln<$t+1&&(ln=fe.indexOf(ne,$t+1)),-1!==In&&In<$t+1&&(In=fe.indexOf(K,$t+1));var Wn=On(-1===In?ln:Math.min(ln,In));if(fe.substr($t+1+Wn,ct)===ne){ft.push(fe.substring(bt,$t).replace(un,F)),fe[bt=$t+1+Wn+ct]!==F&&($t=fe.indexOf(F,bt)),ln=fe.indexOf(ne,bt),In=fe.indexOf(K,bt);break}var Hn=On(In);if(fe.substring($t+1+Hn,$t+1+Hn+Ie)===K){if(ft.push(fe.substring(bt,$t).replace(un,F)),Or($t+1+Hn+Ie),ln=fe.indexOf(ne,bt),$t=fe.indexOf(F,bt),Be&&(kr(),Ye))return pn();if(qe&&tt.length>=qe)return pn(!0);break}$e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:tt.length,index:bt}),$t++}}else $t++}return ar();function or(Pn){tt.push(Pn),Gt=bt}function On(Pn){var Gn=0;if(-1!==Pn){var Dr=fe.substring($t+1,Pn);Dr&&""===Dr.trim()&&(Gn=Dr.length)}return Gn}function ar(Pn){return Te||(void 0===Pn&&(Pn=fe.substring(bt)),ft.push(Pn),bt=me,or(ft),Be&&kr()),pn()}function Or(Pn){bt=Pn,or(ft),ft=[],In=fe.indexOf(K,bt)}function pn(Pn){return{data:tt,errors:$e,meta:{delimiter:ne,linebreak:K,aborted:Ye,truncated:!!Pn,cursor:Gt+(ve||0)}}}function kr(){Ge(pn()),tt=[],$e=[]}},this.abort=function(){Ye=!0},this.getCharIndex=function(){return bt}}function Oe($){var F=$.data,ne=ie[F.workerId],K=!1;if(F.error)ne.userError(F.error,F.file);else if(F.results&&F.results.data){var be={abort:function(){K=!0,dt(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Ae,resume:Ae};if(He(ne.userStep)){for(var Ge=0;Ge<F.results.data.length&&(ne.userStep({data:F.results.data[Ge],errors:F.results.errors,meta:F.results.meta},be),!K);Ge++);delete F.results}else He(ne.userChunk)&&(ne.userChunk(F.results,be,F.file),delete F.results)}F.finished&&!K&&dt(F.workerId,F.results)}function dt($,F){var ne=ie[$];He(ne.userComplete)&&ne.userComplete(F),ne.terminate(),delete ie[$]}function Ae(){throw new Error("Not implemented.")}function Ve($){if("object"!=typeof $||null===$)return $;var F=Array.isArray($)?[]:{};for(var ne in $)F[ne]=Ve($[ne]);return F}function xe($,F){return function(){$.apply(F,arguments)}}function He($){return"function"==typeof $}return oe&&(G.onmessage=function($){var F=$.data;if(void 0===ce.WORKER_ID&&F&&(ce.WORKER_ID=F.workerId),"string"==typeof F.input)G.postMessage({workerId:ce.WORKER_ID,results:ce.parse(F.input,F.config),finished:!0});else if(G.File&&F.input instanceof File||F.input instanceof Object){var ne=ce.parse(F.input,F.config);ne&&G.postMessage({workerId:ce.WORKER_ID,results:ne,finished:!0})}}),(Ne.prototype=Object.create(X.prototype)).constructor=Ne,(Ue.prototype=Object.create(X.prototype)).constructor=Ue,(Fe.prototype=Object.create(Fe.prototype)).constructor=Fe,(Ce.prototype=Object.create(X.prototype)).constructor=Ce,ce},void 0!==(k=S.apply(ot,[]))&&(rn.exports=k)},4412:(rn,ot,S)=>{"use strict";S.d(ot,{t:()=>k});var l=S(1413);class k extends l.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const Ee=super._subscribe(G);return!Ee.closed&&G.next(this._value),Ee}getValue(){const{hasError:G,thrownError:Ee,_value:oe}=this;if(G)throw Ee;return this._throwIfClosed(),oe}next(G){super.next(this._value=G)}}},1985:(rn,ot,S)=>{"use strict";S.d(ot,{c:()=>je});var l=S(7707),k=S(8359),ae=S(3494),G=S(1203),Ee=S(1026),oe=S(8071),ie=S(9786);let je=(()=>{class Ne{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ce=new Ne;return Ce.source=this,Ce.operator=Fe,Ce}subscribe(Fe,Ce,Xe){const Re=function X(Ne){return Ne&&Ne instanceof l.vU||function ye(Ne){return Ne&&(0,oe.T)(Ne.next)&&(0,oe.T)(Ne.error)&&(0,oe.T)(Ne.complete)}(Ne)&&(0,k.Uv)(Ne)}(Fe)?Fe:new l.Ms(Fe,Ce,Xe);return(0,ie.Y)(()=>{const{operator:Me,source:Oe}=this;Re.add(Me?Me.call(Re,Oe):Oe?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ce){Fe.error(Ce)}}forEach(Fe,Ce){return new(Ce=ce(Ce))((Xe,Re)=>{const Me=new l.Ms({next:Oe=>{try{Fe(Oe)}catch(dt){Re(dt),Me.unsubscribe()}},error:Re,complete:Xe});this.subscribe(Me)})}_subscribe(Fe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Fe)}[ae.s](){return this}pipe(...Fe){return(0,G.m)(Fe)(this)}toPromise(Fe){return new(Fe=ce(Fe))((Ce,Xe)=>{let Re;this.subscribe(Me=>Re=Me,Me=>Xe(Me),()=>Ce(Re))})}}return Ne.create=Ue=>new Ne(Ue),Ne})();function ce(Ne){var Ue;return null!==(Ue=null!=Ne?Ne:Ee.$.Promise)&&void 0!==Ue?Ue:Promise}},1413:(rn,ot,S)=>{"use strict";S.d(ot,{B:()=>ie});var l=S(1985),k=S(8359);const G=(0,S(1853).L)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=S(7908),oe=S(9786);let ie=(()=>{class ce extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const Ne=new je(this,this);return Ne.operator=X,Ne}_throwIfClosed(){if(this.closed)throw new G}next(X){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(X)}})}error(X){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(X)}})}complete(){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:Ne,isStopped:Ue,observers:Fe}=this;return Ne||Ue?k.Kn:(this.currentObservers=null,Fe.push(X),new k.yU(()=>{this.currentObservers=null,(0,Ee.o)(Fe,X)}))}_checkFinalizedStatuses(X){const{hasError:Ne,thrownError:Ue,isStopped:Fe}=this;Ne?X.error(Ue):Fe&&X.complete()}asObservable(){const X=new l.c;return X.source=this,X}}return ce.create=(ye,X)=>new je(ye,X),ce})();class je extends ie{constructor(ye,X){super(),this.destination=ye,this.source=X}next(ye){var X,Ne;null===(Ne=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===Ne||Ne.call(X,ye)}error(ye){var X,Ne;null===(Ne=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===Ne||Ne.call(X,ye)}complete(){var ye,X;null===(X=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===X||X.call(ye)}_subscribe(ye){var X,Ne;return null!==(Ne=null===(X=this.source)||void 0===X?void 0:X.subscribe(ye))&&void 0!==Ne?Ne:k.Kn}}},7707:(rn,ot,S)=>{"use strict";S.d(ot,{Ms:()=>Xe,vU:()=>Ne});var l=S(8071),k=S(8359),ae=S(1026),G=S(5334),Ee=S(5343);const oe=ce("C",void 0,void 0);function ce(Ae,Ve,xe){return{kind:Ae,value:Ve,error:xe}}var ye=S(9270),X=S(9786);class Ne extends k.yU{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,k.Uv)(Ve)&&Ve.add(this)):this.destination=dt}static create(Ve,xe,He){return new Xe(Ve,xe,He)}next(Ve){this.isStopped?Oe(function je(Ae){return ce("N",Ae,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Oe(function ie(Ae){return ce("E",void 0,Ae)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Oe(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Fe(Ae,Ve){return Ue.call(Ae,Ve)}class Ce{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ve)}catch(He){Re(He)}}error(Ve){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ve)}catch(He){Re(He)}else Re(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(xe){Re(xe)}}}class Xe extends Ne{constructor(Ve,xe,He){let $;if(super(),(0,l.T)(Ve)||!Ve)$={next:null!=Ve?Ve:void 0,error:null!=xe?xe:void 0,complete:null!=He?He:void 0};else{let F;this&&ae.$.useDeprecatedNextContext?(F=Object.create(Ve),F.unsubscribe=()=>this.unsubscribe(),$={next:Ve.next&&Fe(Ve.next,F),error:Ve.error&&Fe(Ve.error,F),complete:Ve.complete&&Fe(Ve.complete,F)}):$=Ve}this.destination=new Ce($)}}function Re(Ae){ae.$.useDeprecatedSynchronousErrorHandling?(0,X.l)(Ae):(0,G.m)(Ae)}function Oe(Ae,Ve){const{onStoppedNotification:xe}=ae.$;xe&&ye.f.setTimeout(()=>xe(Ae,Ve))}const dt={closed:!0,next:Ee.l,error:function Me(Ae){throw Ae},complete:Ee.l}},8359:(rn,ot,S)=>{"use strict";S.d(ot,{Kn:()=>oe,yU:()=>Ee,Uv:()=>ie});var l=S(8071);const ae=(0,S(1853).L)(ce=>function(X){ce(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((Ne,Ue)=>`${Ue+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var G=S(7908);class Ee{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Fe of X)Fe.remove(this);else X.remove(this);const{initialTeardown:Ne}=this;if((0,l.T)(Ne))try{Ne()}catch(Fe){ye=Fe instanceof ae?Fe.errors:[Fe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Fe of Ue)try{je(Fe)}catch(Ce){ye=null!=ye?ye:[],Ce instanceof ae?ye=[...ye,...Ce.errors]:ye.push(Ce)}}if(ye)throw new ae(ye)}}add(ye){var X;if(ye&&ye!==this)if(this.closed)je(ye);else{if(ye instanceof Ee){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(ye)}}_hasParent(ye){const{_parentage:X}=this;return X===ye||Array.isArray(X)&&X.includes(ye)}_addParent(ye){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(ye),X):X?[X,ye]:ye}_removeParent(ye){const{_parentage:X}=this;X===ye?this._parentage=null:Array.isArray(X)&&(0,G.o)(X,ye)}remove(ye){const{_finalizers:X}=this;X&&(0,G.o)(X,ye),ye instanceof Ee&&ye._removeParent(this)}}Ee.EMPTY=(()=>{const ce=new Ee;return ce.closed=!0,ce})();const oe=Ee.EMPTY;function ie(ce){return ce instanceof Ee||ce&&"closed"in ce&&(0,l.T)(ce.remove)&&(0,l.T)(ce.add)&&(0,l.T)(ce.unsubscribe)}function je(ce){(0,l.T)(ce)?ce():ce.unsubscribe()}},1026:(rn,ot,S)=>{"use strict";S.d(ot,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(rn,ot,S)=>{"use strict";S.d(ot,{z:()=>ye});var l=S(1985),k=S(3073),ae=S(8455),G=S(3669),Ee=S(6450),oe=S(3794),ie=S(8496),je=S(4360),ce=S(5225);function ye(...Ue){const Fe=(0,oe.lI)(Ue),Ce=(0,oe.ms)(Ue),{args:Xe,keys:Re}=(0,k.D)(Ue);if(0===Xe.length)return(0,ae.H)([],Fe);const Me=new l.c(function X(Ue,Fe,Ce=G.D){return Xe=>{Ne(Fe,()=>{const{length:Re}=Ue,Me=new Array(Re);let Oe=Re,dt=Re;for(let Ae=0;Ae<Re;Ae++)Ne(Fe,()=>{const Ve=(0,ae.H)(Ue[Ae],Fe);let xe=!1;Ve.subscribe((0,je._)(Xe,He=>{Me[Ae]=He,xe||(xe=!0,dt--),dt||Xe.next(Ce(Me.slice()))},()=>{--Oe||Xe.complete()}))},Xe)},Xe)}}(Xe,Fe,Re?Oe=>(0,ie.e)(Re,Oe):G.D));return Ce?Me.pipe((0,Ee.I)(Ce)):Me}function Ne(Ue,Fe,Ce){Ue?(0,ce.N)(Ce,Ue,Fe):Fe()}},8793:(rn,ot,S)=>{"use strict";S.d(ot,{x:()=>Ee});var l=S(6365),ae=S(3794),G=S(8455);function Ee(...oe){return function k(){return(0,l.U)(1)}()((0,G.H)(oe,(0,ae.lI)(oe)))}},983:(rn,ot,S)=>{"use strict";S.d(ot,{w:()=>k});const k=new(S(1985).c)(Ee=>Ee.complete())},8455:(rn,ot,S)=>{"use strict";S.d(ot,{H:()=>Ve});var l=S(8750),k=S(941),ae=S(6745),oe=S(1985),je=S(4761),ce=S(8071),ye=S(5225);function Ne(xe,He){if(!xe)throw new Error("Iterable cannot be null");return new oe.c($=>{(0,ye.N)($,He,()=>{const F=xe[Symbol.asyncIterator]();(0,ye.N)($,He,()=>{F.next().then(ne=>{ne.done?$.complete():$.next(ne.value)})},0,!0)})})}var Ue=S(5055),Fe=S(9858),Ce=S(7441),Xe=S(5397),Re=S(7953),Me=S(591),Oe=S(5196);function Ve(xe,He){return He?function Ae(xe,He){if(null!=xe){if((0,Ue.l)(xe))return function G(xe,He){return(0,l.Tg)(xe).pipe((0,ae._)(He),(0,k.Q)(He))}(xe,He);if((0,Ce.X)(xe))return function ie(xe,He){return new oe.c($=>{let F=0;return He.schedule(function(){F===xe.length?$.complete():($.next(xe[F++]),$.closed||this.schedule())})})}(xe,He);if((0,Fe.y)(xe))return function Ee(xe,He){return(0,l.Tg)(xe).pipe((0,ae._)(He),(0,k.Q)(He))}(xe,He);if((0,Re.T)(xe))return Ne(xe,He);if((0,Xe.x)(xe))return function X(xe,He){return new oe.c($=>{let F;return(0,ye.N)($,He,()=>{F=xe[je.l](),(0,ye.N)($,He,()=>{let ne,K;try{({value:ne,done:K}=F.next())}catch(be){return void $.error(be)}K?$.complete():$.next(ne)},0,!0)}),()=>(0,ce.T)(null==F?void 0:F.return)&&F.return()})}(xe,He);if((0,Oe.U)(xe))return function dt(xe,He){return Ne((0,Oe.C)(xe),He)}(xe,He)}throw(0,Me.L)(xe)}(xe,He):(0,l.Tg)(xe)}},3726:(rn,ot,S)=>{"use strict";S.d(ot,{R:()=>ye});var l=S(8750),k=S(1985),ae=S(1397),G=S(7441),Ee=S(8071),oe=S(6450);const ie=["addListener","removeListener"],je=["addEventListener","removeEventListener"],ce=["on","off"];function ye(Ce,Xe,Re,Me){if((0,Ee.T)(Re)&&(Me=Re,Re=void 0),Me)return ye(Ce,Xe,Re).pipe((0,oe.I)(Me));const[Oe,dt]=function Fe(Ce){return(0,Ee.T)(Ce.addEventListener)&&(0,Ee.T)(Ce.removeEventListener)}(Ce)?je.map(Ae=>Ve=>Ce[Ae](Xe,Ve,Re)):function Ne(Ce){return(0,Ee.T)(Ce.addListener)&&(0,Ee.T)(Ce.removeListener)}(Ce)?ie.map(X(Ce,Xe)):function Ue(Ce){return(0,Ee.T)(Ce.on)&&(0,Ee.T)(Ce.off)}(Ce)?ce.map(X(Ce,Xe)):[];if(!Oe&&(0,G.X)(Ce))return(0,ae.Z)(Ae=>ye(Ae,Xe,Re))((0,l.Tg)(Ce));if(!Oe)throw new TypeError("Invalid event target");return new k.c(Ae=>{const Ve=(...xe)=>Ae.next(1<xe.length?xe:xe[0]);return Oe(Ve),()=>dt(Ve)})}function X(Ce,Xe){return Re=>Me=>Ce[Re](Xe,Me)}},8750:(rn,ot,S)=>{"use strict";S.d(ot,{Tg:()=>Ue});var l=S(1635),k=S(7441),ae=S(9858),G=S(1985),Ee=S(5055),oe=S(7953),ie=S(591),je=S(5397),ce=S(5196),ye=S(8071),X=S(5334),Ne=S(3494);function Ue(Ae){if(Ae instanceof G.c)return Ae;if(null!=Ae){if((0,Ee.l)(Ae))return function Fe(Ae){return new G.c(Ve=>{const xe=Ae[Ne.s]();if((0,ye.T)(xe.subscribe))return xe.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,k.X)(Ae))return function Ce(Ae){return new G.c(Ve=>{for(let xe=0;xe<Ae.length&&!Ve.closed;xe++)Ve.next(Ae[xe]);Ve.complete()})}(Ae);if((0,ae.y)(Ae))return function Xe(Ae){return new G.c(Ve=>{Ae.then(xe=>{Ve.closed||(Ve.next(xe),Ve.complete())},xe=>Ve.error(xe)).then(null,X.m)})}(Ae);if((0,oe.T)(Ae))return Me(Ae);if((0,je.x)(Ae))return function Re(Ae){return new G.c(Ve=>{for(const xe of Ae)if(Ve.next(xe),Ve.closed)return;Ve.complete()})}(Ae);if((0,ce.U)(Ae))return function Oe(Ae){return Me((0,ce.C)(Ae))}(Ae)}throw(0,ie.L)(Ae)}function Me(Ae){return new G.c(Ve=>{(function dt(Ae,Ve){var xe,He,$,F;return(0,l.sH)(this,void 0,void 0,function*(){try{for(xe=(0,l.xN)(Ae);!(He=yield xe.next()).done;)if(Ve.next(He.value),Ve.closed)return}catch(ne){$={error:ne}}finally{try{He&&!He.done&&(F=xe.return)&&(yield F.call(xe))}finally{if($)throw $.error}}Ve.complete()})})(Ae,Ve).catch(xe=>Ve.error(xe))})}},7673:(rn,ot,S)=>{"use strict";S.d(ot,{of:()=>ae});var l=S(3794),k=S(8455);function ae(...G){const Ee=(0,l.lI)(G);return(0,k.H)(G,Ee)}},4360:(rn,ot,S)=>{"use strict";S.d(ot,{_:()=>k});var l=S(7707);function k(G,Ee,oe,ie,je){return new ae(G,Ee,oe,ie,je)}class ae extends l.vU{constructor(Ee,oe,ie,je,ce,ye){super(Ee),this.onFinalize=ce,this.shouldUnsubscribe=ye,this._next=oe?function(X){try{oe(X)}catch(Ne){Ee.error(Ne)}}:super._next,this._error=je?function(X){try{je(X)}catch(Ne){Ee.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(X){Ee.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},9901:(rn,ot,S)=>{"use strict";S.d(ot,{U:()=>ae});var l=S(9974),k=S(4360);function ae(G){return(0,l.N)((Ee,oe)=>{let ie=!1;Ee.subscribe((0,k._)(oe,je=>{ie=!0,oe.next(je)},()=>{ie||oe.next(G),oe.complete()}))})}},3294:(rn,ot,S)=>{"use strict";S.d(ot,{F:()=>G});var l=S(3669),k=S(9974),ae=S(4360);function G(oe,ie=l.D){return oe=null!=oe?oe:Ee,(0,k.N)((je,ce)=>{let ye,X=!0;je.subscribe((0,ae._)(ce,Ne=>{const Ue=ie(Ne);(X||!oe(ye,Ue))&&(X=!1,ye=Ue,ce.next(Ne))}))})}function Ee(oe,ie){return oe===ie}},5964:(rn,ot,S)=>{"use strict";S.d(ot,{p:()=>ae});var l=S(9974),k=S(4360);function ae(G,Ee){return(0,l.N)((oe,ie)=>{let je=0;oe.subscribe((0,k._)(ie,ce=>G.call(Ee,ce,je++)&&ie.next(ce)))})}},1594:(rn,ot,S)=>{"use strict";S.d(ot,{$:()=>ie});var l=S(9350),k=S(5964),ae=S(6697),G=S(9901),Ee=S(3774),oe=S(3669);function ie(je,ce){const ye=arguments.length>=2;return X=>X.pipe(je?(0,k.p)((Ne,Ue)=>je(Ne,Ue,X)):oe.D,(0,ae.s)(1),ye?(0,G.U)(ce):(0,Ee.v)(()=>new l.G))}},6354:(rn,ot,S)=>{"use strict";S.d(ot,{T:()=>ae});var l=S(9974),k=S(4360);function ae(G,Ee){return(0,l.N)((oe,ie)=>{let je=0;oe.subscribe((0,k._)(ie,ce=>{ie.next(G.call(Ee,ce,je++))}))})}},6365:(rn,ot,S)=>{"use strict";S.d(ot,{U:()=>ae});var l=S(1397),k=S(3669);function ae(G=1/0){return(0,l.Z)(k.D,G)}},1397:(rn,ot,S)=>{"use strict";S.d(ot,{Z:()=>je});var l=S(6354),k=S(8750),ae=S(9974),G=S(5225),Ee=S(4360),ie=S(8071);function je(ce,ye,X=1/0){return(0,ie.T)(ye)?je((Ne,Ue)=>(0,l.T)((Fe,Ce)=>ye(Ne,Fe,Ue,Ce))((0,k.Tg)(ce(Ne,Ue))),X):("number"==typeof ye&&(X=ye),(0,ae.N)((Ne,Ue)=>function oe(ce,ye,X,Ne,Ue,Fe,Ce,Xe){const Re=[];let Me=0,Oe=0,dt=!1;const Ae=()=>{dt&&!Re.length&&!Me&&ye.complete()},Ve=He=>Me<Ne?xe(He):Re.push(He),xe=He=>{Fe&&ye.next(He),Me++;let $=!1;(0,k.Tg)(X(He,Oe++)).subscribe((0,Ee._)(ye,F=>{null==Ue||Ue(F),Fe?Ve(F):ye.next(F)},()=>{$=!0},void 0,()=>{if($)try{for(Me--;Re.length&&Me<Ne;){const F=Re.shift();Ce?(0,G.N)(ye,Ce,()=>xe(F)):xe(F)}Ae()}catch(F){ye.error(F)}}))};return ce.subscribe((0,Ee._)(ye,Ve,()=>{dt=!0,Ae()})),()=>{null==Xe||Xe()}}(Ne,Ue,ce,X)))}},941:(rn,ot,S)=>{"use strict";S.d(ot,{Q:()=>G});var l=S(5225),k=S(9974),ae=S(4360);function G(Ee,oe=0){return(0,k.N)((ie,je)=>{ie.subscribe((0,ae._)(je,ce=>(0,l.N)(je,Ee,()=>je.next(ce),oe),()=>(0,l.N)(je,Ee,()=>je.complete(),oe),ce=>(0,l.N)(je,Ee,()=>je.error(ce),oe)))})}},2816:(rn,ot,S)=>{"use strict";S.d(ot,{S:()=>G});var l=S(9974),k=S(4360);function G(Ee,oe){return(0,l.N)(function ae(Ee,oe,ie,je,ce){return(ye,X)=>{let Ne=ie,Ue=oe,Fe=0;ye.subscribe((0,k._)(X,Ce=>{const Xe=Fe++;Ue=Ne?Ee(Ue,Ce,Xe):(Ne=!0,Ce),je&&X.next(Ue)},ce&&(()=>{Ne&&X.next(Ue),X.complete()})))}}(Ee,oe,arguments.length>=2,!0))}},9172:(rn,ot,S)=>{"use strict";S.d(ot,{Z:()=>G});var l=S(8793),k=S(3794),ae=S(9974);function G(...Ee){const oe=(0,k.lI)(Ee);return(0,ae.N)((ie,je)=>{(oe?(0,l.x)(Ee,ie,oe):(0,l.x)(Ee,ie)).subscribe(je)})}},6745:(rn,ot,S)=>{"use strict";S.d(ot,{_:()=>k});var l=S(9974);function k(ae,G=0){return(0,l.N)((Ee,oe)=>{oe.add(ae.schedule(()=>Ee.subscribe(oe),G))})}},5558:(rn,ot,S)=>{"use strict";S.d(ot,{n:()=>G});var l=S(8750),k=S(9974),ae=S(4360);function G(Ee,oe){return(0,k.N)((ie,je)=>{let ce=null,ye=0,X=!1;const Ne=()=>X&&!ce&&je.complete();ie.subscribe((0,ae._)(je,Ue=>{null==ce||ce.unsubscribe();let Fe=0;const Ce=ye++;(0,l.Tg)(Ee(Ue,Ce)).subscribe(ce=(0,ae._)(je,Xe=>je.next(oe?oe(Ue,Xe,Ce,Fe++):Xe),()=>{ce=null,Ne()}))},()=>{X=!0,Ne()}))})}},6697:(rn,ot,S)=>{"use strict";S.d(ot,{s:()=>G});var l=S(983),k=S(9974),ae=S(4360);function G(Ee){return Ee<=0?()=>l.w:(0,k.N)((oe,ie)=>{let je=0;oe.subscribe((0,ae._)(ie,ce=>{++je<=Ee&&(ie.next(ce),Ee<=je&&ie.complete())}))})}},8141:(rn,ot,S)=>{"use strict";S.d(ot,{M:()=>Ee});var l=S(8071),k=S(9974),ae=S(4360),G=S(3669);function Ee(oe,ie,je){const ce=(0,l.T)(oe)||ie||je?{next:oe,error:ie,complete:je}:oe;return ce?(0,k.N)((ye,X)=>{var Ne;null===(Ne=ce.subscribe)||void 0===Ne||Ne.call(ce);let Ue=!0;ye.subscribe((0,ae._)(X,Fe=>{var Ce;null===(Ce=ce.next)||void 0===Ce||Ce.call(ce,Fe),X.next(Fe)},()=>{var Fe;Ue=!1,null===(Fe=ce.complete)||void 0===Fe||Fe.call(ce),X.complete()},Fe=>{var Ce;Ue=!1,null===(Ce=ce.error)||void 0===Ce||Ce.call(ce,Fe),X.error(Fe)},()=>{var Fe,Ce;Ue&&(null===(Fe=ce.unsubscribe)||void 0===Fe||Fe.call(ce)),null===(Ce=ce.finalize)||void 0===Ce||Ce.call(ce)}))}):G.D}},3774:(rn,ot,S)=>{"use strict";S.d(ot,{v:()=>G});var l=S(9350),k=S(9974),ae=S(4360);function G(oe=Ee){return(0,k.N)((ie,je)=>{let ce=!1;ie.subscribe((0,ae._)(je,ye=>{ce=!0,je.next(ye)},()=>ce?je.complete():je.error(oe())))})}function Ee(){return new l.G}},6780:(rn,ot,S)=>{"use strict";S.d(ot,{R:()=>Ee});var l=S(8359);class k extends l.yU{constructor(ie,je){super()}schedule(ie,je=0){return this}}const ae={setInterval(oe,ie,...je){const{delegate:ce}=ae;return null!=ce&&ce.setInterval?ce.setInterval(oe,ie,...je):setInterval(oe,ie,...je)},clearInterval(oe){const{delegate:ie}=ae;return((null==ie?void 0:ie.clearInterval)||clearInterval)(oe)},delegate:void 0};var G=S(7908);class Ee extends k{constructor(ie,je){super(ie,je),this.scheduler=ie,this.work=je,this.pending=!1}schedule(ie,je=0){var ce;if(this.closed)return this;this.state=ie;const ye=this.id,X=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(X,ye,je)),this.pending=!0,this.delay=je,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId(X,this.id,je),this}requestAsyncId(ie,je,ce=0){return ae.setInterval(ie.flush.bind(ie,this),ce)}recycleAsyncId(ie,je,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return je;null!=je&&ae.clearInterval(je)}execute(ie,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ie,je);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,je){let ye,ce=!1;try{this.work(ie)}catch(X){ce=!0,ye=X||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:ie,scheduler:je}=this,{actions:ce}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(ce,this),null!=ie&&(this.id=this.recycleAsyncId(je,ie,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,ot,S)=>{"use strict";S.d(ot,{q:()=>ae});var l=S(6129);class k{constructor(Ee,oe=k.now){this.schedulerActionCtor=Ee,this.now=oe}schedule(Ee,oe=0,ie){return new this.schedulerActionCtor(this,Ee).schedule(ie,oe)}}k.now=l.U.now;class ae extends k{constructor(Ee,oe=k.now){super(Ee,oe),this.actions=[],this._active=!1}flush(Ee){const{actions:oe}=this;if(this._active)return void oe.push(Ee);let ie;this._active=!0;do{if(ie=Ee.execute(Ee.state,Ee.delay))break}while(Ee=oe.shift());if(this._active=!1,ie){for(;Ee=oe.shift();)Ee.unsubscribe();throw ie}}}},3236:(rn,ot,S)=>{"use strict";S.d(ot,{E:()=>ae});var l=S(6780);const ae=new(S(9687).q)(l.R)},6129:(rn,ot,S)=>{"use strict";S.d(ot,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(rn,ot,S)=>{"use strict";S.d(ot,{f:()=>l});const l={setTimeout(k,ae,...G){const{delegate:Ee}=l;return null!=Ee&&Ee.setTimeout?Ee.setTimeout(k,ae,...G):setTimeout(k,ae,...G)},clearTimeout(k){const{delegate:ae}=l;return((null==ae?void 0:ae.clearTimeout)||clearTimeout)(k)},delegate:void 0}},4761:(rn,ot,S)=>{"use strict";S.d(ot,{l:()=>k});const k=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,ot,S)=>{"use strict";S.d(ot,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,ot,S)=>{"use strict";S.d(ot,{G:()=>k});const k=(0,S(1853).L)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,ot,S)=>{"use strict";S.d(ot,{R0:()=>oe,ms:()=>G,lI:()=>Ee});var l=S(8071);function ae(ie){return ie[ie.length-1]}function G(ie){return(0,l.T)(ae(ie))?ie.pop():void 0}function Ee(ie){return function k(ie){return ie&&(0,l.T)(ie.schedule)}(ae(ie))?ie.pop():void 0}function oe(ie,je){return"number"==typeof ae(ie)?ie.pop():je}},3073:(rn,ot,S)=>{"use strict";S.d(ot,{D:()=>Ee});const{isArray:l}=Array,{getPrototypeOf:k,prototype:ae,keys:G}=Object;function Ee(ie){if(1===ie.length){const je=ie[0];if(l(je))return{args:je,keys:null};if(function oe(ie){return ie&&"object"==typeof ie&&k(ie)===ae}(je)){const ce=G(je);return{args:ce.map(ye=>je[ye]),keys:ce}}}return{args:ie,keys:null}}},7908:(rn,ot,S)=>{"use strict";function l(k,ae){if(k){const G=k.indexOf(ae);0<=G&&k.splice(G,1)}}S.d(ot,{o:()=>l})},1853:(rn,ot,S)=>{"use strict";function l(k){const G=k(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}S.d(ot,{L:()=>l})},8496:(rn,ot,S)=>{"use strict";function l(k,ae){return k.reduce((G,Ee,oe)=>(G[Ee]=ae[oe],G),{})}S.d(ot,{e:()=>l})},9786:(rn,ot,S)=>{"use strict";S.d(ot,{Y:()=>ae,l:()=>G});var l=S(1026);let k=null;function ae(Ee){if(l.$.useDeprecatedSynchronousErrorHandling){const oe=!k;if(oe&&(k={errorThrown:!1,error:null}),Ee(),oe){const{errorThrown:ie,error:je}=k;if(k=null,ie)throw je}}else Ee()}function G(Ee){l.$.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Ee)}},5225:(rn,ot,S)=>{"use strict";function l(k,ae,G,Ee=0,oe=!1){const ie=ae.schedule(function(){G(),oe?k.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(k.add(ie),!oe)return ie}S.d(ot,{N:()=>l})},3669:(rn,ot,S)=>{"use strict";function l(k){return k}S.d(ot,{D:()=>l})},7441:(rn,ot,S)=>{"use strict";S.d(ot,{X:()=>l});const l=k=>k&&"number"==typeof k.length&&"function"!=typeof k},7953:(rn,ot,S)=>{"use strict";S.d(ot,{T:()=>k});var l=S(8071);function k(ae){return Symbol.asyncIterator&&(0,l.T)(null==ae?void 0:ae[Symbol.asyncIterator])}},8071:(rn,ot,S)=>{"use strict";function l(k){return"function"==typeof k}S.d(ot,{T:()=>l})},5055:(rn,ot,S)=>{"use strict";S.d(ot,{l:()=>ae});var l=S(3494),k=S(8071);function ae(G){return(0,k.T)(G[l.s])}},5397:(rn,ot,S)=>{"use strict";S.d(ot,{x:()=>ae});var l=S(4761),k=S(8071);function ae(G){return(0,k.T)(null==G?void 0:G[l.l])}},9858:(rn,ot,S)=>{"use strict";S.d(ot,{y:()=>k});var l=S(8071);function k(ae){return(0,l.T)(null==ae?void 0:ae.then)}},5196:(rn,ot,S)=>{"use strict";S.d(ot,{C:()=>ae,U:()=>G});var l=S(1635),k=S(8071);function ae(Ee){return(0,l.AQ)(this,arguments,function*(){const ie=Ee.getReader();try{for(;;){const{value:je,done:ce}=yield(0,l.N3)(ie.read());if(ce)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(je)}}finally{ie.releaseLock()}})}function G(Ee){return(0,k.T)(null==Ee?void 0:Ee.getReader)}},9974:(rn,ot,S)=>{"use strict";S.d(ot,{N:()=>ae,S:()=>k});var l=S(8071);function k(G){return(0,l.T)(null==G?void 0:G.lift)}function ae(G){return Ee=>{if(k(Ee))return Ee.lift(function(oe){try{return G(oe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,ot,S)=>{"use strict";S.d(ot,{I:()=>G});var l=S(6354);const{isArray:k}=Array;function G(Ee){return(0,l.T)(oe=>function ae(Ee,oe){return k(oe)?Ee(...oe):Ee(oe)}(Ee,oe))}},5343:(rn,ot,S)=>{"use strict";function l(){}S.d(ot,{l:()=>l})},1203:(rn,ot,S)=>{"use strict";S.d(ot,{F:()=>k,m:()=>ae});var l=S(3669);function k(...G){return ae(G)}function ae(G){return 0===G.length?l.D:1===G.length?G[0]:function(oe){return G.reduce((ie,je)=>je(ie),oe)}}},5334:(rn,ot,S)=>{"use strict";S.d(ot,{m:()=>ae});var l=S(1026),k=S(9270);function ae(G){k.f.setTimeout(()=>{const{onUnhandledError:Ee}=l.$;if(!Ee)throw G;Ee(G)})}},591:(rn,ot,S)=>{"use strict";function l(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(ot,{L:()=>l})},8996:(rn,ot,S)=>{var l={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function k(ae){if(!S.o(l,ae))return Promise.resolve().then(()=>{var oe=new Error("Cannot find module '"+ae+"'");throw oe.code="MODULE_NOT_FOUND",oe});var G=l[ae],Ee=G[0];return Promise.all(G.slice(1).map(S.e)).then(()=>S(Ee))}k.keys=()=>Object.keys(l),k.id=8996,rn.exports=k},177:(rn,ot,S)=>{"use strict";S.d(ot,{AJ:()=>Xo,MD:()=>as,N0:()=>ls,QT:()=>ae,QX:()=>Li,Sm:()=>Xe,Sq:()=>pe,T3:()=>st,VF:()=>Ee,Vy:()=>ra,Xr:()=>ws,YU:()=>xn,ZD:()=>G,_b:()=>Bn,aZ:()=>Me,bT:()=>_e,fw:()=>Re,hb:()=>Fe,hj:()=>ce,qQ:()=>ie});var l=S(4438);let k=null;function ae(){return k}function G(D){var V;null!==(V=k)&&void 0!==V||(k=D)}class Ee{}const ie=new l.nKC("");let je=(()=>{var D;class V{historyGo(N){throw new Error("")}}return(D=V).\u0275fac=function(N){return new(N||D)},D.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(ye),providedIn:"platform"}),V})();const ce=new l.nKC("");let ye=(()=>{var D;class V extends je{constructor(){super(),this._doc=(0,l.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(N){const J=ae().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",N,!1),()=>J.removeEventListener("popstate",N)}onHashChange(N){const J=ae().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",N,!1),()=>J.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,J,ke){this._history.pushState(N,J,ke)}replaceState(N,J,ke){this._history.replaceState(N,J,ke)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return(D=V).\u0275fac=function(N){return new(N||D)},D.\u0275prov=l.jDH({token:D,factory:()=>new D,providedIn:"platform"}),V})();function X(D,V){if(0==D.length)return V;if(0==V.length)return D;let q=0;return D.endsWith("/")&&q++,V.startsWith("/")&&q++,2==q?D+V.substring(1):1==q?D+V:D+"/"+V}function Ne(D){const V=D.match(/#|\?|$/),q=V&&V.index||D.length;return D.slice(0,q-("/"===D[q-1]?1:0))+D.slice(q)}function Ue(D){return D&&"?"!==D[0]?"?"+D:D}let Fe=(()=>{var D;class V{historyGo(N){throw new Error("")}}return(D=V).\u0275fac=function(N){return new(N||D)},D.\u0275prov=l.jDH({token:D,factory:()=>(0,l.WQX)(Xe),providedIn:"root"}),V})();const Ce=new l.nKC("");let Xe=(()=>{var D;class V extends Fe{constructor(N,J){var ke,it,wt;super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=null!==(ke=null!==(it=null!=J?J:this._platformLocation.getBaseHrefFromDOM())&&void 0!==it?it:null===(wt=(0,l.WQX)(ie).location)||void 0===wt?void 0:wt.origin)&&void 0!==ke?ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return X(this._baseHref,N)}path(N=!1){const J=this._platformLocation.pathname+Ue(this._platformLocation.search),ke=this._platformLocation.hash;return ke&&N?`${J}${ke}`:J}pushState(N,J,ke,it){const wt=this.prepareExternalUrl(ke+Ue(it));this._platformLocation.pushState(N,J,wt)}replaceState(N,J,ke,it){const wt=this.prepareExternalUrl(ke+Ue(it));this._platformLocation.replaceState(N,J,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){var J,ke;null===(J=(ke=this._platformLocation).historyGo)||void 0===J||J.call(ke,N)}}return(D=V).\u0275fac=function(N){return new(N||D)(l.KVO(je),l.KVO(Ce,8))},D.\u0275prov=l.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),V})(),Re=(()=>{var D;class V extends Fe{constructor(N,J){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){var J;const ke=null!==(J=this._platformLocation.hash)&&void 0!==J?J:"#";return ke.length>0?ke.substring(1):ke}prepareExternalUrl(N){const J=X(this._baseHref,N);return J.length>0?"#"+J:J}pushState(N,J,ke,it){let wt=this.prepareExternalUrl(ke+Ue(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(N,J,wt)}replaceState(N,J,ke,it){let wt=this.prepareExternalUrl(ke+Ue(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(N,J,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){var J,ke;null===(J=(ke=this._platformLocation).historyGo)||void 0===J||J.call(ke,N)}}return(D=V).\u0275fac=function(N){return new(N||D)(l.KVO(je),l.KVO(Ce,8))},D.\u0275prov=l.jDH({token:D,factory:D.\u0275fac}),V})(),Me=(()=>{var D;class V{constructor(N){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const J=this._locationStrategy.getBaseHref();this._basePath=function Ve(D){if(new RegExp("^(https?:)?//").test(D)){const[,q]=D.split(/\/\/[^\/]+/);return q}return D}(Ne(Ae(J))),this._locationStrategy.onPopState(ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:ke.state,type:ke.type})})}ngOnDestroy(){var N;null===(N=this._urlChangeSubscription)||void 0===N||N.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,J=""){return this.path()==this.normalize(N+Ue(J))}normalize(N){return V.stripTrailingSlash(function dt(D,V){if(!D||!V.startsWith(D))return V;const q=V.substring(D.length);return""===q||["/",";","?","#"].includes(q[0])?q:V}(this._basePath,Ae(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,J="",ke=null){this._locationStrategy.pushState(ke,"",N,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ue(J)),ke)}replaceState(N,J="",ke=null){this._locationStrategy.replaceState(ke,"",N,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ue(J)),ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){var J,ke;null===(J=(ke=this._locationStrategy).historyGo)||void 0===J||J.call(ke,N)}onUrlChange(N){var J;return this._urlChangeListeners.push(N),null!==(J=this._urlChangeSubscription)&&void 0!==J||(this._urlChangeSubscription=this.subscribe(ke=>{this._notifyUrlChangeListeners(ke.url,ke.state)})),()=>{const ke=this._urlChangeListeners.indexOf(N);var it;this._urlChangeListeners.splice(ke,1),0===this._urlChangeListeners.length&&(null===(it=this._urlChangeSubscription)||void 0===it||it.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",J){this._urlChangeListeners.forEach(ke=>ke(N,J))}subscribe(N,J,ke){return this._subject.subscribe({next:N,error:J,complete:ke})}}return(D=V).normalizeQueryParams=Ue,D.joinWithSlash=X,D.stripTrailingSlash=Ne,D.\u0275fac=function(N){return new(N||D)(l.KVO(Fe))},D.\u0275prov=l.jDH({token:D,factory:()=>function Oe(){return new Me((0,l.KVO)(Fe))}(),providedIn:"root"}),V})();function Ae(D){return D.replace(/\/index.html$/,"")}var He=function(D){return D[D.Decimal=0]="Decimal",D[D.Percent=1]="Percent",D[D.Currency=2]="Currency",D[D.Scientific=3]="Scientific",D}(He||{});const be={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ie(D,V){const q=(0,l.H5H)(D),N=q[l.KH2.NumberSymbols][V];if(typeof N>"u"){if(V===be.CurrencyDecimal)return q[l.KH2.NumberSymbols][be.Decimal];if(V===be.CurrencyGroup)return q[l.KH2.NumberSymbols][be.Group]}return N}const qt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gt(D){const V=parseInt(D);if(isNaN(V))throw new Error("Invalid integer literal when parsing "+D);return V}function Bn(D,V){V=encodeURIComponent(V);for(const q of D.split(";")){const N=q.indexOf("="),[J,ke]=-1==N?[q,""]:[q.slice(0,N),q.slice(N+1)];if(J.trim()===V)return decodeURIComponent(ke)}return null}const zn=/\s+/,Xn=[];let xn=(()=>{var D;class V{constructor(N,J){this._ngEl=N,this._renderer=J,this.initialClasses=Xn,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(zn):Xn}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(zn):N}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const J of N)this._updateState(J,!0);else if(null!=N)for(const J of Object.keys(N))this._updateState(J,!!N[J]);this._applyStateDiff()}_updateState(N,J){const ke=this.stateMap.get(N);void 0!==ke?(ke.enabled!==J&&(ke.changed=!0,ke.enabled=J),ke.touched=!0):this.stateMap.set(N,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const J=N[0],ke=N[1];ke.changed?(this._toggleClass(J,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),ke.touched=!1}}_toggleClass(N,J){(N=N.trim()).length>0&&N.split(zn).forEach(ke=>{J?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}}return(D=V).\u0275fac=function(N){return new(N||D)(l.rXU(l.aKT),l.rXU(l.sFG))},D.\u0275dir=l.FsC({type:D,selectors:[["","ngClass",""]],inputs:{klass:[l.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class go{constructor(V,q,N,J){this.$implicit=V,this.ngForOf=q,this.index=N,this.count=J}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pe=(()=>{var D;class V{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,J,ke){this._viewContainer=N,this._template=J,this._differs=ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const J=this._viewContainer;N.forEachOperation((ke,it,wt)=>{if(null==ke.previousIndex)J.createEmbeddedView(this._template,new go(ke.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)J.remove(null===it?void 0:it);else if(null!==it){const vr=J.get(it);J.move(vr,wt),De(vr,ke)}});for(let ke=0,it=J.length;ke<it;ke++){const vr=J.get(ke).context;vr.index=ke,vr.count=it,vr.ngForOf=this._ngForOf}N.forEachIdentityChange(ke=>{De(J.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(N,J){return!0}}return(D=V).\u0275fac=function(N){return new(N||D)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))},D.\u0275dir=l.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function De(D,V){D.context.$implicit=V.item}let _e=(()=>{var D;class V{constructor(N,J){this._viewContainer=N,this._context=new ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Ut("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Ut("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,J){return!0}}return(D=V).\u0275fac=function(N){return new(N||D)(l.rXU(l.c1b),l.rXU(l.C4Q))},D.\u0275dir=l.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class ht{constructor(){this.$implicit=null,this.ngIf=null}}function Ut(D,V){if(V&&!V.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,l.Tbb)(V)}'.`)}let st=(()=>{var D;class V{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(this._shouldRecreateView(N)){var J;const ke=this._viewContainerRef;if(this._viewRef&&ke.remove(ke.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const it=this._createContextForwardProxy();this._viewRef=ke.createEmbeddedView(this.ngTemplateOutlet,it,{injector:null!==(J=this.ngTemplateOutletInjector)&&void 0!==J?J:void 0})}}_shouldRecreateView(N){return!!N.ngTemplateOutlet||!!N.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(N,J,ke)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,J,ke),get:(N,J,ke)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,J,ke)}})}}return(D=V).\u0275fac=function(N){return new(N||D)(l.rXU(l.c1b))},D.\u0275dir=l.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]}),V})();let Li=(()=>{var D;class V{constructor(N){this._locale=N}transform(N,J,ke){if(!function ss(D){return!(null==D||""===D||D!=D)}(N))return null;ke||(ke=this._locale);try{return function _i(D,V,q){return function Ur(D,V,q,N,J,ke,it=!1){let wt="",vr=!1;if(isFinite(D)){let Kt=function Qr(D){let N,J,ke,it,wt,V=Math.abs(D)+"",q=0;for((J=V.indexOf("."))>-1&&(V=V.replace(".","")),(ke=V.search(/e/i))>0?(J<0&&(J=ke),J+=+V.slice(ke+1),V=V.substring(0,ke)):J<0&&(J=V.length),ke=0;"0"===V.charAt(ke);ke++);if(ke===(wt=V.length))N=[0],J=1;else{for(wt--;"0"===V.charAt(wt);)wt--;for(J-=ke,N=[],it=0;ke<=wt;ke++,it++)N[it]=Number(V.charAt(ke))}return J>22&&(N=N.splice(0,21),q=J-1,J=1),{digits:N,exponent:q,integerLen:J}}(D);it&&(Kt=function Ti(D){if(0===D.digits[0])return D;const V=D.digits.length-D.integerLen;return D.exponent?D.exponent+=2:(0===V?D.digits.push(0,0):1===V&&D.digits.push(0),D.integerLen+=2),D}(Kt));let Ct=V.minInt,Mt=V.minFrac,nr=V.maxFrac;if(ke){const Ln=ke.match(qt);if(null===Ln)throw new Error(`${ke} is not a valid digit info`);const qr=Ln[1],hi=Ln[3],Zr=Ln[5];null!=qr&&(Ct=gt(qr)),null!=hi&&(Mt=gt(hi)),null!=Zr?nr=gt(Zr):null!=hi&&Mt>nr&&(nr=Mt)}!function It(D,V,q){if(V>q)throw new Error(`The minimum number of digits after fraction (${V}) is higher than the maximum (${q}).`);let N=D.digits,J=N.length-D.integerLen;const ke=Math.min(Math.max(V,J),q);let it=ke+D.integerLen,wt=N[it];if(it>0){N.splice(Math.max(D.integerLen,it));for(let Mt=it;Mt<N.length;Mt++)N[Mt]=0}else{J=Math.max(0,J),D.integerLen=1,N.length=Math.max(1,it=ke+1),N[0]=0;for(let Mt=1;Mt<it;Mt++)N[Mt]=0}if(wt>=5)if(it-1<0){for(let Mt=0;Mt>it;Mt--)N.unshift(0),D.integerLen++;N.unshift(1),D.integerLen++}else N[it-1]++;for(;J<Math.max(0,ke);J++)N.push(0);let vr=0!==ke;const Kt=V+D.integerLen,Ct=N.reduceRight(function(Mt,nr,Mr,Oi){return Oi[Mr]=(nr+=Mt)<10?nr:nr-10,vr&&(0===Oi[Mr]&&Mr>=Kt?Oi.pop():vr=!1),nr>=10?1:0},0);Ct&&(N.unshift(Ct),D.integerLen++)}(Kt,Mt,nr);let Mr=Kt.digits,Oi=Kt.integerLen;const ns=Kt.exponent;let Pr=[];for(vr=Mr.every(Ln=>!Ln);Oi<Ct;Oi++)Mr.unshift(0);for(;Oi<0;Oi++)Mr.unshift(0);Oi>0?Pr=Mr.splice(Oi,Mr.length):(Pr=Mr,Mr=[0]);const en=[];for(Mr.length>=V.lgSize&&en.unshift(Mr.splice(-V.lgSize,Mr.length).join(""));Mr.length>V.gSize;)en.unshift(Mr.splice(-V.gSize,Mr.length).join(""));Mr.length&&en.unshift(Mr.join("")),wt=en.join(Ie(q,N)),Pr.length&&(wt+=Ie(q,J)+Pr.join("")),ns&&(wt+=Ie(q,be.Exponential)+"+"+ns)}else wt=Ie(q,be.Infinity);return wt=D<0&&!vr?V.negPre+wt+V.negSuf:V.posPre+wt+V.posSuf,wt}(D,function tr(D,V="-"){const q={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},N=D.split(";"),J=N[0],ke=N[1],it=-1!==J.indexOf(".")?J.split("."):[J.substring(0,J.lastIndexOf("0")+1),J.substring(J.lastIndexOf("0")+1)],wt=it[0],vr=it[1]||"";q.posPre=wt.substring(0,wt.indexOf("#"));for(let Ct=0;Ct<vr.length;Ct++){const Mt=vr.charAt(Ct);"0"===Mt?q.minFrac=q.maxFrac=Ct+1:"#"===Mt?q.maxFrac=Ct+1:q.posSuf+=Mt}const Kt=wt.split(",");if(q.gSize=Kt[1]?Kt[1].length:0,q.lgSize=Kt[2]||Kt[1]?(Kt[2]||Kt[1]).length:0,ke){const Ct=J.length-q.posPre.length-q.posSuf.length,Mt=ke.indexOf("#");q.negPre=ke.substring(0,Mt).replace(/'/g,""),q.negSuf=ke.slice(Mt+Ct).replace(/'/g,"")}else q.negPre=V+q.posPre,q.negSuf=q.posSuf;return q}(function We(D,V){return(0,l.H5H)(D)[l.KH2.NumberFormats][V]}(V,He.Decimal),Ie(V,be.MinusSign)),V,be.Group,be.Decimal,q)}(function Yn(D){if("string"==typeof D&&!isNaN(Number(D)-parseFloat(D)))return Number(D);if("number"!=typeof D)throw new Error(`${D} is not a number`);return D}(N),ke,J)}catch(it){throw function kt(D,V){return new l.wOt(2100,!1)}()}}}return(D=V).\u0275fac=function(N){return new(N||D)(l.rXU(l.xe9,16))},D.\u0275pipe=l.EJ8({name:"number",type:D,pure:!0,standalone:!0}),V})();let as=(()=>{var D;class V{}return(D=V).\u0275fac=function(N){return new(N||D)},D.\u0275mod=l.$C({type:D}),D.\u0275inj=l.G2t({}),V})();const Xo="browser",Bs="server";function ra(D){return D===Bs}let ws=(()=>{var D;class V{}return(D=V).\u0275prov=(0,l.jDH)({token:D,providedIn:"root",factory:()=>function Xi(D){return D===Xo}((0,l.WQX)(l.Agw))?new wi((0,l.WQX)(ie),window):new Da}),V})();class wi{constructor(V,q){this.document=V,this.window=q,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(V){this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){const q=function Vi(D,V){const q=D.getElementById(V)||D.getElementsByName(V)[0];if(q)return q;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const N=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let J=N.currentNode;for(;J;){const ke=J.shadowRoot;if(ke){const it=ke.getElementById(V)||ke.querySelector(`[name="${V}"]`);if(it)return it}J=N.nextNode()}}return null}(this.document,V);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(V){this.window.history.scrollRestoration=V}scrollToElement(V){const q=V.getBoundingClientRect(),N=q.left+this.window.pageXOffset,J=q.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(N-ke[0],J-ke[1])}}class Da{setOffset(V){}getScrollPosition(){return[0,0]}scrollToPosition(V){}scrollToAnchor(V){}setHistoryScrollRestoration(V){}}class ls{}},4438:(rn,ot,S)=>{"use strict";S.d(ot,{iLQ:()=>EE,sZ2:()=>xv,hnV:()=>iT,Hbi:()=>XM,o8S:()=>nh,BIS:()=>Nv,gRc:()=>vT,Ql9:()=>IM,Ocv:()=>SM,Z63:()=>Zo,aKT:()=>su,uvJ:()=>ho,zcH:()=>va,bkB:()=>io,$GK:()=>zt,nKC:()=>xn,zZn:()=>Fo,_q3:()=>RE,MKu:()=>ME,xe9:()=>Wy,Co$:()=>lC,Vns:()=>Sf,SKi:()=>lo,Xx1:()=>Xi,Agw:()=>Al,PLl:()=>Nu,sFG:()=>X_,_9s:()=>If,czy:()=>qh,kdw:()=>Ca,C4Q:()=>Vs,NYb:()=>fM,giA:()=>nT,xvI:()=>$R,RxE:()=>XA,c1b:()=>ng,gXe:()=>Uo,mal:()=>Jp,L39:()=>AP,a0P:()=>xP,Ol2:()=>S0,w6W:()=>JT,oH4:()=>fT,SmG:()=>OM,Rfq:()=>ri,WQX:()=>Yn,naY:()=>NM,QuC:()=>So,fpN:()=>qM,HJs:()=>NP,N4e:()=>ps,O8t:()=>wP,H3F:()=>QA,H8p:()=>ba,KH2:()=>wg,TgB:()=>ag,wOt:()=>vt,WHO:()=>eT,e01:()=>tT,H5H:()=>J0,Zy3:()=>Zt,mq5:()=>cD,JZv:()=>pn,LfX:()=>gt,plB:()=>zu,jNT:()=>yE,zjR:()=>rT,TL$:()=>eI,Tbb:()=>mr,Vt3:()=>er,Mj6:()=>bi,GFd:()=>aC,OA$:()=>Xs,Jv_:()=>AA,aNF:()=>TA,R7$:()=>Sp,BMQ:()=>U0,AVh:()=>z0,wni:()=>JD,VBU:()=>Ul,FsC:()=>$o,jDH:()=>tr,G2t:()=>Qr,$C:()=>zs,EJ8:()=>_u,rXU:()=>Uu,nrm:()=>Y0,eu8:()=>Z0,bVm:()=>Fy,qex:()=>ky,k0s:()=>Oy,j41:()=>Ny,RV6:()=>aD,xGo:()=>Il,KVO:()=>ui,kS0:()=>_c,QTQ:()=>D_,bIt:()=>nE,lsd:()=>nA,XpG:()=>$D,nI1:()=>xA,bMT:()=>NA,SdG:()=>HD,NAR:()=>jD,Y8G:()=>H0,mGM:()=>tA,Njj:()=>ll,eBV:()=>oc,n$t:()=>rm,DNE:()=>lg,EFF:()=>hA,JRh:()=>oE,SpI:()=>$y,DH7:()=>CA,mxI:()=>aE,R50:()=>sE,GBs:()=>eA}),S(467);let ae=null,Ee=1;const oe=Symbol("SIGNAL");function ie(t){const n=ae;return ae=t,n}function Fe(t){if((!He(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ee)){if(!t.producerMustRecompute(t)&&!dt(t))return t.dirty=!1,void(t.lastCleanEpoch=Ee);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ee}}function dt(t){$(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(Fe(o),a!==o.version))return!0}return!1}function xe(t,n){if(function F(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),$(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)xe(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];$(c),c.producerIndexOfThis[a]=n}}function He(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function $(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let xt=null;var Bt=S(1413),Yt=S(8359),jt=S(4412),yt=S(6354);const lt="https://g.co/ng/security#xss";class vt extends Error{constructor(n,o){super(Zt(n,o)),this.code=n}}function Zt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function un(t){return{toString:t}.toString()}const Wn="__parameters__";function ar(t,n,o){return un(()=>{const a=function On(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return _.annotation=m,_;function _(E,O,z){const Q=E.hasOwnProperty(Wn)?E[Wn]:Object.defineProperty(E,Wn,{value:[]})[Wn];for(;Q.length<=z;)Q.push(null);return(Q[z]=Q[z]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const pn=globalThis;function Gn(t){for(let n in t)if(t[n]===Gn)return n;throw Error("Could not find renamed property on target object.")}function Dr(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function mr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function lr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Lr=Gn({__forward_ref__:Gn});function ri(t){return t.__forward_ref__=ri,t.toString=function(){return mr(this())},t}function at(t){return Je(t)?t():t}function Je(t){return"function"==typeof t&&t.hasOwnProperty(Lr)&&t.__forward_ref__===ri}function tr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function It(t){return Ot(t,$n)||Ot(t,zn)}function gt(t){return null!==It(t)}function Ot(t,n){return t.hasOwnProperty(n)?t[n]:null}function bn(t){return t&&(t.hasOwnProperty(Bn)||t.hasOwnProperty(Xn))?t[Bn]:null}const $n=Gn({\u0275prov:Gn}),Bn=Gn({\u0275inj:Gn}),zn=Gn({ngInjectableDef:Gn}),Xn=Gn({ngInjectorDef:Gn});class xn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=tr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hn(t){return t&&!!t.\u0275providers}const An=Gn({\u0275cmp:Gn}),Vn=Gn({\u0275dir:Gn}),Kr=Gn({\u0275pipe:Gn}),At=Gn({\u0275mod:Gn}),H=Gn({\u0275fac:Gn}),Y=Gn({__NG_ELEMENT_ID__:Gn}),ze=Gn({__NG_ENV_ID__:Gn});function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function tn(t,n){throw new vt(-201,!1)}var zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(zt||{});let Rn;function cr(){return Rn}function dr(t){const n=Rn;return Rn=t,n}function Sr(t,n,o){const a=It(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&zt.Optional?null:void 0!==n?n:void tn()}const M={},le="__NG_DI_FLAG__",rt="ngTempTokenPath",ir=/\n/gm,li="__source";let mi;function Li(t){const n=mi;return mi=t,n}function Ea(t,n=zt.Default){if(void 0===mi)throw new vt(-203,!1);return null===mi?Sr(t,void 0,n):mi.get(t,n&zt.Optional?null:void 0,n)}function ui(t,n=zt.Default){return(cr()||Ea)(at(t),n)}function Yn(t,n=zt.Default){return ui(t,To(n))}function To(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function uo(t){const n=[];for(let o=0;o<t.length;o++){const a=at(t[o]);if(Array.isArray(a)){if(0===a.length)throw new vt(900,!1);let c,h=zt.Default;for(let m=0;m<a.length;m++){const _=a[m],E=Xo(_);"number"==typeof E?-1===E?c=_.token:h|=E:c=_}n.push(ui(c,h))}else n.push(ui(a))}return n}function as(t,n){return t[le]=n,t.prototype[le]=n,t}function Xo(t){return t[le]}const Xi=as(ar("Optional"),8),Ca=as(ar("SkipSelf"),4);function Yo(t,n){return t.hasOwnProperty(H)?t[H]:null}function Vi(t,n){t.forEach(o=>Array.isArray(o)?Vi(o,n):n(o))}function Da(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ls(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function xi(t,n,o){let a=wo(t,n);return a>=0?t[1|a]=o:(a=~a,function co(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function Yi(t,n){const o=wo(t,n);if(o>=0)return t[1|o]}function wo(t,n){return function Ui(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const yi={},jn=[],Zo=new xn(""),$s=new xn("",-1),ia=new xn("");class Ss{get(n,o=M){if(o===M){const a=new Error(`NullInjectorError: No provider for ${mr(n)}!`);throw a.name="NullInjectorError",a}return o}}var Jo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jo||{}),Uo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Uo||{}),bi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(bi||{});function es(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function oa(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],_=o[a++];t.setAttribute(n,m,_,h)}else{const h=c,m=o[++a];Ni(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function Zi(t){return 3===t||4===t||6===t}function Ni(t){return 64===t.charCodeAt(0)}function Bo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||Xa(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function Xa(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const _=t[h++];if("number"==typeof _){if(_===n){m=-1;break}if(_>n){m=h-1;break}}}for(;h<t.length;){const _=t[h];if("number"==typeof _)break;if(_===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const js="ng-template";function cs(t,n,o,a){let c=0;if(a){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==es(n[c+1].toLowerCase(),o,0))return!0}else if(sa(t))return!1;if(c=n.indexOf(1,c),c>-1){let h;for(;++c<n.length&&"string"==typeof(h=n[c]);)if(h.toLowerCase()===o)return!0}return!1}function sa(t){return 4===t.type&&t.value!==js}function B(t,n,o){return n===(4!==t.type||o?t.value:js)}function P(t,n,o){let a=4;const c=t.attrs,h=null!==c?function an(t){for(let n=0;n<t.length;n++)if(Zi(t[n]))return n;return t.length}(c):0;let m=!1;for(let _=0;_<n.length;_++){const E=n[_];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!B(t,E,o)||""===E&&1===n.length){if(ue(a))return!1;m=!0}}else if(8&a){if(null===c||!cs(t,c,E,o)){if(ue(a))return!1;m=!0}}else{const O=n[++_],z=U(E,c,sa(t),o);if(-1===z){if(ue(a))return!1;m=!0;continue}if(""!==O){let Q;if(Q=z>h?"":c[z+1].toLowerCase(),2&a&&O!==Q){if(ue(a))return!1;m=!0}}}}else{if(!m&&!ue(a)&&!ue(E))return!1;if(m&&ue(E))continue;m=!1,a=E|1&a}}return ue(a)||m}function ue(t){return!(1&t)}function U(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=n[++c];for(;"string"==typeof _;)_=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Yr(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function he(t,n,o=!1){for(let a=0;a<n.length;a++)if(P(t,n[a],o))return!0;return!1}function Wi(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function bo(t,n){return t?":not("+n.trim()+")":n}function mo(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const _=t[++o];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ue(m)&&(n+=bo(h,c),c=""),a=m,h=h||!ue(a);o++}return""!==c&&(n+=bo(h,c)),n}function Ul(t){return un(()=>{var n;const o=Ws(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||Uo.Emulated,styles:t.styles||jn,_:null,schemas:t.schemas||null,tView:null,id:""};Ji(a);const c=t.dependencies;return a.directiveDefs=aa(c,!1),a.pipeDefs=aa(c,!0),a.id=function Kc(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)|0;return n+=2147483648,"c"+n}(a),a})}function Aa(t){return hr(t)||Ar(t)}function Gs(t){return null!==t}function zs(t){return un(()=>({type:t.type,bootstrap:t.bootstrap||jn,declarations:t.declarations||jn,imports:t.imports||jn,exports:t.exports||jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qa(t,n){if(null==t)return yi;const o={};for(const c in t)if(t.hasOwnProperty(c)){const h=t[c];let m,_,E=bi.None;var a;Array.isArray(h)?(E=h[0],m=h[1],_=null!==(a=h[2])&&void 0!==a?a:m):(m=h,_=h),n?(o[m]=E!==bi.None?[c,E]:c,n[m]=_):o[m]=c}return o}function $o(t){return un(()=>{const n=Ws(t);return Ji(n),n})}function _u(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function hr(t){return t[An]||null}function Ar(t){return t[Vn]||null}function ii(t){return t[Kr]||null}function So(t){const n=hr(t)||Ar(t)||ii(t);return null!==n&&n.standalone}function ci(t,n){const o=t[At]||null;if(!o&&!0===n)throw new Error(`Type ${mr(t)} does not have '\u0275mod' property.`);return o}function Ws(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qa(t.inputs,n),outputs:Qa(t.outputs),debugInfo:null}}function Ji(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function aa(t,n){if(!t)return null;const o=n?ii:Aa;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Gs)}function jo(...t){return{\u0275providers:hs(0,t),\u0275fromNgModule:!0}}function hs(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return Vi(n,m=>{const _=m;ts(_,h,[],a)&&(c||(c=[]),c.push(_))}),void 0!==c&&Ya(c,h),o}function Ya(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Ta(c,h=>{n(h,a)})}}function ts(t,n,o,a){if(!(t=at(t)))return!1;let c=null,h=bn(t);const m=!h&&hr(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const E=t.ngModule;if(h=bn(E),!h)return!1;c=E}const _=a.has(c);if(m){if(_)return!1;if(a.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const O of E)ts(O,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let O;a.add(c);try{Vi(h.imports,z=>{ts(z,n,o,a)&&(O||(O=[]),O.push(z))})}finally{}void 0!==O&&Ya(O,n)}if(!_){const O=Yo(c)||(()=>new c);n({provide:c,useFactory:O,deps:jn},c),n({provide:ia,useValue:c,multi:!0},c),n({provide:Zo,useValue:()=>ui(c),multi:!0},c)}const E=h.providers;if(null!=E&&!_){const O=t;Ta(E,z=>{n(z,O)})}}}return c!==t&&void 0!==t.providers}function Ta(t,n){for(let o of t)hn(o)&&(o=o.\u0275providers),Array.isArray(o)?Ta(o,n):n(o)}const Ms=Gn({provide:String,useValue:Gn});function eo(t){return null!==t&&"object"==typeof t&&Ms in t}function vo(t){return"function"==typeof t}const ba=new xn(""),Ks={},Sa={};let Ra;function Ma(){return void 0===Ra&&(Ra=new Ss),Ra}class ho{}class Pa extends ho{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,di(n,m=>this.processProvider(m)),this.records.set($s,Ro(void 0,this)),c.has("environment")&&this.records.set(ho,Ro(void 0,this));const h=this.records.get(ba);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(ia,jn,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ie(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Li(this),a=dr(void 0);try{return n()}finally{Li(o),dr(a)}}get(n,o=M,a=zt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ze))return n[ze](this);a=To(a);const h=Li(this),m=dr(void 0);try{if(!(a&zt.SkipSelf)){let E=this.records.get(n);if(void 0===E){const O=function Qu(t){return"function"==typeof t||"object"==typeof t&&t instanceof xn}(n)&&It(n);E=O&&this.injectableDefInScope(O)?Ro(Ja(n),Ks):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&zt.Self?Ma():this.parent).get(n,o=a&zt.Optional&&o===M?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[rt]=_[rt]||[]).unshift(mr(n)),h)throw _;return function Bs(t,n,o,a){const c=t[rt];throw n[li]&&c.unshift(n[li]),t.message=function Qo(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=mr(n);if(Array.isArray(n))c=n.map(mr).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let _=n[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):mr(_)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ir,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[rt]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{dr(m),Li(h)}}resolveInjectorInitializers(){const n=ie(null),o=Li(this),a=dr(void 0);try{const h=this.get(Zo,jn,zt.Self);for(const m of h)m()}finally{Li(o),dr(a),ie(n)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(mr(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new vt(205,!1)}processProvider(n){let o=vo(n=at(n))?n:at(n&&n.provide);const a=function yu(t){return eo(t)?Ro(void 0,t.useValue):Ro(el(t),Ks)}(n);if(!vo(n)&&!0===n.multi){let c=this.records.get(o);c||(c=Ro(void 0,Ks,!0),c.factory=()=>uo(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){const a=ie(null);try{return o.value===Ks&&(o.value=Sa,o.value=o.factory()),"object"==typeof o.value&&o.value&&function fs(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{ie(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;const o=at(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ja(t){const n=It(t),o=null!==n?n.factory:Yo(t);if(null!==o)return o;if(t instanceof xn)throw new vt(204,!1);if(t instanceof Function)return function Bl(t){if(t.length>0)throw new vt(204,!1);const o=function dn(t){return t&&(t[$n]||t[zn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new vt(204,!1)}function el(t,n,o){let a;if(vo(t)){const c=at(t);return Yo(c)||Ja(c)}if(eo(t))a=()=>at(t.useValue);else if(function wa(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...uo(t.deps||[]));else if(function Bi(t){return!(!t||!t.useExisting)}(t))a=()=>ui(at(t.useExisting));else{const c=at(t&&(t.useClass||t.provide));if(!function xa(t){return!!t.deps}(t))return Yo(c)||Ja(c);a=()=>new c(...uo(t.deps))}return a}function Ro(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function di(t,n){for(const o of t)Array.isArray(o)?di(o,n):o&&hn(o)?di(o.\u0275providers,n):n(o)}function ps(t,n){t instanceof Pa&&t.assertNotDestroyed();const a=Li(t),c=dr(void 0);try{return n()}finally{Li(a),dr(c)}}function Mo(){return void 0!==cr()||null!=function na(){return mi}()}const Pr=0,en=1,Ln=2,qr=3,hi=4,Zr=5,$i=6,la=7,Nn=8,ki=9,gs=10,Mn=11,Un=12,Na=13,gr=14,$r=15,jr=16,mn=17,Po=18,tl=19,qs=20,ua=21,fo=22,nl=23,Kn=25,Yu=1,oi=7,fi=9,Fi=10;var rs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rs||{});function Ki(t){return Array.isArray(t)&&"object"==typeof t[Yu]}function _t(t){return Array.isArray(t)&&!0===t[Yu]}function ka(t){return!!(4&t.flags)}function qi(t){return t.componentOffset>-1}function jl(t){return!(1&~t.flags)}function _o(t){return!!t.template}function Ho(t){return!!(512&t[Ln])}class Hr{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function to(t,n,o,a){null!==n?n.applyValueToInputSignal(n,a):t[o]=a}function Xs(){return rl}function rl(t){return t.type.prototype.ngOnChanges&&(t.setInput=zl),il}function il(){const t=Xc(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===yi)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function zl(t,n,o,a,c){const h=this.declaredInputs[a],m=Xc(t)||function ca(t,n){return t[ol]=n}(t,{previous:yi,current:null}),_=m.current||(m.current={}),E=m.previous,O=E[h];_[h]=new Hr(O&&O.currentValue,o,E===yi),to(t,n,c,o)}Xs.ngInherit=!0;const ol="__ngSimpleChanges__";function Xc(t){return t[ol]||null}const Qs=function(t,n,o){};let Iu=!1;function Fr(t){for(;Array.isArray(t);)t=t[Pr];return t}function Gr(t,n){return Fr(n[t])}function Si(t,n){return Fr(n[t.index])}function Wr(t,n){return t.data[n]}function po(t,n){const o=n[t];return Ki(o)?o:o[Pr]}function nc(t){return!(128&~t[Ln])}function si(t,n){return null==n?null:t[n]}function Yc(t){t[mn]=0}function Va(t){1024&t[Ln]||(t[Ln]|=1024,nc(t)&&da(t))}function Ys(t){var n;return!!(9216&t[Ln]||null!==(n=t[nl])&&void 0!==n&&n.dirty)}function sl(t){var n;if(null===(n=t[gs].changeDetectionScheduler)||void 0===n||n.notify(1),Ys(t))da(t);else if(64&t[Ln])if(function ji(){return Iu}())t[Ln]|=1024,da(t);else{var o;null===(o=t[gs].changeDetectionScheduler)||void 0===o||o.notify()}}function da(t){var n;null===(n=t[gs].changeDetectionScheduler)||void 0===n||n.notify();let o=is(t);for(;null!==o&&!(8192&o[Ln])&&(o[Ln]|=8192,nc(o));)o=is(o)}function al(t,n){if(!(256&~t[Ln]))throw new vt(911,!1);null===t[ua]&&(t[ua]=[]),t[ua].push(n)}function is(t){const n=t[qr];return _t(n)?n[qr]:n}const Zn={lFrame:Uf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zc(){return Zn.bindingsEnabled}function xs(){return null!==Zn.skipHydrationRootTNode}function Lt(){return Zn.lFrame.lView}function br(){return Zn.lFrame.tView}function oc(t){return Zn.lFrame.contextLView=t,t[Nn]}function ll(t){return Zn.lFrame.contextLView=null,t}function Jr(){let t=ed();for(;null!==t&&64===t.type;)t=t.parent;return t}function ed(){return Zn.lFrame.currentTNode}function vs(t,n){const o=Zn.lFrame;o.currentTNode=t,o.isParent=n}function sc(){return Zn.lFrame.isParent}function Hi(){Zn.lFrame.isParent=!1}function _s(){return Zn.lFrame.bindingIndex++}function cl(t,n){const o=Zn.lFrame;o.bindingIndex=o.bindingRootIndex=t,ac(n)}function ac(t){Zn.lFrame.currentDirectiveIndex=t}function uc(){return Zn.lFrame.currentQueryIndex}function dl(t){Zn.lFrame.currentQueryIndex=t}function Vf(t){const n=t[en];return 2===n.type?n.declTNode:1===n.type?t[Zr]:null}function ch(t,n,o){if(o&zt.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&zt.Host||(c=Vf(h),null===c||(h=h[gr],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Zn.lFrame=Lf();return a.currentTNode=n,a.lView=t,!0}function dh(t){const n=Lf(),o=t[en];Zn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Lf(){const t=Zn.lFrame,n=null===t?null:t.child;return null===n?Uf(t):n}function Uf(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function hh(){const t=Zn.lFrame;return Zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bf=hh;function td(){const t=hh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Oo(){return Zn.lFrame.selectedIndex}function Ql(t){Zn.lFrame.selectedIndex=t}function ai(){const t=Zn.lFrame;return Wr(t.tView,t.selectedIndex)}let gh=!0;function ys(){return gh}function Zs(t){gh=t}function Zl(t,n){for(let O=n.directiveStart,z=n.directiveEnd;O<z;O++){const Se=t.data[O].type.prototype,{ngAfterContentInit:Qe,ngAfterContentChecked:Et,ngAfterViewInit:Ft,ngAfterViewChecked:on,ngOnDestroy:cn}=Se;var o,a,c,h,m,_,E;Qe&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-O,Qe),Et&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(O,Et),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(O,Et)),Ft&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-O,Ft),on&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(O,on),(null!==(_=t.viewCheckHooks)&&void 0!==_?_:t.viewCheckHooks=[]).push(O,on)),null!=cn&&(null!==(E=t.destroyHooks)&&void 0!==E?E:t.destroyHooks=[]).push(O,cn)}}function Cu(t,n,o){rd(t,n,3,o)}function Js(t,n,o,a){(3&t[Ln])===o&&rd(t,n,o,a)}function Io(t,n){let o=t[Ln];(3&o)===n&&(o&=16383,o+=1,t[Ln]=o)}function rd(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let _=0;for(let E=void 0!==a?65535&t[mn]:0;E<m;E++)if("number"==typeof n[E+1]){if(_=n[E],null!=a&&_>=a)break}else n[E]<0&&(t[mn]+=65536),(_<h||-1==h)&&(Du(t,o,n,E),t[mn]=(4294901760&t[mn])+E+2),E++}function hc(t,n){Qs(4,t,n);const o=ie(null);try{n.call(t)}finally{ie(o),Qs(5,t,n)}}function Du(t,n,o,a){const c=o[a]<0,h=o[a+1],_=t[c?-o[a]:o[a]];c?t[Ln]>>14<t[mn]>>16&&(3&t[Ln])===n&&(t[Ln]+=16384,hc(_,h)):hc(_,h)}const ma=-1;class fc{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function ko(t){return t!==ma}function Au(t){return 32767&t}function Jl(t,n){let o=function gc(t){return t>>16}(t),a=n;for(;o>0;)a=a[gr],o--;return a}let Ns=!0;function id(t){const n=Ns;return Ns=t,n}const ml=255,jf=5;let Ir=0;const Os={};function eu(t,n){const o=_h(t,n);if(-1!==o)return o;const a=n[en];a.firstCreatePass&&(t.injectorIndex=n.length,sd(a.data,t),sd(n,null),sd(a.blueprint,null));const c=Ba(t,n),h=t.injectorIndex;if(ko(c)){const m=Au(c),_=Jl(c,n),E=_[en].data;for(let O=0;O<8;O++)n[h+O]=_[m+O]|E[m+O]}return n[h+8]=c,h}function sd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function _h(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ba(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=wu(c),null===a)return ma;if(o++,c=c[gr],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return ma}function yh(t,n,o){!function vh(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Y)&&(a=o[Y]),null==a&&(a=o[Y]=Ir++);const c=a&ml;n.data[t+(c>>jf)]|=1<<c}(t,n,o)}function mc(t,n,o){if(o&zt.Optional||void 0!==t)return t;tn()}function tu(t,n,o,a){if(o&zt.Optional&&void 0===a&&(a=null),!(o&(zt.Self|zt.Host))){const c=t[ki],h=dr(void 0);try{return c?c.get(n,a,o&zt.Optional):Sr(n,a,o&zt.Optional)}finally{dr(h)}}return mc(a,0,o)}function vl(t,n,o,a=zt.Default,c){if(null!==t){if(2048&n[Ln]&&!(a&zt.Self)){const m=function Ng(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Ln]&&!(512&m[Ln]);){const _=Ih(h,m,o,a|zt.Self,Os);if(_!==Os)return _;let E=h.parent;if(!E){const O=m[qs];if(O){const z=O.get(o,Os,a);if(z!==Os)return z}E=wu(m),m=m[gr]}h=E}return c}(t,n,o,a,Os);if(m!==Os)return m}const h=Ih(t,n,o,a,Os);if(h!==Os)return h}return tu(n,o,a,c)}function Ih(t,n,o,a,c){const h=function ad(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof n?n>=0?n&ml:ld:n}(o);if("function"==typeof h){if(!ch(n,t,a))return a&zt.Host?mc(c,0,a):tu(n,o,a,c);try{let m;if(m=h(a),null!=m||a&zt.Optional)return m;tn()}finally{Bf()}}else if("number"==typeof h){let m=null,_=_h(t,n),E=ma,O=a&zt.Host?n[$r][Zr]:null;for((-1===_||a&zt.SkipSelf)&&(E=-1===_?Ba(t,n):n[_+8],E!==ma&&Tu(a,!1)?(m=n[en],_=Au(E),n=Jl(E,n)):_=-1);-1!==_;){const z=n[en];if(Eh(h,_,z.data)){const Q=nu(_,n,o,m,a,O);if(Q!==Os)return Q}E=n[_+8],E!==ma&&Tu(a,n[en].data[_+8]===O)&&Eh(h,_,n)?(m=z,_=Au(E),n=Jl(E,n)):_=-1}}return c}function nu(t,n,o,a,c,h){const m=n[en],_=m.data[t+8],z=vc(_,m,o,null==a?qi(_)&&Ns:a!=m&&!!(3&_.type),c&zt.Host&&h===_);return null!==z?Is(n,m,z,_):Os}function vc(t,n,o,a,c){const h=t.providerIndexes,m=n.data,_=1048575&h,E=t.directiveStart,z=h>>20,Se=c?_+z:t.directiveEnd;for(let Qe=a?_:_+z;Qe<Se;Qe++){const Et=m[Qe];if(Qe<E&&o===Et||Qe>=E&&Et.type===o)return Qe}if(c){const Qe=m[E];if(Qe&&_o(Qe)&&Qe.type===o)return E}return null}function Is(t,n,o,a){let c=t[o];const h=n.data;if(function fl(t){return t instanceof fc}(c)){const m=c;m.resolving&&function nn(t,n){throw n&&n.join(" > "),new vt(-200,t)}(function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}(h[o]));const _=id(m.canSeeViewProviders);m.resolving=!0;const O=m.injectImpl?dr(m.injectImpl):null;ch(t,a,zt.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function hl(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,_;const Q=rl(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,Q),(null!==(_=o.preOrderCheckHooks)&&void 0!==_?_:o.preOrderCheckHooks=[]).push(t,Q)}var E,O,z;c&&(null!==(E=o.preOrderHooks)&&void 0!==E?E:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(O=o.preOrderHooks)&&void 0!==O?O:o.preOrderHooks=[]).push(t,h),(null!==(z=o.preOrderCheckHooks)&&void 0!==z?z:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==O&&dr(O),id(_),m.resolving=!1,Bf()}}return c}function Eh(t,n,o){return!!(o[n+(t>>jf)]&1<<t)}function Tu(t,n){return!(t&zt.Self||t&zt.Host&&n)}class Er{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return vl(this._tNode,this._lView,n,To(a),o)}}function ld(){return new Er(Jr(),Lt())}function Il(t){return un(()=>{const n=t.prototype.constructor,o=n[H]||ud(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[H]||ud(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ud(t){return Je(t)?()=>{const n=ud(at(t));return n&&n()}:Yo(t)}function wu(t){const n=t[en],o=n.type;return 2===o?n.declTNode:1===o?t[Zr]:null}function _c(t){return function xg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Zi(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(Jr(),t)}function Nr(t,n=null,o=null,a){const c=Th(t,n,o,a);return c.resolveInjectorInitializers(),c}function Th(t,n=null,o=null,a,c=new Set){const h=[o||jn,jo(t)];return a=a||("object"==typeof t?void 0:mr(t)),new Pa(h,n||Ma(),a||null,c)}let Fo=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Nr({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return Nr({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=M,t.NULL=new Ss,t.\u0275prov=tr({token:t,providedIn:"any",factory:()=>ui($s)}),t.__NG_ELEMENT_ID__=-1,n})();function Ic(t){return t.ngOriginalError}class va{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Ic(n);for(;o&&Ic(o);)o=Ic(o);return o||null}}const bu=new xn("",{providedIn:"root",factory:()=>Yn(va).handleError.bind(void 0)});let ks=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=Su,t.__NG_ENV_ID__=o=>o,n})();class Ec extends ks{constructor(n){super(),this._lView=n}onDestroy(n){return al(this._lView,n),()=>function Kl(t,n){if(null===t[ua])return;const o=t[ua].indexOf(n);-1!==o&&t[ua].splice(o,1)}(this._lView,n)}}function Su(){return new Ec(Lt())}function bh(){return ro(Jr(),Lt())}function ro(t,n){return new su(Si(t,n))}let su=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=bh,n})();function fd(t){return t instanceof su?t.nativeElement:t}function Es(t){return n=>{setTimeout(t,void 0,n)}}const io=class Fg extends Bt.B{constructor(n=!1){var o;super(),this.destroyRef=void 0,this.__isAsync=n,Mo()&&(this.destroyRef=null!==(o=Yn(ks,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const o=ie(null);try{super.next(n)}finally{ie(o)}}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var _,E,O;const Q=n;c=null===(_=Q.next)||void 0===_?void 0:_.bind(Q),h=null===(E=Q.error)||void 0===E?void 0:E.bind(Q),m=null===(O=Q.complete)||void 0===O?void 0:O.bind(Q)}this.__isAsync&&(h=Es(h),c&&(c=Es(c)),m&&(m=Es(m)));const z=super.subscribe({next:c,error:h,complete:m});return n instanceof Yt.yU&&n.add(z),z}};function Sh(){return this._results[Symbol.iterator]()}class pd{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new io}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=pd.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Sh)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function wi(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ws(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Cl(t){return!(128&~t.flags)}const v=new Map;let f=0;const Fn="__ngContext__";function yn(t,n){Ki(n)?(t[Fn]=n[tl],function I(t){v.set(t[tl],t)}(n)):t[Fn]=n}function Tc(t){return Vg(t[Un])}function qf(t){return Vg(t[hi])}function Vg(t){for(;null!==t&&!_t(t);)t=t[hi];return t}let Yf;function eI(t){Yf=t}const xv=new xn("",{providedIn:"root",factory:()=>kh}),kh="ng",Nu=new xn(""),Al=new xn("",{providedIn:"platform",factory:()=>"unknown"}),Nv=new xn("",{providedIn:"root",factory:()=>{var t;return(null===(t=function xu(){if(void 0!==Yf)return Yf;if(typeof document<"u")return document;throw new vt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Fh=()=>null;function ku(t,n,o=!1){return Fh(t,n,o)}const bd=new xn("",{providedIn:"root",factory:()=>!1});let oo;function Hv(t){var n;return(null===(n=function qg(){if(void 0===oo&&(oo=null,pn.trustedTypes))try{oo=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return oo}())||void 0===n?void 0:n.createScriptURL(t))||t}class rp{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function bl(t){return t instanceof rp?t.changingThisBreaksApplicationSecurity:t}function xc(t,n){const o=function Bh(t){return t instanceof rp&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${lt})`)}return o===n}const fI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Vu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vu||{});function Wo(t){const n=Gh();return n?n.sanitize(Vu.URL,t)||"":xc(t,"URL")?bl(t):function sp(t){return(t=String(t)).match(fI)?t:"unsafe:"+t}(Le(t))}function n_(t){const n=Gh();if(n)return Hv(n.sanitize(Vu.RESOURCE_URL,t)||"");if(xc(t,"ResourceURL"))return Hv(bl(t));throw new vt(904,!1)}function rm(t,n,o){return function nm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?n_:Wo}(n,o)(t)}function Gh(){const t=Lt();return t&&t[gs].sanitizer}const _I=/^>|^->|<!--|-->|--!>|<!-$/g,im=/(<|>)/g,yI="\u200b$1\u200b";function Fs(t){return t instanceof Function?t():t}var qh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qh||{});let Xh;function Qh(t,n){return Xh(t,n)}function Ha(t,n,o,a,c){if(null!=a){let h,m=!1;_t(a)?h=a:Ki(a)&&(m=!0,a=a[Pr]);const _=Fr(a);0===t&&null!==o?null==c?mm(n,o,_):Vc(n,o,_,c||null,!0):1===t&&null!==o?Vc(n,o,_,c||null,!0):2===t?function Uc(t,n,o){const a=Yh(t,n);a&&function m_(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,_,m):3===t&&n.destroyNode(_),null!=h&&function wI(t,n,o,a,c){const h=o[oi];h!==Fr(o)&&Ha(n,t,a,h,c);for(let _=Fi;_<o.length;_++){const E=o[_];Vd(E[en],E,t,n,a,h)}}(n,t,h,o,c)}}function Lu(t,n){return t.createComment(function i_(t){return t.replace(_I,n=>n.replace(im,yI))}(n))}function cu(t,n,o){return t.createElement(n,o)}function p_(t,n){var o;null===(o=n[gs].changeDetectionScheduler)||void 0===o||o.notify(1),Vd(t,n,n[Mn],2,null,null)}function yp(t,n){const o=t[fi],a=o.indexOf(n);o.splice(a,1)}function Fc(t,n){if(t.length<=Fi)return;const o=Fi+n,a=t[o];if(a){const c=a[jr];null!==c&&c!==t&&yp(c,a),n>0&&(t[o-1][hi]=a[hi]);const h=ls(t,Fi+n);!function f_(t,n){p_(t,n),n[Pr]=null,n[Zr]=null}(a[en],a);const m=h[Po];null!==m&&m.detachView(h[en]),a[qr]=null,a[hi]=null,a[Ln]&=-129}return a}function Ip(t,n){if(!(256&n[Ln])){const o=n[Mn];o.destroyNode&&Vd(t,n,o,3,null,null),function DI(t){let n=t[Un];if(!n)return fm(t[en],t);for(;n;){let o=null;if(Ki(n))o=n[Un];else{const a=n[Fi];a&&(o=a)}if(!o){for(;n&&!n[hi]&&n!==t;)Ki(n)&&fm(n[en],n),n=n[qr];null===n&&(n=t),Ki(n)&&fm(n[en],n),o=n&&n[hi]}n=o}}(n)}}function fm(t,n){if(256&n[Ln])return;const o=ie(null);try{n[Ln]&=-129,n[Ln]|=256,n[nl]&&function Ae(t){if($(t),He(t))for(let n=0;n<t.producerNode.length;n++)xe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[nl]),function gm(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof fc)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=c[h[m]],E=h[m+1];Qs(4,_,E);try{E.call(_)}finally{Qs(5,_,E)}}else{Qs(4,c,h);try{h.call(c)}finally{Qs(5,c,h)}}}}}(t,n),function pm(t,n){const o=t.cleanup,a=n[la];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[la]=null);const c=n[ua];if(null!==c){n[ua]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[en].type&&n[Mn].destroy();const a=n[jr];if(null!==a&&_t(n[qr])){a!==n[qr]&&yp(a,n);const c=n[Po];null!==c&&c.detachView(t)}!function Z(t){v.delete(t[tl])}(n)}finally{ie(o)}}function Ep(t,n,o){return function Cp(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[Pr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===Uo.None||h===Uo.Emulated)return null}return Si(a,o)}}(t,n.parent,o)}function Vc(t,n,o,a,c){t.insertBefore(n,o,a,c)}function mm(t,n,o){t.appendChild(n,o)}function g_(t,n,o,a,c){null!==a?Vc(t,n,o,a,c):mm(t,n,o)}function Yh(t,n){return t.parentNode(n)}function __(t,n,o){return I_(t,n,o)}let vm,I_=function y_(t,n,o){return 40&t.type?Si(t,o):null};function Ap(t,n,o,a){const c=Ep(t,a,n),h=n[Mn],_=__(a.parent||n[Zr],a,n);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)g_(h,c,o[E],_,!1);else g_(h,c,o,_,!1);void 0!==vm&&vm(h,a,n,o,c)}function Lc(t,n){if(null!==n){const o=n.type;if(3&o)return Si(n,t);if(4&o)return Zh(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Lc(t,a);{const c=t[n.index];return _t(c)?Zh(-1,c):Fr(c)}}if(32&o)return Qh(n,t)()||Fr(t[n.index]);{const a=_m(t,n);return null!==a?Array.isArray(a)?a[0]:Lc(is(t[$r]),a):Lc(t,n.next)}}return null}function _m(t,n){return null!==n?t[$r][Zr].projection[n.projection]:null}function Zh(t,n){const o=Fi+t+1;if(o<n.length){const a=n[o],c=a[en].firstChild;if(null!==c)return Lc(a,c)}return n[oi]}function ym(t,n,o,a,c,h,m){for(;null!=o;){const _=a[o.index],E=o.type;if(m&&0===n&&(_&&yn(Fr(_),a),o.flags|=2),32&~o.flags)if(8&E)ym(t,n,o.child,a,c,h,!1),Ha(n,t,c,_,h);else if(32&E){const O=Qh(o,a);let z;for(;z=O();)Ha(n,t,c,z,h);Ha(n,t,c,_,h)}else 16&E?wp(t,n,a,o,c,h):Ha(n,t,c,_,h);o=m?o.projectionNext:o.next}}function Vd(t,n,o,a,c,h){ym(o,a,t.firstChild,n,c,h,!1)}function wp(t,n,o,a,c,h){const m=o[$r],E=m[Zr].projection[a.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Ha(n,t,c,E[O],h);else{let O=E;const z=m[qr];Cl(a)&&(O.flags|=128),ym(t,n,O,z,c,h,!0)}}function bp(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Em(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&oa(t,n,a),null!==c&&bp(t,n,c),null!==h&&function E_(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}const Cr={};function Sp(t=1){C_(br(),Lt(),Oo()+t,!1)}function C_(t,n,o,a){if(!a)if(3&~n[Ln]){const h=t.preOrderHooks;null!==h&&Js(n,h,0,o)}else{const h=t.preOrderCheckHooks;null!==h&&Cu(n,h,o)}Ql(o)}function Uu(t,n=zt.Default){const o=Lt();return null===o?ui(t,n):vl(Jr(),o,at(t),n)}function D_(){throw new Error("invalid")}function Rp(t,n,o,a,c,h){const m=ie(null);try{let _=null;c&bi.SignalBased&&(_=n[a][oe]),null!==_&&void 0!==_.transformFn&&(h=_.transformFn(h)),c&bi.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,_,h,o,a):to(n,_,a,h)}finally{ie(m)}}function Ld(t,n,o,a,c,h,m,_,E,O,z){const Q=n.blueprint.slice();return Q[Pr]=c,Q[Ln]=204|a,(null!==O||t&&2048&t[Ln])&&(Q[Ln]|=2048),Yc(Q),Q[qr]=Q[gr]=t,Q[Nn]=o,Q[gs]=m||t&&t[gs],Q[Mn]=_||t&&t[Mn],Q[ki]=E||t&&t[ki]||null,Q[Zr]=h,Q[tl]=function p(){return f++}(),Q[$i]=z,Q[qs]=O,Q[$r]=2==n.type?t[$r]:Q,Q}function Bu(t,n,o,a,c){let h=t.data[n];if(null===h)h=function Jh(t,n,o,a,c){const h=ed(),m=sc(),E=t.data[n]=function PI(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,_=0;return xs()&&(_|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(t,n,o,a,c),function xr(){return Zn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function ul(){const t=Zn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return vs(h,!0),h}function Rl(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Cm(t,n,o,a,c){const h=Oo(),m=2&a;try{Ql(-1),m&&n.length>Kn&&C_(t,n,Kn,!1),Qs(m?2:0,c),o(a,c)}finally{Ql(h),Qs(m?3:1,c)}}function ef(t,n,o){if(ka(n)){const a=ie(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const _=t.data[m];_.contentQueries&&_.contentQueries(1,o[m],m)}}finally{ie(a)}}}function Dm(t,n,o){Zc()&&(function Rm(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;qi(o)&&function OI(t,n,o){const a=Si(n,t),c=Ml(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const _=$d(t,Ld(t,c,null,m,a,n,null,t[gs].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=_}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||eu(o,n),yn(a,n);const m=o.initialInputs;for(let _=c;_<h;_++){const E=t.data[_],O=Is(n,t,_,o);yn(O,n),null!==m&&kI(0,_-c,O,E,0,m),_o(E)&&(po(o.index,n)[Nn]=Is(n,t,_,o))}}(t,n,o,Si(o,n)),!(64&~o.flags)&&R_(t,n,o))}function tf(t,n,o=Si){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],_=-1===m?o(n,t):t[m];t[c++]=_}}}function Ml(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=nf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function nf(t,n,o,a,c,h,m,_,E,O,z){const Q=Kn+a,Se=Q+c,Qe=function SI(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Cr);return o}(Q,Se),Et="function"==typeof O?O():O;return Qe[en]={type:t,blueprint:Qe,template:o,queries:null,viewQuery:_,declTNode:n,data:Qe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Et,incompleteFirstPass:!1,ssrId:z}}let A_=()=>null;function Mp(t,n,o,a,c){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const _=n[m];if(void 0===_)continue;null!==(h=a)&&void 0!==h||(a={});let E,O=bi.None;Array.isArray(_)?(E=_[0],O=_[1]):E=_;let z=m;if(null!==c){if(!c.hasOwnProperty(m))continue;z=c[m]}0===t?T_(a,o,z,E,O):T_(a,o,z,E)}return a}function T_(t,n,o,a,c){let h;t.hasOwnProperty(o)?(h=t[o]).push(n,a):h=t[o]=[n,a],void 0!==c&&h.push(c)}function os(t,n,o,a,c,h,m,_){const E=Si(n,o);let z,O=n.inputs;!_&&null!=O&&(z=O[a])?($u(t,o,z,a,c),qi(n)&&function b_(t,n){const o=po(n,t);16&o[Ln]||(o[Ln]|=64)}(o,n.index)):3&n.type&&(a=function w_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(E,a,c))}function rf(t,n,o,a){if(Zc()){const c=null===a?null:{"":-1},h=function NI(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const _=o[m];if(he(n,_.selectors,!1))if(a||(a=[]),_o(_))if(null!==_.findHostDirectiveDefs){const E=[];c=c||new Map,_.findHostDirectiveDefs(_,E,c),a.unshift(...E,_),sf(t,n,E.length)}else a.unshift(_),sf(t,n,0);else{var h;c=c||new Map,null===(h=_.findHostDirectiveDefs)||void 0===h||h.call(_,_,a,c),a.push(_)}}return null===a?null:[a,c]}(t,o);let m,_;null===h?m=_=null:[m,_]=h,null!==m&&S_(t,n,o,m,c,_),c&&function M_(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new vt(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=Bo(o.mergedAttrs,o.attrs)}function S_(t,n,o,a,c,h){for(let Q=0;Q<a.length;Q++)yh(eu(o,n),t,a[Q].type);!function P_(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let Q=0;Q<a.length;Q++){const Se=a[Q];Se.providersResolver&&Se.providersResolver(Se)}let m=!1,_=!1,E=Rl(t,n,a.length,null);for(let Q=0;Q<a.length;Q++){const Se=a[Q];o.mergedAttrs=Bo(o.mergedAttrs,Se.hostAttrs),xp(t,o,n,E,Se),Bd(E,Se,c),null!==Se.contentQueries&&(o.flags|=4),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(o.flags|=64);const Qe=Se.type.prototype;var O,z;!m&&(Qe.ngOnChanges||Qe.ngOnInit||Qe.ngDoCheck)&&((null!==(O=t.preOrderHooks)&&void 0!==O?O:t.preOrderHooks=[]).push(o.index),m=!0),_||!Qe.ngOnChanges&&!Qe.ngDoCheck||((null!==(z=t.preOrderCheckHooks)&&void 0!==z?z:t.preOrderCheckHooks=[]).push(o.index),_=!0),E++}!function bm(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,_=[];let E=null,O=null;for(let z=n.directiveStart;z<c;z++){const Q=h[z],Se=o?o.get(Q):null,Et=Se?Se.outputs:null;E=Mp(0,Q.inputs,z,E,Se?Se.inputs:null),O=Mp(1,Q.outputs,z,O,Et);const Ft=null===E||null===m||sa(n)?null:Np(E,z,m);_.push(Ft)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=E,n.outputs=O}(t,o,h)}function R_(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function uh(){return Zn.lFrame.currentDirectiveIndex}();try{Ql(h);for(let _=a;_<c;_++){const E=t.data[_],O=n[_];ac(_),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Ud(E,O)}}finally{Ql(-1),ac(m)}}function Ud(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function sf(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Bd(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;_o(n)&&(o[""]=t)}}function xp(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Yo(c.type)),m=new fc(h,_o(c),Uu);t.blueprint[a]=m,o[a]=m,function Sm(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const _=~n.index;(function Pp(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=_&&m.push(_),m.push(o,a,h)}}(t,n,a,Rl(t,o,c.hostVars,Cr),c)}function Pl(t,n,o,a,c,h){const m=Si(t,n);!function Mm(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const _=null==m?Le(h):m(h,a||"",c);t.setAttribute(n,c,_,o)}}(n[Mn],m,h,t.value,o,a,c)}function kI(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let _=0;_<m.length;)Rp(a,o,m[_++],m[_++],m[_++],m[_++])}function Np(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let _=0;_<m.length;_+=3)if(m[_]===n){a.push(h,m[_+1],m[_+2],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Op(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function kp(t,n){const o=t.contentQueries;if(null!==o){const a=ie(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const _=t.data[m];dl(o[c]),_.contentQueries(2,n[m],m)}}}finally{ie(a)}}}function $d(t,n){return t[Un]?t[Na][hi]=n:t[Un]=n,t[Na]=n,n}function Fp(t,n,o){dl(0);const a=ie(null);try{n(t,o)}finally{ie(a)}}function Vp(t){return t[la]||(t[la]=[])}function af(t){return t.cleanup||(t.cleanup=[])}function lf(t,n){const o=t[ki],a=o?o.get(va,null):null;a&&a.handleError(n)}function $u(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],E=o[h++];Rp(t.data[m],n[m],a,_,E,c)}}function Pm(t,n){const o=po(n,t),a=o[en];!function N_(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[Pr];null!==c&&null===o[$i]&&(o[$i]=ku(c,o[ki])),ju(a,o,o[Nn])}function ju(t,n,o){dh(n);try{var a;const c=t.viewQuery;null!==c&&Fp(1,c,o);const h=t.template;null!==h&&Cm(t,n,h,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[Po])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&kp(t,n),t.staticViewQueries&&Fp(2,t.viewQuery,o);const m=t.components;null!==m&&function xm(t,n){for(let o=0;o<n.length;o++)Pm(t,n[o])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Ln]&=-5,td()}}function jd(t,n){return!n||null===n.firstChild||Cl(t)}function Hd(t,n,o,a=!0){const c=n[en];if(function dm(t,n,o,a){const c=Fi+a,h=o.length;a>0&&(o[c-1][hi]=n),a<h-Fi?(n[hi]=o[c],Da(o,Fi+a,n)):(o.push(n),n[hi]=null),n[qr]=o;const m=n[jr];null!==m&&o!==m&&function hm(t,n){const o=t[fi];n[$r]!==n[qr][qr][$r]&&(t[Ln]|=rs.HasTransplantedViews),null===o?t[fi]=[n]:o.push(n)}(m,n);const _=n[Po];null!==_&&_.insertView(t),sl(n),n[Ln]|=128}(c,n,t,o),a){const m=Zh(o,t),_=n[Mn],E=Yh(_,t[oi]);null!==E&&function Fd(t,n,o,a,c,h){a[Pr]=c,a[Zr]=n,Vd(t,a,o,1,c,h)}(c,t[Zr],_,n,E,m)}const h=n[$i];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Gd(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(Fr(h)),_t(h)&&k_(h,a);const m=o.type;if(8&m)Gd(t,n,o.child,a);else if(32&m){const _=Qh(o,n);let E;for(;E=_();)a.push(E)}else if(16&m){const _=_m(n,o);if(Array.isArray(_))a.push(..._);else{const E=is(n[$r]);Gd(E[en],E,_,a,!0)}}o=c?o.projectionNext:o.next}return a}function k_(t,n){for(let o=Fi;o<t.length;o++){const a=t[o],c=a[en].firstChild;null!==c&&Gd(a[en],a,c,n)}t[oi]!==t[Pr]&&n.push(t[oi])}let F_=[];const UI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{da(t.lView)},consumerOnSignalRead(){this.lView[nl]=this}},Om=100;function cf(t,n=!0,o=0){const a=t[gs],c=a.rendererFactory;var m;null===(m=c.begin)||void 0===m||m.call(c);try{!function km(t,n){Bc(t,n);let o=0;for(;Ys(t);){if(o===Om)throw new vt(103,!1);o++,Bc(t,1)}}(t,o)}catch(O){throw n&&lf(t,O),O}finally{var _,E;null===(_=c.end)||void 0===_||_.call(c),null===(E=a.inlineEffectRunner)||void 0===E||E.flush()}}function V_(t,n,o,a){var c;const h=n[Ln];if(!(256&~h))return;null===(c=n[gs].inlineEffectRunner)||void 0===c||c.flush(),dh(n);let _=null,E=null;(function L_(t){return 2!==t.type})(t)&&(E=function FI(t){var n;return null!==(n=t[nl])&&void 0!==n?n:function VI(t){var n;const o=null!==(n=F_.pop())&&void 0!==n?n:Object.create(UI);return o.lView=t,o}(t)}(n),_=function Me(t){return t&&(t.nextProducerIndex=0),ie(t)}(E));try{Yc(n),function Xl(t){return Zn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Cm(t,n,o,2,a);const O=!(3&~h);if(O){const Se=t.preOrderCheckHooks;null!==Se&&Cu(n,Se,null)}else{const Se=t.preOrderHooks;null!==Se&&Js(n,Se,0,null),Io(n,0)}if(function Vr(t){for(let n=Tc(t);null!==n;n=qf(n)){if(!(n[Ln]&rs.HasTransplantedViews))continue;const o=n[fi];for(let a=0;a<o.length;a++){Va(o[a])}}}(n),df(n,0),null!==t.contentQueries&&kp(t,n),O){const Se=t.contentCheckHooks;null!==Se&&Cu(n,Se)}else{const Se=t.contentHooks;null!==Se&&Js(n,Se,1),Io(n,1)}!function bI(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)Ql(~c);else{const h=c,m=o[++a],_=o[++a];cl(m,h),_(2,n[h])}}}finally{Ql(-1)}}(t,n);const z=t.components;null!==z&&Vm(n,z,0);const Q=t.viewQuery;if(null!==Q&&Fp(2,Q,a),O){const Se=t.viewCheckHooks;null!==Se&&Cu(n,Se)}else{const Se=t.viewHooks;null!==Se&&Js(n,Se,2),Io(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[fo]){for(const Se of n[fo])Se();n[fo]=null}n[Ln]&=-73}catch(O){throw da(n),O}finally{null!==E&&(function Oe(t,n){if(ie(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(He(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)xe(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(E,_),function LI(t){t.lView[nl]!==t&&(t.lView=null,F_.push(t))}(E)),td()}}function df(t,n){for(let o=Tc(t);null!==o;o=qf(o))for(let a=Fi;a<o.length;a++)Fm(o[a],n)}function U_(t,n,o){Fm(po(n,t),o)}function Fm(t,n){nc(t)&&Bc(t,n)}function Bc(t,n){const a=t[en],c=t[Ln],h=t[nl];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!dt(h))),h&&(h.dirty=!1),t[Ln]&=-9217,m)V_(a,t,a.template,t[Nn]);else if(8192&c){df(t,1);const _=a.components;null!==_&&Vm(t,_,1)}}function Vm(t,n,o){for(let a=0;a<n.length;a++)U_(t,n[a],o)}function so(t){var n;for(null===(n=t[gs].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Ln]|=64;const o=is(t);if(Ho(t)&&!o)return t;t=o}return null}class gi{get rootNodes(){const n=this._lView,o=n[en];return Gd(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(n){this._lView[Nn]=n}get destroyed(){return!(256&~this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[qr];if(_t(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Fc(n,a),ls(o,a))}this._attachedToViewContainer=!1}Ip(this._lView[en],this._lView)}onDestroy(n){al(this._lView,n)}markForCheck(){so(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){sl(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,cf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,p_(this._lView[en],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new vt(902,!1);this._appRef=n,sl(this._lView)}}let Vs=(()=>{class n{}return n.__NG_ELEMENT_ID__=Up,n})();const B_=Vs,$I=class extends B_{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function uf(t,n,o,a){const c=ie(null);try{var h,m,_;const E=n.tView,Q=Ld(t,E,o,4096&t[Ln]?4096:16,null,n,null,null,null!==(h=null==a?void 0:a.injector)&&void 0!==h?h:null,null!==(m=null==a?void 0:a.embeddedViewInjector)&&void 0!==m?m:null,null!==(_=null==a?void 0:a.dehydratedView)&&void 0!==_?_:null);Q[jr]=t[n.index];const Qe=t[Po];return null!==Qe&&(Q[Po]=Qe.createEmbeddedView(E)),ju(E,Q,o),Q}finally{ie(c)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:a});return new gi(c)}};function Up(){return hf(Jr(),Lt())}function hf(t,n){return 4&t.type?new $I(n,t,ro(t,n)):null}class mf{}class vf{}class q_{}class yf{resolveComponentFactory(n){throw function Kp(t){const n=Error(`No component factory found for ${mr(t)}.`);return n.ngComponent=t,n}(n)}}let qp=(()=>{class n{}return n.NULL=new yf,n})();class If{}let X_=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function zm(){const t=Lt(),o=po(Jr().index,t);return(Ki(o)?o:t)[Mn]}(),n})(),Ef=(()=>{var t;class n{}return(t=n).\u0275prov=tr({token:t,providedIn:"root",factory:()=>null}),n})();const Ol={},Q_=new Set;function As(t){var n,o;Q_.has(t)||(Q_.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function ZI(...t){}class lo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new io(!1),this.onMicrotaskEmpty=new io(!1),this.onStable=new io(!1),this.onError=new io(!1),typeof Zone>"u")throw new vt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function WE(){const t="function"==typeof pn.requestAnimationFrame;let n=pn[t?"requestAnimationFrame":"setTimeout"],o=pn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Yp(t){const n=()=>{!function JI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Km(t),t.isCheckStableRunning=!0,Wm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Km(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,_)=>{if(function e0(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(_))return o.invokeTask(c,h,m,_);try{return Z_(t),o.invokeTask(c,h,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Cf(t)}},onInvoke:(o,a,c,h,m,_,E)=>{try{return Z_(t),o.invoke(c,h,m,_,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),Cf(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Km(t),Wm(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lo.isInAngularZone())throw new vt(909,!1)}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new vt(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,Qp,ZI,ZI);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const Qp={};function Wm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Km(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Z_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cf(t){t._nesting--,Wm(t)}class J_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new io,this.onMicrotaskEmpty=new io,this.onStable=new io,this.onError=new io}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var Gu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Gu||{});const qm={destroy(){}};function Jp(t,n){var o,a,c;!n&&function D(t){if(!Mo())throw new vt(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:Yn(Fo);if(!function uu(t){return"browser"===(null!=t?t:Yn(Fo)).get(Al)}(h))return qm;As("NgAfterNextRender");const m=h.get(eg),_=null!==(a=m.handler)&&void 0!==a?a:m.handler=new ny,E=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:Gu.MixedReadWrite,O=()=>{_.unregister(Q),z()},z=h.get(ks).onDestroy(O),Q=ps(h,()=>new Df(E,()=>{O(),t()}));return _.register(Q),{destroy:O}}class Df{constructor(n,o){var a;this.phase=n,this.callbackFn=o,this.zone=Yn(lo),this.errorHandler=Yn(va,{optional:!0}),null===(a=Yn(mf,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class ny{constructor(){this.executingCallbacks=!1,this.buckets={[Gu.EarlyRead]:new Set,[Gu.Write]:new Set,[Gu.MixedReadWrite]:new Set,[Gu.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let eg=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of a)c()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=tr({token:t,providedIn:"root",factory:()=>new t}),n})();function zu(t){return!!ci(t)}function tg(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const _=n[m];"number"==typeof _?h=_:1==h?c=lr(c,_):2==h&&(a=lr(a,_+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class oy extends qp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=hr(n);return new Kd(o,this.ngModule)}}function sy(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const a=t[o];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:o})}return n}class r0{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=To(a);const c=this.injector.get(n,Ol,a);return c!==Ol||o===Ol?c:this.parentInjector.get(n,o,a)}}class Kd extends q_{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=sy(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return sy(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Rs(t){return t.map(mo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){const h=ie(null);try{var _;let E=(c=c||this.ngModule)instanceof ho?c:null===(_=c)||void 0===_?void 0:_.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const O=E?new r0(n,E):n,z=O.get(If,null);if(null===z)throw new vt(407,!1);const Q=O.get(Ef,null),Et={rendererFactory:z,sanitizer:Q,inlineEffectRunner:null,afterRenderEventManager:O.get(eg,null),changeDetectionScheduler:O.get(mf,null)},Ft=z.createRenderer(null,this.componentDef),on=this.componentDef.selectors[0][0]||"div",cn=a?function Am(t,n,o,a){const h=a.get(bd,!1)||o===Uo.ShadowDom,m=t.selectRootElement(n,h);return function RI(t){A_(t)}(m),m}(Ft,a,this.componentDef.encapsulation,O):cu(Ft,on,function n0(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(on));let Ht=512;this.componentDef.signals?Ht|=4096:this.componentDef.onPush||(Ht|=16);let pr=null;null!==cn&&(pr=ku(cn,O,!0));const wr=nf(0,null,null,1,0,null,null,null,null,null,null),Xr=Ld(null,wr,null,Ht,null,null,Et,Ft,O,null,pr);let Ts,Ll;dh(Xr);try{const mu=this.componentDef;let Of,NE=null;mu.findHostDirectiveDefs?(Of=[],NE=new Map,mu.findHostDirectiveDefs(mu,Of,NE),Of.push(mu)):Of=[mu];const OP=function o0(t,n){const o=t[en],a=Kn;return t[a]=n,Bu(o,a,2,"#host",null)}(Xr,cn),kP=function s0(t,n,o,a,c,h,m){const _=c[en];!function ly(t,n,o,a){for(const c of t)n.mergedAttrs=Bo(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(tg(n,n.mergedAttrs,!0),null!==o&&Em(a,o,n))}(a,t,n,m);let E=null;null!==n&&(E=ku(n,c[ki]));const O=h.rendererFactory.createRenderer(n,o);let z=16;o.signals?z=4096:o.onPush&&(z=64);const Q=Ld(c,Ml(o),null,z,c[t.index],t,h,O,null,null,E);return _.firstCreatePass&&sf(_,t,a.length-1),$d(c,Q),c[t.index]=Q}(OP,cn,mu,Of,Xr,Et,Ft);Ll=Wr(wr,Kn),cn&&function qd(t,n,o,a){if(a)oa(t,o,["ng-version","17.3.1"]);else{const{attrs:c,classes:h}=function Hs(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!ue(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&oa(t,o,c),h&&h.length>0&&bp(t,o,h.join(" "))}}(Ft,mu,cn,a),void 0!==o&&function Qm(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(Ll,this.ngContentSelectors,o),Ts=function a0(t,n,o,a,c,h){const m=Jr(),_=c[en],E=Si(m,c);S_(_,c,m,o,null,a);for(let z=0;z<o.length;z++)yn(Is(c,_,m.directiveStart+z,m),c);R_(_,c,m),E&&yn(E,c);const O=Is(c,_,m.directiveStart+m.componentOffset,m);if(t[Nn]=c[Nn]=O,null!==h)for(const z of h)z(O,n);return ef(_,m,c),O}(kP,mu,Of,NE,Xr,[KE]),ju(wr,Xr,null)}finally{td()}return new ay(this.componentType,Ts,ro(Ll,Xr),Xr,Ll)}finally{ie(h)}}}class ay extends vf{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gi(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;$u(m[en],m,c,n,o),this.previousInputValues.set(n,o),so(po(this._tNode.index,m))}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function KE(){const t=Jr();Zl(Lt()[en],t)}let ng=(()=>{class n{}return n.__NG_ELEMENT_ID__=l0,n})();function l0(){return c0(Jr(),Lt())}const u0=ng,uy=class extends u0{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return ro(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ba(this._hostTNode,this._hostLView);if(ko(n)){const o=Jl(n,this._hostLView),a=Au(n);return new Er(o[en].data[a+8],o)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=cy(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const _=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(_,c,jd(this._hostTNode,null)),_}createComponent(n,o,a,c,h){var m,E;const O=n&&!function wt(t){return"function"==typeof t}(n);let z;if(O)z=o;else{const cn=o||{};z=cn.index,a=cn.injector,c=cn.projectableNodes,h=cn.environmentInjector||cn.ngModuleRef}const Q=O?n:new Kd(hr(n)),Se=a||this.parentInjector;if(!h&&null==Q.ngModule){const Ht=(O?Se:this.parentInjector).get(ho,null);Ht&&(h=Ht)}const Qe=hr(null!==(m=Q.componentType)&&void 0!==m?m:{}),Et=(null==Qe?void 0:Qe.id,null),Ft=null!==(E=null==Et?void 0:Et.firstChild)&&void 0!==E?E:null,on=Q.create(Se,c,Ft,h);return this.insertImpl(on.hostView,z,jd(this._hostTNode,Et)),on}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function Pg(t){return _t(t[qr])}(c)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const E=c[qr],O=new uy(E,E[Zr],E[qr]);O.detach(O.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return Hd(m,c,h,a),n.attachToViewContainerRef(),Da(dy(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=cy(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Fc(this._lContainer,o);a&&(ls(dy(this._lContainer),o),Ip(a[en],a))}detach(n){const o=this._adjustIndex(n,-1),a=Fc(this._lContainer,o);return a&&null!=ls(dy(this._lContainer),o)?new gi(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function cy(t){return t[8]}function dy(t){return t[8]||(t[8]=[])}function c0(t,n){let o;const a=n[t.index];return _t(a)?o=a:(o=Op(a,n,null,t),n[t.index]=o,$d(n,o)),d0(o,n,t,a),new uy(o,t,n)}let d0=function fy(t,n,o,a){if(t[oi])return;let c;c=8&o.type?Fr(a):function qE(t,n){const o=t[Mn],a=o.createComment(""),c=Si(n,t);return Vc(o,Yh(o,c),a,function v_(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[oi]=c},Ym=()=>!1;class Fl{constructor(n){this.queryList=n,this.matches=null}clone(){return new Fl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Zm(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==vy(n,o).matches&&this.queries[o].setDirty()}}class gy{constructor(n,o,a=null){this.flags=o,this.read=a,this.predicate="string"==typeof n?function YE(t){return t.split(",").map(n=>n.trim())}(n):n}}class Jm{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new Jm(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ev{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new ev(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,f0(o,h)),this.matchTNodeWithReadOption(n,o,vc(o,n,h,!1,!1))}else a===Vs?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,vc(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===su||c===ng||c===Vs&&4&o.type)this.addMatch(o.index,-2);else{const h=vc(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function f0(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function g0(t,n,o,a){return-1===o?function p0(t,n){return 11&t.type?ro(t,n):4&t.type?hf(t,n):null}(n,t):-2===o?function QE(t,n,o){return o===su?ro(n,t):o===Vs?hf(n,t):o===ng?c0(n,t):void 0}(t,n,a):Is(t,t[en],o,n)}function m0(t,n,o,a){const c=n[Po].queries[a];if(null===c.matches){const h=t.data,m=o.matches,_=[];for(let E=0;null!==m&&E<m.length;E+=2){const O=m[E];_.push(O<0?null:g0(n,h[O],m[E+1],o.metadata.read))}c.matches=_}return c.matches}function rg(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=m0(t,n,c,o);for(let _=0;_<h.length;_+=2){const E=h[_];if(E>0)a.push(m[_/2]);else{const O=h[_+1],z=n[-E];for(let Q=Fi;Q<z.length;Q++){const Se=z[Q];Se[jr]===Se[qr]&&rg(Se[en],Se,O,a)}if(null!==z[fi]){const Q=z[fi];for(let Se=0;Se<Q.length;Se++){const Qe=Q[Se];rg(Qe[en],Qe,O,a)}}}}}return a}function v0(t,n,o){var a;const c=new pd(!(4&~o));return function wm(t,n,o,a){const c=Vp(n);c.push(o),t.firstCreatePass&&af(t).push(a,c.length-1)}(t,n,c,c.destroy),(null!==(a=n[Po])&&void 0!==a?a:n[Po]=new Zm).queries.push(new Fl(c))-1}function nv(t,n,o){null===t.queries&&(t.queries=new Jm),t.queries.track(new ev(n,o))}function vy(t,n){return t.queries.getByIndex(n)}function ig(t,n){const o=t[en],a=vy(o,n);return a.crossesNgTemplate?rg(o,t,n,[]):m0(o,t,a,n)}function ov(t){return function wf(t){return"function"==typeof t&&void 0!==t[oe]}(t)&&"function"==typeof t.set}function er(t){let n=function _r(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(_o(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new vt(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=ti(t.inputs),m.inputTransforms=ti(t.inputTransforms),m.declaredInputs=ti(t.declaredInputs),m.outputs=ti(t.outputs);const _=c.hostBindings;_&&T0(t,_);const E=c.viewQuery,O=c.contentQueries;if(E&&Eo(t,E),O&&ya(t,O),Tr(t,c),Dr(t.outputs,c.outputs),_o(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(t),_===er&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Di(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=Bo(c.hostAttrs,o=Bo(o,c.hostAttrs))}}(a)}function Tr(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const c=n.inputs[a];if(void 0!==c&&(t.inputs[a]=c,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var o;const h=Array.isArray(c)?c[0]:c;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function ti(t){return t===yi?{}:t===jn?[]:t}function Eo(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function ya(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function T0(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function aC(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[3]&&(o[a]=c[3])}t.inputTransforms=o}class Sf{}class lC{}function JT(t,n){return new w0(t,null!=n?n:null,[])}class w0 extends Sf{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oy(this);const c=ci(n);this._bootstrapComponents=Fs(c.bootstrap),this._r3Injector=Th(n,o,[{provide:Sf,useValue:this},{provide:qp,useValue:this.componentFactoryResolver},...a],mr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class b0 extends lC{constructor(n){super(),this.moduleType=n}create(n){return new w0(this.moduleType,n,[])}}class uC extends Sf{constructor(n){super(),this.componentFactoryResolver=new oy(this),this.instance=null;const o=new Pa([...n.providers,{provide:Sf,useValue:this},{provide:qp,useValue:this.componentFactoryResolver}],n.parent||Ma(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function S0(t,n,o=null){return new uC({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let ag=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Ay(t){return!!R0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function R0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function lg(t,n,o,a,c,h,m,_){const E=Lt(),O=br(),z=t+Kn,Q=O.firstCreatePass?function sw(t,n,o,a,c,h,m,_,E){const O=n.consts,z=Bu(n,t,4,m||null,si(O,_));rf(n,o,z,si(O,E)),Zl(n,z);const Q=z.tView=nf(2,z,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O,null);return null!==n.queries&&(n.queries.template(n,z),Q.queries=n.queries.embeddedTView(z)),z}(z,O,E,n,o,a,c,h,m):O.data[z];vs(Q,!1);const Se=cC(O,E,Q,t);ys()&&Ap(O,E,Se,Q),yn(Se,E);const Qe=Op(Se,E,Se,Q);return E[z]=Qe,$d(E,Qe),function hy(t,n,o){return Ym(t,n,o)}(Qe,Q,E),jl(Q)&&Dm(O,E,Q),null!=m&&tf(E,Q,_),lg}let cC=function dC(t,n,o,a){return Zs(!0),n[Mn].createComment("")};function U0(t,n,o,a){const c=Lt();return Co(c,_s(),n)&&(br(),Pl(ai(),c,t,n,o,a)),U0}function Py(t,n){return t<<17|n<<2}function th(t){return t>>17&32767}function B0(t){return 2|t}function Pf(t){return(131068&t)>>2}function $0(t,n){return-131069&t|n<<2}function j0(t){return 1|t}function jC(t,n,o,a){const c=t[o+1],h=null===n;let m=a?th(c):Pf(c),_=!1;for(;0!==m&&(!1===_||h);){const O=t[m+1];Gw(t[m],n)&&(_=!0,t[m+1]=a?j0(O):B0(O)),m=a?th(O):Pf(O)}_&&(t[o+1]=a?B0(c):j0(c))}function Gw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&wo(t,n)>=0}function H0(t,n,o){const a=Lt();return Co(a,_s(),n)&&os(br(),ai(),a,t,n,a[Mn],o,!1),H0}function G0(t,n,o,a,c){const m=c?"class":"style";$u(t,o,n.inputs[m],m,a)}function z0(t,n){return function pu(t,n,o,a){const c=Lt(),h=br(),m=function ga(t){const n=Zn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function YC(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[Oo()],m=function QC(t,n){return n>=t.expandoStartIndex}(t,o);(function tD(t,n){return!!(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function Jw(t,n,o,a){const c=function lc(t){const n=Zn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=hv(o=W0(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=W0(c,t,n,o,a),null===h){let E=function eb(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Pf(a))return t[th(a)]}(t,n,a);void 0!==E&&Array.isArray(E)&&(E=W0(null,t,n,E[1],a),E=hv(E,n.attrs,a),function tb(t,n,o,a){t[th(o?n.classBindings:n.styleBindings)]=a}(t,n,a,E))}else h=function nb(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=hv(a,t[h].hostAttrs,o);return hv(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function jw(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,_=th(m),E=Pf(m);t[a]=o;let z,O=!1;if(Array.isArray(o)?(z=o[1],(null===z||wo(o,z)>0)&&(O=!0)):z=o,c)if(0!==E){const Se=th(t[_+1]);t[a+1]=Py(Se,_),0!==Se&&(t[Se+1]=$0(t[Se+1],a)),t[_+1]=function Bw(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Py(_,0),0!==_&&(t[_+1]=$0(t[_+1],a)),_=a;else t[a+1]=Py(E,0),0===_?_=a:t[E+1]=$0(t[E+1],a),E=a;O&&(t[a+1]=B0(t[a+1])),jC(t,z,a,!0),jC(t,z,a,!1),function Hw(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&wo(h,n)>=0&&(o[a+1]=j0(o[a+1]))}(n,z,t,a,h),m=Py(_,E),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==Cr&&Co(c,m,n)&&function JC(t,n,o,a,c,h,m,_){if(!(3&n.type))return;const E=t.data,O=E[_+1],z=function $w(t){return!(1&~t)}(O)?eD(E,n,o,c,Pf(O),m):void 0;xy(z)||(xy(h)||function Uw(t){return!(2&~t)}(O)&&(h=eD(E,null,o,c,_,m)),function Im(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:qh.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=qh.Important),t.setStyle(o,a,c,h))}}(a,m,Gr(Oo(),o),c,h))}(h,h.data[Oo()],c,c[Mn],t,c[m+1]=function sb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=mr(bl(t)))),t}(n,o),a,m)}(t,n,null,!0),z0}function W0(t,n,o,a,c){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=n[_],a=hv(a,h.hostAttrs,c),h!==t);)_++;return null!==t&&(o.directiveStylingLast=_),a}function hv(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xi(t,m,!!o||n[++h]))}return void 0===t?null:t}function eD(t,n,o,a,c,h){const m=null===n;let _;for(;c>0;){const E=t[c],O=Array.isArray(E),z=O?E[1]:E,Q=null===z;let Se=o[c+1];Se===Cr&&(Se=Q?jn:void 0);let Qe=Q?Yi(Se,a):z===a?Se:void 0;if(O&&!xy(Qe)&&(Qe=Yi(E,a)),xy(Qe)&&(_=Qe,m))return _;const Et=t[c+1];c=m?th(Et):Pf(Et)}if(null!==n){let E=h?n.residualClasses:n.residualStyles;null!=E&&(_=Yi(E,a))}return _}function xy(t){return void 0!==t}function Ny(t,n,o,a){const c=Lt(),h=br(),m=Kn+t,_=c[Mn],E=h.firstCreatePass?function Rb(t,n,o,a,c,h){const m=n.consts,E=Bu(n,t,2,a,si(m,c));return rf(n,o,E,si(m,h)),null!==E.attrs&&tg(E,E.attrs,!1),null!==E.mergedAttrs&&tg(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(m,h,c,n,o,a):h.data[m],O=oD(h,c,E,_,n,t);c[m]=O;const z=jl(E);return vs(E,!0),Em(_,O,E),!function lv(t){return!(32&~t.flags)}(E)&&ys()&&Ap(h,c,O,E),0===function Ps(){return Zn.lFrame.elementDepthCount}()&&yn(O,c),function rc(){Zn.lFrame.elementDepthCount++}(),z&&(Dm(h,c,E),ef(h,E,c)),null!==a&&tf(c,E),Ny}function Oy(){let t=Jr();sc()?Hi():(t=t.parent,vs(t,!1));const n=t;(function ah(t){return Zn.skipHydrationRootTNode===t})(n)&&function ic(){Zn.skipHydrationRootTNode=null}(),function ha(){Zn.lFrame.elementDepthCount--}();const o=br();return o.firstCreatePass&&(Zl(o,t),ka(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function mh(t){return!!(8&t.flags)}(n)&&G0(o,n,Lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function $f(t){return!!(16&t.flags)}(n)&&G0(o,n,Lt(),n.stylesWithoutHost,!1),Oy}function Y0(t,n,o,a){return Ny(t,n,o,a),Oy(),Y0}let oD=(t,n,o,a,c,h)=>(Zs(!0),cu(a,c,function ph(){return Zn.lFrame.currentNamespace}()));function ky(t,n,o){const a=Lt(),c=br(),h=t+Kn,m=c.firstCreatePass?function xb(t,n,o,a,c){const h=n.consts,m=si(h,a),_=Bu(n,t,8,"ng-container",m);return null!==m&&tg(_,m,!0),rf(n,o,_,si(h,c)),null!==n.queries&&n.queries.elementStart(n,_),_}(h,c,a,n,o):c.data[h];vs(m,!0);const _=sD(c,a,m,t);return a[h]=_,ys()&&Ap(c,a,_,m),yn(_,a),jl(m)&&(Dm(c,a,m),ef(c,m,a)),null!=o&&tf(a,m),ky}function Fy(){let t=Jr();const n=br();return sc()?Hi():(t=t.parent,vs(t,!1)),n.firstCreatePass&&(Zl(n,t),ka(t)&&n.queries.elementEnd(t)),Fy}function Z0(t,n,o){return ky(t,n,o),Fy(),Z0}let sD=(t,n,o,a)=>(Zs(!0),Lu(n[Mn],""));function aD(){return Lt()}const xf=void 0;var Fb=["en",[["a","p"],["AM","PM"],xf],[["AM","PM"],xf,xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xf,"{1} 'at' {0}",xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kb(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Tg={};function J0(t){const n=function Vb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=dD(n);if(o)return o;const a=n.split("-")[0];if(o=dD(a),o)return o;if("en"===a)return Fb;throw new vt(701,!1)}function cD(t){return J0(t)[wg.PluralCase]}function dD(t){return t in Tg||(Tg[t]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[t]),Tg[t]}var wg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(wg||{});const bg="en-US";let hD=bg;function nE(t,n,o,a){const c=Lt(),h=br(),m=Jr();return rE(h,c,c[Mn],m,t,n,a),nE}function rE(t,n,o,a,c,h,m){const _=jl(a),O=t.firstCreatePass&&af(t),z=n[Nn],Q=Vp(n);let Se=!0;if(3&a.type||m){const Ft=Si(a,n),on=m?m(Ft):Ft,cn=Q.length,Ht=m?wr=>m(Fr(wr[a.index])):a.index;let pr=null;if(!m&&_&&(pr=function NS(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const _=n[la],E=c[h+2];return _.length>E?_[E]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==pr)(pr.__ngLastListenerFn__||pr).__ngNextListenerFn__=h,pr.__ngLastListenerFn__=h,Se=!1;else{h=BD(a,n,z,h,!1);const wr=o.listen(on,c,h);Q.push(h,wr),O&&O.push(c,Ht,cn,cn+1)}}else h=BD(a,n,z,h,!1);const Qe=a.outputs;let Et;if(Se&&null!==Qe&&(Et=Qe[c])){const Ft=Et.length;if(Ft)for(let on=0;on<Ft;on+=2){const Xr=n[Et[on]][Et[on+1]].subscribe(h),Ts=Q.length;Q.push(h,Xr),O&&O.push(c,a.index,Ts,-(Ts+1))}}}function UD(t,n,o,a){const c=ie(null);try{return Qs(6,n,o),!1!==o(a)}catch(h){return lf(t,h),!1}finally{Qs(7,n,o),ie(c)}}function BD(t,n,o,a,c){return function h(m){if(m===Function)return a;so(t.componentOffset>-1?po(t.index,n):n);let E=UD(n,o,a,m),O=h.__ngNextListenerFn__;for(;O;)E=UD(n,o,O,m)&&E,O=O.__ngNextListenerFn__;return c&&!1===E&&m.preventDefault(),E}}function $D(t=1){return function fh(t){return(Zn.lFrame.contextLView=function Ii(t,n){for(;t>0;)n=n[gr],t--;return n}(t,Zn.lFrame.contextLView))[Nn]}(t)}function OS(t,n){let o=null;const a=function Wt(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?he(t,h,!0):Wi(a,h))return c}else o=c}return o}function jD(t){const n=Lt()[$r][Zr];if(!n.projection){const a=n.projection=function qa(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?OS(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function HD(t,n=0,o){const a=Lt(),c=br(),h=Bu(c,Kn+t,16,null,o||null);null===h.projection&&(h.projection=n),Hi(),(!a[$i]||xs())&&32&~h.flags&&function TI(t,n,o){wp(n[Mn],0,n,o,Ep(t,o,n),__(o.parent||n[Zr],o,n))}(c,a,h)}function JD(t,n,o,a){!function y0(t,n,o,a){const c=br();if(c.firstCreatePass){const h=Jr();nv(c,new gy(n,o,a),h.index),function my(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),!(2&~o)&&(c.staticContentQueries=!0)}return v0(c,Lt(),o)}(t,n,o,a)}function eA(t,n,o){!function _0(t,n,o){const a=br();return a.firstCreatePass&&(nv(a,new gy(t,n,o),-1),!(2&~n)&&(a.staticViewQueries=!0)),v0(a,Lt(),n)}(t,n,o)}function tA(t){const n=Lt(),o=br(),a=uc();dl(a+1);const c=vy(o,a);if(t.dirty&&function No(t){return!(4&~t[Ln])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const h=ig(n,a);t.reset(h,fd),t.notifyOnChanges()}return!0}return!1}function nA(){return function tv(t,n){return t[Po].queries[n].queryList}(Lt(),uc())}function hA(t,n=""){const o=Lt(),a=br(),c=t+Kn,h=a.firstCreatePass?Bu(a,c,1,n,null):a.data[c],m=fA(a,o,h,n,t);o[c]=m,ys()&&Ap(a,o,m,h),vs(h,!1)}let fA=(t,n,o,a,c)=>(Zs(!0),function Sl(t,n){return t.createText(n)}(n[Mn],a));function oE(t){return $y("",t,""),oE}function $y(t,n,o){const a=Lt(),c=function mg(t,n,o,a){return Co(t,_s(),o)?n+Le(o)+a:Cr}(a,t,n,o);return c!==Cr&&function xl(t,n,o){const a=Gr(n,t);!function _p(t,n,o){t.setValue(n,o)}(t[Mn],a,o)}(a,Oo(),c),$y}function sE(t,n,o){ov(n)&&(n=n());const a=Lt();return Co(a,_s(),n)&&os(br(),ai(),a,t,n,a[Mn],o,!1),sE}function CA(t,n){const o=ov(t);return o&&t.set(n),o}function aE(t,n){const o=Lt(),a=br(),c=Jr();return rE(a,o,o[Mn],c,t,n),aE}function lE(t,n,o,a,c){if(t=at(t),Array.isArray(t))for(let h=0;h<t.length;h++)lE(t[h],n,o,a,c);else{const h=br(),m=Lt(),_=Jr();let E=vo(t)?t:at(t.provide);const O=el(t),z=1048575&_.providerIndexes,Q=_.directiveStart,Se=_.providerIndexes>>20;if(vo(t)||!t.multi){const Qe=new fc(O,c,Uu),Et=cE(E,n,c?z:z+Se,Q);-1===Et?(yh(eu(_,m),h,E),uE(h,t,n.length),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(Qe),m.push(Qe)):(o[Et]=Qe,m[Et]=Qe)}else{const Qe=cE(E,n,z+Se,Q),Et=cE(E,n,z,z+Se),on=Et>=0&&o[Et];if(c&&!on||!c&&!(Qe>=0&&o[Qe])){yh(eu(_,m),h,E);const cn=function eR(t,n,o,a,c){const h=new fc(t,o,Uu);return h.multi=[],h.index=n,h.componentProviders=0,DA(h,c,a&&!o),h}(c?JS:ZS,o.length,c,a,O);!c&&on&&(o[Et].providerFactory=cn),uE(h,t,n.length,0),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(cn),m.push(cn)}else uE(h,t,Qe>-1?Qe:Et,DA(o[c?Et:Qe],O,!c&&a));!c&&a&&on&&o[Et].componentProviders++}}}function uE(t,n,o,a){const c=vo(n),h=function Za(t){return!!t.useClass}(n);if(c||h){const E=(h?at(n.useClass):n).prototype.ngOnDestroy;if(E){const O=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const z=O.indexOf(o);-1===z?O.push(o,[a,E]):O[z+1].push(a,E)}else O.push(o,E)}}}function DA(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function cE(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function ZS(t,n,o,a){return dE(this.multi,[])}function JS(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Is(o,o[en],this.providerFactory.index,a);h=_.slice(0,m),dE(c,h);for(let E=m;E<_.length;E++)h.push(_[E])}else h=[],dE(c,h);return h}function dE(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function AA(t,n=[]){return o=>{o.providersResolver=(a,c)=>function YS(t,n,o){const a=br();if(a.firstCreatePass){const c=_o(t);lE(o,a.data,a.blueprint,c,!0),lE(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}let tR=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=hs(0,a.type),h=c.length>0?S0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=tr({token:t,providedIn:"environment",factory:()=>new t(ui(ho))}),n})();function TA(t){As("NgStandalone"),t.getStandaloneInjector=n=>n.get(tR).getOrCreateStandaloneInjector(t)}function bA(t,n,o,a,c,h){const m=n+o;return Co(t,m,c)?function Wu(t,n,o){return t[n]=o}(t,m+1,h?a.call(h,c):a(c)):function yv(t,n){const o=t[n];return o===Cr?void 0:o}(t,m+1)}function xA(t,n){const o=br();let a;const c=t+Kn;var h;o.firstCreatePass?(a=function pR(t,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.name)return a}}(n,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(null!==(h=o.destroyHooks)&&void 0!==h?h:o.destroyHooks=[]).push(c,a.onDestroy)):a=o.data[c];const m=a.factory||(a.factory=Yo(a.type)),E=dr(Uu);try{const O=id(!1),z=m();return id(O),function LS(t,n,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=a}(o,Lt(),c,z),z}finally{dr(E)}}function NA(t,n,o){const a=t+Kn,c=Lt(),h=function Wl(t,n){return t[n]}(c,a);return function Iv(t,n){return t[en].data[n].pure}(c,a)?bA(c,function yo(){const t=Zn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,h.transform,o,h):h.transform(o)}class XA{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const $R=new XA("17.3.1");let QA=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const eT=new xn(""),tT=new xn("");let _E,fM=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_E||(function pM(t){_E=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),a()},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(ui(lo),ui(nT),ui(tT))},t.\u0275prov=tr({token:t,factory:t.\u0275fac}),n})(),nT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=_E)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function yE(t){return!!t&&"function"==typeof t.then}function rT(t){return!!t&&"function"==typeof t.subscribe}const iT=new xn("");let IE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=Yn(iT,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(yE(m))a.push(m);else if(rT(m)){const _=new Promise((E,O)=>{m.subscribe({complete:E,error:O})});a.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const EE=new xn("");function aT(t,n){return Array.isArray(n)?n.reduce(aT,t):{...t,...n}}let nh=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yn(bu),this.afterRenderEffectManager=Yn(eg),this.externalTestViews=new Set,this.beforeRender=new Bt.B,this.afterTick=new Bt.B,this.componentTypes=[],this.components=[],this.isStable=Yn(ag).hasPendingTasks.pipe((0,yt.T)(a=>!a)),this._injector=Yn(ho)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof q_;if(!this._injector.get(IE).done)throw!h&&So(a),new vt(405,!1);let _;_=h?a:this._injector.get(qp).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function gM(t){return t.isBoundToModule}(_)?void 0:this._injector.get(Sf),z=_.create(Fo.NULL,[],c||_.selector,E),Q=z.location.nativeElement,Se=z.injector.get(eT,null);return null==Se||Se.registerApplication(Q),z.onDestroy(()=>{this.detachView(z.hostView),zy(this.components,z),null==Se||Se.unregisterApplication(Q)}),this._loadComponent(z),z}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new vt(101,!1);const c=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,ie(c)}}detectChangesInAttachedViews(a){let c=0;const h=this.afterRenderEffectManager;for(;;){if(c===Om)throw new vt(103,!1);if(a){const m=0===c;this.beforeRender.next(m);for(let{_lView:_,notifyErrorHandler:E}of this._views)vM(_,m,E)}if(c++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>CE(m))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>CE(m))))break}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;zy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(EE,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>zy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new vt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function zy(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}function vM(t,n,o){!n&&!CE(t)||function _M(t,n,o){let a;o?(a=0,t[Ln]|=1024):a=64&t[Ln]?0:1,cf(t,n,a)}(t,o,n)}function CE(t){return Ys(t)}class yM{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let IM=(()=>{var t;class n{compileModuleSync(a){return new b0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=Fs(ci(a).declarations).reduce((_,E)=>{const O=hr(E);return O&&_.push(new Kd(O)),_},[]);return new yM(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),DM=(()=>{var t;class n{constructor(){this.zone=Yn(lo),this.applicationRef=Yn(nh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function AM(){const t=Yn(lo),n=Yn(va);return o=>t.runOutsideAngular(()=>n.handleError(o))}let wM=(()=>{var t;class n{constructor(){this.subscription=new Yt.yU,this.initialized=!1,this.zone=Yn(lo),this.pendingTasks=Yn(ag)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;lo.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Wy=new xn("",{providedIn:"root",factory:()=>Yn(Wy,zt.Optional|zt.SkipSelf)||function bM(){return typeof $localize<"u"&&$localize.locale||bg}()}),SM=new xn("",{providedIn:"root",factory:()=>"USD"}),DE=new xn("");let dT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function ey(t="zone.js",n){return"noop"===t?new J_:"zone.js"===t?new lo(n):t}(null==c?void 0:c.ngZone,function cT(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function ew(t,n,o){return new w0(t,n,o)}(a.moduleType,this.injector,function uT(t){return[{provide:lo,useFactory:t},{provide:Zo,multi:!0,useFactory:()=>{const n=Yn(DM,{optional:!0});return()=>n.initialize()}},{provide:Zo,multi:!0,useFactory:()=>{const n=Yn(wM);return()=>{n.initialize()}}},{provide:bu,useFactory:AM}]}(()=>h)),_=m.injector.get(va,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:O=>{_.handleError(O)}});m.onDestroy(()=>{zy(this._modules,m),E.unsubscribe()})}),function sT(t,n,o){try{const a=o();return yE(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(_,h,()=>{const E=m.injector.get(IE);return E.runInitializers(),E.donePromise.then(()=>(function fD(t){"string"==typeof t&&(hD=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Wy,bg)||bg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=aT({},c);return function CM(t,n,o){const a=new b0(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(nh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new vt(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new vt(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(DE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(ui(Fo))},t.\u0275prov=tr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),rh=null;const hT=new xn("");function fT(t,n,o=[]){const a=`Platform: ${n}`,c=new xn(a);return(h=[])=>{let m=AE();if(!m||m.injector.get(hT,!1)){const _=[...o,...h,{provide:c,useValue:!0}];t?t(_):function MM(t){if(rh&&!rh.get(hT,!1))throw new vt(400,!1);(function oT(){!function Ye(t){xt=t}(()=>{throw new vt(600,!1)})})(),rh=t;const n=t.get(dT);(function gT(t){const n=t.get(Nu,null);null==n||n.forEach(o=>o())})(t)}(function pT(t=[],n){return Fo.create({name:n,providers:[{provide:ba,useValue:"platform"},{provide:DE,useValue:new Set([()=>rh=null])},...t]})}(_,a))}return function PM(t){const n=AE();if(!n)throw new vt(401,!1);return n}()}}function AE(){var t,n;return null!==(t=null===(n=rh)||void 0===n?void 0:n.get(dT))&&void 0!==t?t:null}function NM(){return!1}function OM(){}let vT=(()=>{class n{}return n.__NG_ELEMENT_ID__=kM,n})();function kM(t){return function FM(t,n,o){if(qi(t)&&!o){const a=po(t.index,n);return new gi(a,a)}return 47&t.type?new gi(n[$r],n):null}(Jr(),Lt(),!(16&~t))}class ET{constructor(){}supports(n){return Ay(n)}create(n){return new $M(n)}}const BM=(t,n)=>n;class $M{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||BM}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<DT(a,c,h)?o:a,_=DT(m,c,h),E=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const O=_-c,z=E-c;if(O!=z){for(let Se=0;Se<O;Se++){const Qe=Se<h.length?h[Se]:h[Se]=0,Et=Qe+Se;z<=Et&&Et<O&&(h[Se]=Qe+1)}h[m.previousIndex]=z-O}}_!==E&&n(m,_,E)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Ay(n))throw new vt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)h=n[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),a=!0),o=o._next}else c=0,function iw(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,_=>{m=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,_,m,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new jM(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new CT),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jM{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class CT{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new HM,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DT(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class AT{constructor(){}supports(n){return n instanceof Map||R0(n)}create(){return new GM}}class GM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||R0(n)))throw new vt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new zM(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class zM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TT(){return new RE([new ET])}let RE=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||TT()),deps:[[n,new Ca,new Xi]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new vt(901,!1)}}return(t=n).\u0275prov=tr({token:t,providedIn:"root",factory:TT}),n})();function wT(){return new ME([new AT])}let ME=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||wT()),deps:[[n,new Ca,new Xi]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new vt(901,!1)}}return(t=n).\u0275prov=tr({token:t,providedIn:"root",factory:wT}),n})();const qM=fT(null,"core",[]);let XM=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(ui(nh))},t.\u0275mod=zs({type:t}),t.\u0275inj=Qr({}),n})();function AP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wP(t){const n=ie(null);try{return t()}finally{ie(n)}}function xP(t,n){const o=hr(t),a=n.elementInjector||Ma();return new Kd(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function NP(t){const n=hr(t);if(!n)return null;const o=new Kd(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(rn,ot,S)=>{"use strict";S.d(ot,{DS:()=>ct,X8:()=>Ie,$z:()=>fe,UB:()=>Te,yy:()=>bt,ZP:()=>Ye,AU:()=>ve,CP:()=>xt,gF:()=>me});var l=S(9842),ae=(S(509),S(177)),G=S(4438),Ee=S(5407),oe=S(9253),ie=S(1413),je=S(7673),ce=S(1985),ye=S(8455),X=S(6365),Ne=S(8750),Ue=S(983),Fe=S(3794),Xe=S(941),Re=S(5558),Me=S(6354),Oe=S(6129);class dt extends ie.B{constructor(Be=1/0,tt=1/0,$e=Oe.U){super(),this._bufferSize=Be,this._windowTime=tt,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tt===1/0,this._bufferSize=Math.max(1,Be),this._windowTime=Math.max(1,tt)}next(Be){const{isStopped:tt,_buffer:$e,_infiniteTimeWindow:ft,_timestampProvider:Gt,_windowTime:Bt}=this;tt||($e.push(Be),!ft&&$e.push(Gt.now()+Bt)),this._trimBuffer(),super.next(Be)}_subscribe(Be){this._throwIfClosed(),this._trimBuffer();const tt=this._innerSubscribe(Be),{_infiniteTimeWindow:$e,_buffer:ft}=this,Gt=ft.slice();for(let Bt=0;Bt<Gt.length&&!Be.closed;Bt+=$e?1:2)Be.next(Gt[Bt]);return this._checkFinalizedStatuses(Be),tt}_trimBuffer(){const{_bufferSize:Be,_timestampProvider:tt,_buffer:$e,_infiniteTimeWindow:ft}=this,Gt=(ft?1:2)*Be;if(Be<1/0&&Gt<$e.length&&$e.splice(0,$e.length-Gt),!ft){const Bt=tt.now();let Yt=0;for(let jt=1;jt<$e.length&&$e[jt]<=Bt;jt+=2)Yt=jt;Yt&&$e.splice(0,Yt+1)}}}var Ae=S(7707),Ve=S(9974);function He(We,Be,...tt){if(!0===Be)return void We();if(!1===Be)return;const $e=new Ae.Ms({next:()=>{$e.unsubscribe(),We()}});return(0,Ne.Tg)(Be(...tt)).subscribe($e)}function $(We,Be,tt){let $e,ft=!1;return We&&"object"==typeof We?({bufferSize:$e=1/0,windowTime:Be=1/0,refCount:ft=!1,scheduler:tt}=We):$e=null!=We?We:1/0,function xe(We={}){const{connector:Be=(()=>new ie.B),resetOnError:tt=!0,resetOnComplete:$e=!0,resetOnRefCountZero:ft=!0}=We;return Gt=>{let Bt,Yt,jt,yt=0,ut=!1,lt=!1;const vt=()=>{null==Yt||Yt.unsubscribe(),Yt=void 0},Zt=()=>{vt(),Bt=jt=void 0,ut=lt=!1},Dn=()=>{const vn=Bt;Zt(),null==vn||vn.unsubscribe()};return(0,Ve.N)((vn,Sn)=>{yt++,!lt&&!ut&&vt();const ln=jt=null!=jt?jt:Be();Sn.add(()=>{yt--,0===yt&&!lt&&!ut&&(Yt=He(Dn,ft))}),ln.subscribe(Sn),!Bt&&yt>0&&(Bt=new Ae.Ms({next:In=>ln.next(In),error:In=>{lt=!0,vt(),Yt=He(Zt,tt,In),ln.error(In)},complete:()=>{ut=!0,vt(),Yt=He(Zt,$e),ln.complete()}}),(0,Ne.Tg)(vn).subscribe(Bt))})(Gt)}}({connector:()=>new dt($e,Be,tt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ft})}var F=S(1594),ne=S(8071);function K(We,Be){return(0,ne.T)(Be)?(0,Re.n)(()=>We,Be):(0,Re.n)(()=>We)}var be=S(6745),Ge=S(5964),qe=S(7935);const xt=new G.nKC("angularfire2.auth.use-emulator"),bt=new G.nKC("angularfire2.auth.settings"),Ye=new G.nKC("angularfire2.auth.tenant-id"),fe=new G.nKC("angularfire2.auth.langugage-code"),ve=new G.nKC("angularfire2.auth.use-device-language"),Te=new G.nKC("angularfire.auth.persistence"),me=(We,Be,tt,$e,ft,Gt,Bt,Yt)=>(0,oe.BM)(`${We.name}.auth`,"AngularFireAuth",We.name,()=>{const jt=Be.runOutsideAngular(()=>We.auth());if(tt&&jt.useEmulator(...tt),$e&&(jt.tenantId=$e),jt.languageCode=ft,Gt&&jt.useDeviceLanguage(),Bt)for(const[yt,ut]of Object.entries(Bt))jt.settings[yt]=ut;return Yt&&jt.setPersistence(Yt),jt},[tt,$e,ft,Gt,Bt,Yt]);let ct=(()=>{var We;class Be{constructor($e,ft,Gt,Bt,Yt,jt,yt,ut,lt,vt,Zt,Dn){(0,l.A)(this,"authState",void 0),(0,l.A)(this,"idToken",void 0),(0,l.A)(this,"user",void 0),(0,l.A)(this,"idTokenResult",void 0),(0,l.A)(this,"credential",void 0);const vn=new ie.B,Sn=(0,je.of)(void 0).pipe((0,Xe.Q)(Yt.outsideAngular),(0,Re.n)(()=>Bt.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,509)))),(0,Me.T)(()=>(0,oe.iB)($e,Bt,ft)),(0,Me.T)(ln=>me(ln,Bt,jt,ut,lt,vt,yt,Zt)),$({bufferSize:1,refCount:!1}));if((0,ae.Vy)(Gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{Sn.pipe((0,F.$)()).subscribe();const ln=Sn.pipe((0,Re.n)($t=>$t.getRedirectResult().then(Wn=>Wn,()=>null)),Ee.U0,$({bufferSize:1,refCount:!1})),In=Sn.pipe((0,Re.n)($t=>new ce.c(Wn=>({unsubscribe:Bt.runOutsideAngular(()=>$t.onAuthStateChanged(Hn=>Wn.next(Hn),Hn=>Wn.error(Hn),()=>Wn.complete()))})))),un=Sn.pipe((0,Re.n)($t=>new ce.c(Wn=>({unsubscribe:Bt.runOutsideAngular(()=>$t.onIdTokenChanged(Hn=>Wn.next(Hn),Hn=>Wn.error(Hn),()=>Wn.complete()))}))));this.authState=ln.pipe(K(In),(0,be._)(Yt.outsideAngular),(0,Xe.Q)(Yt.insideAngular)),this.user=ln.pipe(K(un),(0,be._)(Yt.outsideAngular),(0,Xe.Q)(Yt.insideAngular)),this.idToken=this.user.pipe((0,Re.n)($t=>$t?(0,ye.H)($t.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe((0,Re.n)($t=>$t?(0,ye.H)($t.getIdTokenResult()):(0,je.of)(null))),this.credential=function Ce(...We){const Be=(0,Fe.lI)(We),tt=(0,Fe.R0)(We,1/0),$e=We;return $e.length?1===$e.length?(0,Ne.Tg)($e[0]):(0,X.U)(tt)((0,ye.H)($e,Be)):Ue.w}(ln,vn,this.authState.pipe((0,Ge.p)($t=>!$t))).pipe((0,Me.T)($t=>null!=$t&&$t.user?$t:null),(0,be._)(Yt.outsideAngular),(0,Xe.Q)(Yt.insideAngular))}return(0,oe.Gt)(this,Sn,Bt,{spy:{apply:(ln,In,un)=>{(ln.startsWith("signIn")||ln.startsWith("createUser"))&&un.then($t=>vn.next($t))}}})}}return We=Be,(0,l.A)(Be,"\u0275fac",function($e){return new($e||We)(G.KVO(oe.rx),G.KVO(oe.uP,8),G.KVO(G.Agw),G.KVO(G.SKi),G.KVO(Ee.u0),G.KVO(xt,8),G.KVO(bt,8),G.KVO(Ye,8),G.KVO(fe,8),G.KVO(ve,8),G.KVO(Te,8),G.KVO(Ee.Jv,8))}),(0,l.A)(Be,"\u0275prov",G.jDH({token:We,factory:We.\u0275fac,providedIn:"any"})),Be})(),Ie=(()=>{var We;class Be{constructor(){qe.A.registerVersion("angularfire",Ee.xv.full,"auth-compat")}}return We=Be,(0,l.A)(Be,"\u0275fac",function($e){return new($e||We)}),(0,l.A)(Be,"\u0275mod",G.$C({type:We})),(0,l.A)(Be,"\u0275inj",G.G2t({providers:[ct]})),Be})()},3510:(rn,ot,S)=>{"use strict";S.d(ot,{Qe:()=>ct,cM:()=>Ie});var l=S(9842),k=S(177),ae=S(4438),G=S(5407),Ee=S(9253),oe=S(1182),ie=S(3236),je=S(1985),ce=S(8455),ye=S(7673),X=S(9172),Ne=S(9974),Ue=S(4360);function Fe(){return(0,Ne.N)((We,Be)=>{let tt,$e=!1;We.subscribe((0,Ue._)(Be,ft=>{const Gt=tt;tt=ft,$e&&Be.next([Gt,ft]),$e=!0}))})}var Ce=S(6354),Xe=S(2816),Re=S(3294),Me=S(5964),Ae=(S(509),S(2246),S(7935));function xe(We,Be){return function Ve(We,Be=ie.E){return new je.c(tt=>{let $e;return null!=Be?Be.schedule(()=>{$e=We.onSnapshot({includeMetadataChanges:!0},tt)}):$e=We.onSnapshot({includeMetadataChanges:!0},tt),()=>{null!=$e&&$e()}})}(We,Be)}function $(We,Be){return xe(We,Be).pipe((0,Ce.T)(tt=>({payload:tt,type:"query"})))}class F{constructor(Be,tt){(0,l.A)(this,"ref",void 0),(0,l.A)(this,"afs",void 0),this.ref=Be,this.afs=tt}set(Be,tt){return this.ref.set(Be,tt)}update(Be){return this.ref.update(Be)}delete(){return this.ref.delete()}collection(Be,tt){const $e=this.ref.collection(Be),{ref:ft,query:Gt}=me($e,tt);return new xt(ft,Gt,this.afs)}snapshotChanges(){return function He(We,Be){return xe(We,Be).pipe((0,X.Z)(void 0),Fe(),(0,Ce.T)(tt=>{const[$e,ft]=tt;return ft.exists?null!=$e&&$e.exists?{payload:ft,type:"modified"}:{payload:ft,type:"added"}:{payload:ft,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(G.U0)}valueChanges(Be={}){return this.snapshotChanges().pipe((0,Ce.T)(({payload:tt})=>Be.idField?{...tt.data(),[Be.idField]:tt.id}:tt.data()))}get(Be){return(0,ce.H)(this.ref.get(Be)).pipe(G.U0)}}function ne(We,Be){return $(We,Be).pipe((0,X.Z)(void 0),Fe(),(0,Ce.T)(tt=>{const[$e,ft]=tt,Gt=ft.payload.docChanges(),Bt=Gt.map(Yt=>({type:Yt.type,payload:Yt}));return $e&&JSON.stringify($e.payload.metadata)!==JSON.stringify(ft.payload.metadata)&&ft.payload.docs.forEach((Yt,jt)=>{const yt=Gt.find(lt=>lt.doc.ref.isEqual(Yt.ref)),ut=null==$e?void 0:$e.payload.docs.find(lt=>lt.ref.isEqual(Yt.ref));yt&&JSON.stringify(yt.doc.metadata)===JSON.stringify(Yt.metadata)||!yt&&ut&&JSON.stringify(ut.metadata)===JSON.stringify(Yt.metadata)||Bt.push({type:"modified",payload:{oldIndex:jt,newIndex:jt,type:"modified",doc:Yt}})}),Bt}))}function K(We,Be,tt){return ne(We,tt).pipe((0,Xe.S)(($e,ft)=>function be(We,Be,tt){return Be.forEach($e=>{tt.indexOf($e.type)>-1&&(We=function qe(We,Be){switch(Be.type){case"added":if(!We[Be.newIndex]||!We[Be.newIndex].doc.ref.isEqual(Be.doc.ref))return Ge(We,Be.newIndex,0,Be);break;case"modified":if(null==We[Be.oldIndex]||We[Be.oldIndex].doc.ref.isEqual(Be.doc.ref)){if(Be.oldIndex!==Be.newIndex){const tt=We.slice();return tt.splice(Be.oldIndex,1),tt.splice(Be.newIndex,0,Be),tt}return Ge(We,Be.newIndex,1,Be)}break;case"removed":if(We[Be.oldIndex]&&We[Be.oldIndex].doc.ref.isEqual(Be.doc.ref))return Ge(We,Be.oldIndex,1)}return We}(We,$e))}),We}($e,ft.map(Gt=>Gt.payload),Be),[]),(0,Re.F)(),(0,Ce.T)($e=>$e.map(ft=>({type:ft.type,payload:ft}))))}function Ge(We,Be,tt,...$e){const ft=We.slice();return ft.splice(Be,tt,...$e),ft}function Nt(We){return(!We||0===We.length)&&(We=["added","removed","modified"]),We}class xt{constructor(Be,tt,$e){(0,l.A)(this,"ref",void 0),(0,l.A)(this,"query",void 0),(0,l.A)(this,"afs",void 0),this.ref=Be,this.query=tt,this.afs=$e}stateChanges(Be){let tt=ne(this.query,this.afs.schedulers.outsideAngular);return Be&&Be.length>0&&(tt=tt.pipe((0,Ce.T)($e=>$e.filter(ft=>Be.indexOf(ft.type)>-1)))),tt.pipe((0,X.Z)(void 0),Fe(),(0,Me.p)(([$e,ft])=>ft.length>0||!$e),(0,Ce.T)(([,$e])=>$e),G.U0)}auditTrail(Be){return this.stateChanges(Be).pipe((0,Xe.S)((tt,$e)=>[...tt,...$e],[]))}snapshotChanges(Be){const tt=Nt(Be);return K(this.query,tt,this.afs.schedulers.outsideAngular).pipe(G.U0)}valueChanges(Be={}){return $(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.T)(tt=>tt.payload.docs.map($e=>Be.idField?{...$e.data(),[Be.idField]:$e.id}:$e.data())),G.U0)}get(Be){return(0,ce.H)(this.query.get(Be)).pipe(G.U0)}add(Be){return this.ref.add(Be)}doc(Be){return new F(this.ref.doc(Be),this.afs)}}class bt{constructor(Be,tt){(0,l.A)(this,"query",void 0),(0,l.A)(this,"afs",void 0),this.query=Be,this.afs=tt}stateChanges(Be){return Be&&0!==Be.length?ne(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.T)(tt=>tt.filter($e=>Be.indexOf($e.type)>-1)),(0,Me.p)(tt=>tt.length>0),G.U0):ne(this.query,this.afs.schedulers.outsideAngular).pipe(G.U0)}auditTrail(Be){return this.stateChanges(Be).pipe((0,Xe.S)((tt,$e)=>[...tt,...$e],[]))}snapshotChanges(Be){const tt=Nt(Be);return K(this.query,tt,this.afs.schedulers.outsideAngular).pipe(G.U0)}valueChanges(Be={}){return $(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.T)($e=>$e.payload.docs.map(ft=>Be.idField?{[Be.idField]:ft.id,...ft.data()}:ft.data())),G.U0)}get(Be){return(0,ce.H)(this.query.get(Be)).pipe(G.U0)}}const Ye=new ae.nKC("angularfire2.enableFirestorePersistence"),fe=new ae.nKC("angularfire2.firestore.persistenceSettings"),ve=new ae.nKC("angularfire2.firestore.settings"),Te=new ae.nKC("angularfire2.firestore.use-emulator");function me(We,Be=(tt=>tt)){return{query:Be(We),ref:We}}let ct=(()=>{var We;class Be{constructor($e,ft,Gt,Bt,Yt,jt,yt,ut,lt,vt,Zt,Dn,vn,Sn,ln,In,un){(0,l.A)(this,"schedulers",void 0),(0,l.A)(this,"firestore",void 0),(0,l.A)(this,"persistenceEnabled$",void 0),this.schedulers=yt;const $t=(0,Ee.iB)($e,jt,ft),Wn=lt;vt&&(0,oe.gF)($t,jt,Zt,vn,Sn,ln,Dn,In),[this.firestore,this.persistenceEnabled$]=(0,Ee.BM)(`${$t.name}.firestore`,"AngularFirestore",$t.name,()=>{const Hn=jt.runOutsideAngular(()=>$t.firestore());if(Bt&&Hn.settings(Bt),Wn&&Hn.useEmulator(...Wn),Gt&&!(0,k.Vy)(Yt)){const or=()=>{try{return(0,ce.H)(Hn.enablePersistence(ut||void 0).then(()=>!0,()=>!1))}catch(On){return typeof console<"u"&&console.warn(On),(0,ye.of)(!1)}};return[Hn,jt.runOutsideAngular(or)]}return[Hn,(0,ye.of)(!1)]},[Bt,Wn,Gt])}collection($e,ft){let Gt;Gt="string"==typeof $e?this.firestore.collection($e):$e;const{ref:Bt,query:Yt}=me(Gt,ft),jt=this.schedulers.ngZone.run(()=>Bt);return new xt(jt,Yt,this)}collectionGroup($e,ft){const Gt=ft||(Yt=>Yt),Bt=this.firestore.collectionGroup($e);return new bt(Gt(Bt),this)}doc($e){let ft;ft="string"==typeof $e?this.firestore.doc($e):$e;const Gt=this.schedulers.ngZone.run(()=>ft);return new F(Gt,this)}createId(){return this.firestore.collection("_").doc().id}}return We=Be,(0,l.A)(Be,"\u0275fac",function($e){return new($e||We)(ae.KVO(Ee.rx),ae.KVO(Ee.uP,8),ae.KVO(Ye,8),ae.KVO(ve,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(G.u0),ae.KVO(fe,8),ae.KVO(Te,8),ae.KVO(oe.DS,8),ae.KVO(oe.CP,8),ae.KVO(oe.yy,8),ae.KVO(oe.ZP,8),ae.KVO(oe.$z,8),ae.KVO(oe.AU,8),ae.KVO(oe.UB,8),ae.KVO(G.Jv,8))}),(0,l.A)(Be,"\u0275prov",ae.jDH({token:We,factory:We.\u0275fac,providedIn:"any"})),Be})(),Ie=(()=>{var We;class Be{constructor(){Ae.A.registerVersion("angularfire",G.xv.full,"fst-compat")}static enablePersistence($e){return{ngModule:Be,providers:[{provide:Ye,useValue:!0},{provide:fe,useValue:$e}]}}}return We=Be,(0,l.A)(Be,"\u0275fac",function($e){return new($e||We)}),(0,l.A)(Be,"\u0275mod",ae.$C({type:We})),(0,l.A)(Be,"\u0275inj",ae.G2t({providers:[ct]})),Be})()},9253:(rn,ot,S)=>{"use strict";S.d(ot,{BM:()=>Ce,Gt:()=>oe,bf:()=>Fe,e7:()=>ie,iB:()=>X,rx:()=>ce,uP:()=>ye});var l=S(9842),k=S(4438),ae=S(5407),G=S(7935);const Ee=["ngOnDestroy"],oe=(Oe,dt,Ae,Ve={})=>new Proxy(Oe,{get:(xe,He)=>Ae.runOutsideAngular(()=>{var $;if(Oe[He])return null!=Ve&&null!==($=Ve.spy)&&void 0!==$&&$.get&&Ve.spy.get(He,Oe[He]),Oe[He];if(Ee.indexOf(He)>-1)return()=>{};const F=dt.toPromise().then(ne=>{const K=null==ne?void 0:ne[He];return"function"==typeof K?K.bind(ne):null!=K&&K.then?K.then(be=>Ae.run(()=>be)):Ae.run(()=>K)});return new Proxy(()=>{},{get:(ne,K)=>F[K],apply:(ne,K,be)=>F.then(Ge=>{var qe;const Nt=null==Ge?void 0:Ge(...be);return null!=Ve&&null!==(qe=Ve.spy)&&void 0!==qe&&qe.apply&&Ve.spy.apply(He,be,Nt),Nt})})})}),ie=(Oe,dt)=>{dt.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(Ve=>{Object.defineProperty(Oe.prototype,Ve,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,Ve))})})};class je{constructor(dt){return dt}}const ce=new k.nKC("angularfire2.app.options"),ye=new k.nKC("angularfire2.app.name");function X(Oe,dt,Ae){const xe="object"==typeof Ae&&Ae||{};xe.name=xe.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const $=G.A.apps.filter(F=>F&&F.name===xe.name)[0]||dt.runOutsideAngular(()=>G.A.initializeApp(Oe,xe));try{if(JSON.stringify(Oe)!==JSON.stringify($.options)){const F=!!module.hot;Ne("error",`${$.name} Firebase App already initialized with different options${F?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new je($)}const Ne=(Oe,...dt)=>{(0,k.naY)()&&typeof console<"u"&&console[Oe](...dt)},Ue={provide:je,useFactory:X,deps:[ce,k.SKi,[new k.Xx1,ye]]};let Fe=(()=>{var Oe;class dt{static initializeApp(Ve,xe){return{ngModule:dt,providers:[{provide:ce,useValue:Ve},{provide:ye,useValue:xe}]}}constructor(Ve){G.A.registerVersion("angularfire",ae.xv.full,"core"),G.A.registerVersion("angularfire",ae.xv.full,"app-compat"),G.A.registerVersion("angular",k.xvI.full,Ve.toString())}}return Oe=dt,(0,l.A)(dt,"\u0275fac",function(Ve){return new(Ve||Oe)(k.KVO(k.Agw))}),(0,l.A)(dt,"\u0275mod",k.$C({type:Oe})),(0,l.A)(dt,"\u0275inj",k.G2t({providers:[Ue]})),dt})();function Ce(Oe,dt,Ae,Ve,xe){const[,He,$]=globalThis.\u0275AngularfireInstanceCache.find(F=>F[0]===Oe)||[];if(He)return function Xe(Oe,dt){try{return Oe.toString()===dt.toString()}catch{return Oe===dt}}(xe,$)||(Me("error",`${dt} was already initialized on the ${Ae} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:xe,was:$})),He;{const F=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Oe,F,xe]),F}}const Re=typeof module<"u"&&!!module.hot,Me=(Oe,...dt)=>{(0,k.naY)()&&typeof console<"u"&&console[Oe](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(rn,ot,S)=>{"use strict";S.d(ot,{xv:()=>Fe,U0:()=>be,Oe:()=>ne,u0:()=>xe,Jv:()=>Me});var l=S(9842),k=S(4438),ae=S(2214),G=S(6780),oe=S(9687);const je=new class ie extends oe.q{}(class Ee extends G.R{constructor(bt,Ye){super(bt,Ye),this.scheduler=bt,this.work=Ye}schedule(bt,Ye=0){return Ye>0?super.schedule(bt,Ye):(this.delay=Ye,this.state=bt,this.scheduler.flush(this),this)}execute(bt,Ye){return Ye>0||this.closed?super.execute(bt,Ye):this._execute(bt,Ye)}requestAsyncId(bt,Ye,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(bt,Ye,fe):(bt.flush(this),0)}});var ye=S(3236),X=S(8141),Ne=S(941),Ue=S(6745);const Fe=new k.RxE("ANGULARFIRE2_VERSION");class Me{constructor(){return((xt,bt)=>{const Ye=(0,ae.Dk)(),fe=[];return Ye.forEach(ve=>{ve.container.getProvider(xt).instances.forEach(me=>{fe.includes(me)||fe.push(me)})}),fe})(Oe)}}const Oe="app-check";function dt(){}class Ae{constructor(bt,Ye=je){(0,l.A)(this,"zone",void 0),(0,l.A)(this,"delegate",void 0),this.zone=bt,this.delegate=Ye}now(){return this.delegate.now()}schedule(bt,Ye,fe){const ve=this.zone;return this.delegate.schedule(function(me){ve.runGuarded(()=>{bt.apply(this,[me])})},Ye,fe)}}class Ve{constructor(bt){(0,l.A)(this,"zone",void 0),(0,l.A)(this,"task",null),this.zone=bt}call(bt,Ye){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dt,{},dt,dt)),Ye.pipe((0,X.M)({next:fe,complete:fe,error:fe})).subscribe(bt).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xe=(()=>{var xt;class bt{constructor(fe){(0,l.A)(this,"ngZone",void 0),(0,l.A)(this,"outsideAngular",void 0),(0,l.A)(this,"insideAngular",void 0),this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=fe.run(()=>new Ae(Zone.current,ye.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return xt=bt,(0,l.A)(bt,"\u0275fac",function(fe){return new(fe||xt)(k.KVO(k.SKi))}),(0,l.A)(bt,"\u0275prov",k.jDH({token:xt,factory:xt.\u0275fac,providedIn:"root"})),bt})();function He(){const xt=globalThis.\u0275AngularFireScheduler;if(!xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return xt}function ne(xt){return xt.pipe((0,Ne.Q)(He().outsideAngular))}function be(xt){return function Ge(xt){return function(Ye){return(Ye=Ye.lift(new Ve(xt.ngZone))).pipe((0,Ue._)(xt.outsideAngular),(0,Ne.Q)(xt.insideAngular))}}(He())(xt)}},4341:(rn,ot,S)=>{"use strict";S.d(ot,{ok:()=>Ni,MJ:()=>At,JD:()=>To,j4:()=>mi,YN:()=>cs,zX:()=>ls,VZ:()=>us,cz:()=>He,kq:()=>Ce,vO:()=>Dn,BC:()=>In,cb:()=>un,vS:()=>zt,R_:()=>$s,X1:()=>sa,YS:()=>bs,k0:()=>ne,qT:()=>Rn});var l=S(4438),k=S(177),ae=S(8455),G=S(1985),Ee=S(3073),oe=S(8750),ie=S(3794),je=S(4360),ce=S(6450),ye=S(8496),Ne=S(6354);let Ue=(()=>{var B;class P{constructor(U,he){this._renderer=U,this._elementRef=he,this.onChange=Wt=>{},this.onTouched=()=>{}}setProperty(U,he){this._renderer.setProperty(this._elementRef.nativeElement,U,he)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(l.sFG),l.rXU(l.aKT))},B.\u0275dir=l.FsC({type:B}),P})(),Fe=(()=>{var B;class P extends Ue{}return(B=P).\u0275fac=(()=>{let ue;return function(he){return(ue||(ue=l.xGo(B)))(he||B)}})(),B.\u0275dir=l.FsC({type:B,features:[l.Vt3]}),P})();const Ce=new l.nKC(""),Me={provide:Ce,useExisting:(0,l.Rfq)(()=>Ae),multi:!0},dt=new l.nKC("");let Ae=(()=>{var B;class P extends Ue{constructor(U,he,Wt){super(U,he),this._compositionMode=Wt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const B=(0,k.QT)()?(0,k.QT)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(U){this.setProperty("value",null==U?"":U)}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(dt,8))},B.\u0275dir=l.FsC({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,he){1&U&&l.bIt("input",function(an){return he._handleInput(an.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(an){return he._compositionEnd(an.target.value)})},features:[l.Jv_([Me]),l.Vt3]}),P})();function Ve(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function xe(B){return null!=B&&"number"==typeof B.length}const He=new l.nKC(""),$=new l.nKC(""),F=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ne{static min(P){return K(P)}static max(P){return be(P)}static required(P){return Ge(P)}static requiredTrue(P){return function qe(B){return!0===B.value?null:{required:!0}}(P)}static email(P){return function Nt(B){return Ve(B.value)||F.test(B.value)?null:{email:!0}}(P)}static minLength(P){return function xt(B){return P=>Ve(P.value)||!xe(P.value)?null:P.value.length<B?{minlength:{requiredLength:B,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function bt(B){return P=>xe(P.value)&&P.value.length>B?{maxlength:{requiredLength:B,actualLength:P.value.length}}:null}(P)}static pattern(P){return Ye(P)}static nullValidator(P){return null}static compose(P){return Be(P)}static composeAsync(P){return $e(P)}}function K(B){return P=>{if(Ve(P.value)||Ve(B))return null;const ue=parseFloat(P.value);return!isNaN(ue)&&ue<B?{min:{min:B,actual:P.value}}:null}}function be(B){return P=>{if(Ve(P.value)||Ve(B))return null;const ue=parseFloat(P.value);return!isNaN(ue)&&ue>B?{max:{max:B,actual:P.value}}:null}}function Ge(B){return Ve(B.value)?{required:!0}:null}function Ye(B){if(!B)return fe;let P,ue;return"string"==typeof B?(ue="","^"!==B.charAt(0)&&(ue+="^"),ue+=B,"$"!==B.charAt(B.length-1)&&(ue+="$"),P=new RegExp(ue)):(ue=B.toString(),P=B),U=>{if(Ve(U.value))return null;const he=U.value;return P.test(he)?null:{pattern:{requiredPattern:ue,actualValue:he}}}}function fe(B){return null}function ve(B){return null!=B}function Te(B){return(0,l.jNT)(B)?(0,ae.H)(B):B}function me(B){let P={};return B.forEach(ue=>{P=null!=ue?{...P,...ue}:P}),0===Object.keys(P).length?null:P}function ct(B,P){return P.map(ue=>ue(B))}function We(B){return B.map(P=>function Ie(B){return!B.validate}(P)?P:ue=>P.validate(ue))}function Be(B){if(!B)return null;const P=B.filter(ve);return 0==P.length?null:function(ue){return me(ct(ue,P))}}function tt(B){return null!=B?Be(We(B)):null}function $e(B){if(!B)return null;const P=B.filter(ve);return 0==P.length?null:function(ue){return function X(...B){const P=(0,ie.ms)(B),{args:ue,keys:U}=(0,Ee.D)(B),he=new G.c(Wt=>{const{length:an}=ue;if(!an)return void Wt.complete();const Yr=new Array(an);let Wi=an,bo=an;for(let mo=0;mo<an;mo++){let Rs=!1;(0,oe.Tg)(ue[mo]).subscribe((0,je._)(Wt,Hs=>{Rs||(Rs=!0,bo--),Yr[mo]=Hs},()=>Wi--,void 0,()=>{(!Wi||!Rs)&&(bo||Wt.next(U?(0,ye.e)(U,Yr):Yr),Wt.complete())}))}});return P?he.pipe((0,ce.I)(P)):he}(ct(ue,P).map(Te)).pipe((0,Ne.T)(me))}}function ft(B){return null!=B?$e(We(B)):null}function Gt(B,P){return null===B?[P]:Array.isArray(B)?[...B,P]:[B,P]}function Bt(B){return B._rawValidators}function Yt(B){return B._rawAsyncValidators}function jt(B){return B?Array.isArray(B)?B:[B]:[]}function yt(B,P){return Array.isArray(B)?B.includes(P):B===P}function ut(B,P){const ue=jt(P);return jt(B).forEach(he=>{yt(ue,he)||ue.push(he)}),ue}function lt(B,P){return jt(P).filter(ue=>!yt(B,ue))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=tt(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,ue){return!!this.control&&this.control.hasError(P,ue)}getError(P,ue){return this.control?this.control.getError(P,ue):null}}class Zt extends vt{get formDirective(){return null}get path(){return null}}class Dn extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let In=(()=>{var B;class P extends vn{constructor(U){super(U)}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(Dn,2))},B.\u0275dir=l.FsC({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,he){2&U&&l.AVh("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[l.Vt3]}),P})(),un=(()=>{var B;class P extends vn{constructor(U){super(U)}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(Zt,10))},B.\u0275dir=l.FsC({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,he){2&U&&l.AVh("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)("ng-submitted",he.isSubmitted)},features:[l.Vt3]}),P})();const at="VALID",Je="INVALID",Tt="PENDING",Ze="DISABLED";function se(B){return(et(B)?B.validators:B)||null}function Pe(B,P){return(et(P)?P.asyncValidators:B)||null}function et(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function qt(B,P,ue){const U=B.controls;if(!(P?Object.keys(U):U).length)throw new l.wOt(1e3,"");if(!U[ue])throw new l.wOt(1001,"")}function _n(B,P,ue){B._forEachChild((U,he)=>{if(void 0===ue[he])throw new l.wOt(1002,"")})}class qn{constructor(P,ue){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(ue)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===at}get invalid(){return this.status===Je}get pending(){return this.status==Tt}get disabled(){return this.status===Ze}get enabled(){return this.status!==Ze}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(ut(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(ut(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(lt(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(lt(P,this._rawAsyncValidators))}hasValidator(P){return yt(this._rawValidators,P)}hasAsyncValidator(P){return yt(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ue=>{ue.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ue=>{ue.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=Tt,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const ue=this._parentMarkedDirty(P.onlySelf);this.status=Ze,this.errors=null,this._forEachChild(U=>{U.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:ue}),this._onDisabledChange.forEach(U=>U(!0))}enable(P={}){const ue=this._parentMarkedDirty(P.onlySelf);this.status=at,this._forEachChild(U=>{U.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:ue}),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===Tt)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(ue=>ue._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ze:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator=!0;const ue=Te(this.asyncValidator(this));this._asyncValidationSubscription=ue.subscribe(U=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(U,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,ue={}){this.errors=P,this._updateControlsErrors(!1!==ue.emitEvent)}get(P){let ue=P;return null==ue||(Array.isArray(ue)||(ue=ue.split(".")),0===ue.length)?null:ue.reduce((U,he)=>U&&U._find(he),this)}getError(P,ue){const U=ue?this.get(ue):this;return U&&U.errors?U.errors[P]:null}hasError(P,ue){return!!this.getError(P,ue)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?Ze:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(Je)?Je:at}_anyControlsHaveStatus(P){return this._anyControls(ue=>ue.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){et(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function de(B){return Array.isArray(B)?tt(B):B||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function mt(B){return Array.isArray(B)?ft(B):B||null}(this._rawAsyncValidators)}}class Qn extends qn{constructor(P,ue,U){super(se(ue),Pe(U,ue)),this.controls=P,this._initObservables(),this._setUpdateStrategy(ue),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,ue){return this.controls[P]?this.controls[P]:(this.controls[P]=ue,ue.setParent(this),ue._registerOnCollectionChange(this._onCollectionChange),ue)}addControl(P,ue,U={}){this.registerControl(P,ue),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}removeControl(P,ue={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}setControl(P,ue,U={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],ue&&this.registerControl(P,ue),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,ue={}){_n(this,0,P),Object.keys(P).forEach(U=>{qt(this,!0,U),this.controls[U].setValue(P[U],{onlySelf:!0,emitEvent:ue.emitEvent})}),this.updateValueAndValidity(ue)}patchValue(P,ue={}){null!=P&&(Object.keys(P).forEach(U=>{const he=this.controls[U];he&&he.patchValue(P[U],{onlySelf:!0,emitEvent:ue.emitEvent})}),this.updateValueAndValidity(ue))}reset(P={},ue={}){this._forEachChild((U,he)=>{U.reset(P?P[he]:null,{onlySelf:!0,emitEvent:ue.emitEvent})}),this._updatePristine(ue),this._updateTouched(ue),this.updateValueAndValidity(ue)}getRawValue(){return this._reduceChildren({},(P,ue,U)=>(P[U]=ue.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(ue,U)=>!!U._syncPendingControls()||ue);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(ue=>{const U=this.controls[ue];U&&P(U,ue)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[ue,U]of Object.entries(this.controls))if(this.contains(ue)&&P(U))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ue,U,he)=>((U.enabled||this.disabled)&&(ue[he]=U.value),ue))}_reduceChildren(P,ue){let U=P;return this._forEachChild((he,Wt)=>{U=ue(U,he,Wt)}),U}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}class gn extends Qn{}const Ur=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ai}),Ai="always";function Mi(B,P){return[...P.path,B]}function _i(B,P,ue=Ai){var U,he;It(B,P),P.valueAccessor.writeValue(B.value),(B.disabled||"always"===ue)&&(null===(U=(he=P.valueAccessor).setDisabledState)||void 0===U||U.call(he,B.disabled)),function Ot(B,P){P.valueAccessor.registerOnChange(ue=>{B._pendingValue=ue,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&bn(B,P)})}(B,P),function $n(B,P){const ue=(U,he)=>{P.valueAccessor.writeValue(U),he&&P.viewToModelUpdate(U)};B.registerOnChange(ue),P._registerOnDestroy(()=>{B._unregisterOnChange(ue)})}(B,P),function dn(B,P){P.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&bn(B,P),"submit"!==B.updateOn&&B.markAsTouched()})}(B,P),function Qr(B,P){if(P.valueAccessor.setDisabledState){const ue=U=>{P.valueAccessor.setDisabledState(U)};B.registerOnDisabledChange(ue),P._registerOnDestroy(()=>{B._unregisterOnDisabledChange(ue)})}}(B,P)}function tr(B,P,ue=!0){const U=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(U),P.valueAccessor.registerOnTouched(U)),gt(B,P),B&&(P._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function Ti(B,P){B.forEach(ue=>{ue.registerOnValidatorChange&&ue.registerOnValidatorChange(P)})}function It(B,P){const ue=Bt(B);null!==P.validator?B.setValidators(Gt(ue,P.validator)):"function"==typeof ue&&B.setValidators([ue]);const U=Yt(B);null!==P.asyncValidator?B.setAsyncValidators(Gt(U,P.asyncValidator)):"function"==typeof U&&B.setAsyncValidators([U]);const he=()=>B.updateValueAndValidity();Ti(P._rawValidators,he),Ti(P._rawAsyncValidators,he)}function gt(B,P){let ue=!1;if(null!==B){if(null!==P.validator){const he=Bt(B);if(Array.isArray(he)&&he.length>0){const Wt=he.filter(an=>an!==P.validator);Wt.length!==he.length&&(ue=!0,B.setValidators(Wt))}}if(null!==P.asyncValidator){const he=Yt(B);if(Array.isArray(he)&&he.length>0){const Wt=he.filter(an=>an!==P.asyncValidator);Wt.length!==he.length&&(ue=!0,B.setAsyncValidators(Wt))}}}const U=()=>{};return Ti(P._rawValidators,U),Ti(P._rawAsyncValidators,U),ue}function bn(B,P){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function pe(B,P){if(!B.hasOwnProperty("model"))return!1;const ue=B.model;return!!ue.isFirstChange()||!Object.is(P,ue.currentValue)}function _e(B,P){if(!P)return null;let ue,U,he;return Array.isArray(P),P.forEach(Wt=>{Wt.constructor===Ae?ue=Wt:function De(B){return Object.getPrototypeOf(B.constructor)===Fe}(Wt)?U=Wt:he=Wt}),he||U||ue||null}function Vn(B,P){const ue=B.indexOf(P);ue>-1&&B.splice(ue,1)}function Kr(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}Promise.resolve();const At=class extends qn{constructor(P=null,ue,U){super(se(ue),Pe(U,ue)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(ue),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),et(ue)&&(ue.nonNullable||ue.initialValueIsDefault)&&(this.defaultValue=Kr(P)?P.value:P)}setValue(P,ue={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==ue.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==ue.emitViewToModelChange)),this.updateValueAndValidity(ue)}patchValue(P,ue={}){this.setValue(P,ue)}reset(P=this.defaultValue,ue={}){this._applyFormState(P),this.markAsPristine(ue),this.markAsUntouched(ue),this.setValue(this.value,ue),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Vn(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Vn(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){Kr(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},Qt={provide:Dn,useExisting:(0,l.Rfq)(()=>zt)},tn=Promise.resolve();let zt=(()=>{var B;class P extends Dn{constructor(U,he,Wt,an,Yr,Wi){super(),this._changeDetectorRef=Yr,this.callSetDisabledState=Wi,this.control=new At,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=U,this._setValidators(he),this._setAsyncValidators(Wt),this.valueAccessor=_e(0,an)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const he=U.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),pe(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_i(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){tn.then(()=>{var he;this.control.setValue(U,{emitViewToModelChange:!1}),null===(he=this._changeDetectorRef)||void 0===he||he.markForCheck()})}_updateDisabled(U){const he=U.isDisabled.currentValue,Wt=0!==he&&(0,l.L39)(he);tn.then(()=>{var an;Wt&&!this.control.disabled?this.control.disable():!Wt&&this.control.disabled&&this.control.enable(),null===(an=this._changeDetectorRef)||void 0===an||an.markForCheck()})}_getPath(U){return this._parent?Mi(U,this._parent):[U]}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(Zt,9),l.rXU(He,10),l.rXU($,10),l.rXU(Ce,10),l.rXU(l.gRc,8),l.rXU(Ur,8))},B.\u0275dir=l.FsC({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[l.Mj6.None,"disabled","isDisabled"],model:[l.Mj6.None,"ngModel","model"],options:[l.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Qt]),l.Vt3,l.OA$]}),P})(),Rn=(()=>{var B;class P{}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275dir=l.FsC({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})();const sr=new l.nKC(""),li={provide:Zt,useExisting:(0,l.Rfq)(()=>mi)};let mi=(()=>{var B;class P extends Zt{constructor(U,he,Wt){super(),this.callSetDisabledState=Wt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(U),this._setAsyncValidators(he)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const he=this.form.get(U.path);return _i(he,U,this.callSetDisabledState),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),he}getControl(U){return this.form.get(U.path)}removeControl(U){tr(U.control||null,U,!1),function ht(B,P){const ue=B.indexOf(P);ue>-1&&B.splice(ue,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,he){this.form.get(U.path).setValue(he)}onSubmit(U){var he;return this.submitted=!0,function W(B,P){B._syncPendingControls(),P.forEach(ue=>{const U=ue.control;"submit"===U.updateOn&&U._pendingChange&&(ue.viewToModelUpdate(U._pendingValue),U._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===(null==U||null===(he=U.target)||void 0===he?void 0:he.method)}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const he=U.control,Wt=this.form.get(U.path);he!==Wt&&(tr(he||null,U),(B=>B instanceof At)(Wt)&&(_i(Wt,U,this.callSetDisabledState),U.control=Wt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const he=this.form.get(U.path);(function Bn(B,P){It(B,P)})(he,U),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const he=this.form.get(U.path);he&&function zn(B,P){return gt(B,P)}(he,U)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){It(this.form,this),this._oldForm&&gt(this._oldForm,this)}_checkFormPresent(){}}return(B=P).\u0275fac=function(U){return new(U||B)(l.rXU(He,10),l.rXU($,10),l.rXU(Ur,8))},B.\u0275dir=l.FsC({type:B,selectors:[["","formGroup",""]],hostBindings:function(U,he){1&U&&l.bIt("submit",function(an){return he.onSubmit(an)})("reset",function(){return he.onReset()})},inputs:{form:[l.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([li]),l.Vt3,l.OA$]}),P})();const Yn={provide:Dn,useExisting:(0,l.Rfq)(()=>To)};let To=(()=>{var B;class P extends Dn{set isDisabled(U){}constructor(U,he,Wt,an,Yr){super(),this._ngModelWarningConfig=Yr,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(he),this._setAsyncValidators(Wt),this.valueAccessor=_e(0,an)}ngOnChanges(U){this._added||this._setUpControl(),pe(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return Mi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(B=P)._ngModelWarningSentOnce=!1,B.\u0275fac=function(U){return new(U||B)(l.rXU(Zt,13),l.rXU(He,10),l.rXU($,10),l.rXU(Ce,10),l.rXU(sr,8))},B.\u0275dir=l.FsC({type:B,selectors:[["","formControlName",""]],inputs:{name:[l.Mj6.None,"formControlName","name"],isDisabled:[l.Mj6.None,"disabled","isDisabled"],model:[l.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([Yn]),l.Vt3,l.OA$]}),P})();function wi(B){return"number"==typeof B?B:parseFloat(B)}let Vi=(()=>{var B;class P{constructor(){this._validator=fe}ngOnChanges(U){if(this.inputName in U){const he=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):fe,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275dir=l.FsC({type:B,features:[l.OA$]}),P})();const Da={provide:He,useExisting:(0,l.Rfq)(()=>ls),multi:!0};let ls=(()=>{var B;class P extends Vi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=U=>wi(U),this.createValidator=U=>be(U)}}return(B=P).\u0275fac=(()=>{let ue;return function(he){return(ue||(ue=l.xGo(B)))(he||B)}})(),B.\u0275dir=l.FsC({type:B,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(U,he){2&U&&l.BMQ("max",he._enabled?he.max:null)},inputs:{max:"max"},features:[l.Jv_([Da]),l.Vt3]}),P})();const qa={provide:He,useExisting:(0,l.Rfq)(()=>us),multi:!0};let us=(()=>{var B;class P extends Vi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=U=>wi(U),this.createValidator=U=>K(U)}}return(B=P).\u0275fac=(()=>{let ue;return function(he){return(ue||(ue=l.xGo(B)))(he||B)}})(),B.\u0275dir=l.FsC({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(U,he){2&U&&l.BMQ("min",he._enabled?he.min:null)},inputs:{min:"min"},features:[l.Jv_([qa]),l.Vt3]}),P})();const vu={provide:He,useExisting:(0,l.Rfq)(()=>bs),multi:!0};let bs=(()=>{var B;class P extends Vi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=U=>Ge}enabled(U){return U}}return(B=P).\u0275fac=(()=>{let ue;return function(he){return(ue||(ue=l.xGo(B)))(he||B)}})(),B.\u0275dir=l.FsC({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(U,he){2&U&&l.BMQ("required",he._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([vu]),l.Vt3]}),P})();const Zo={provide:He,useExisting:(0,l.Rfq)(()=>$s),multi:!0};let $s=(()=>{var B;class P extends Vi{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=U=>U,this.createValidator=U=>Ye(U)}}return(B=P).\u0275fac=(()=>{let ue;return function(he){return(ue||(ue=l.xGo(B)))(he||B)}})(),B.\u0275dir=l.FsC({type:B,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(U,he){2&U&&l.BMQ("pattern",he._enabled?he.pattern:null)},inputs:{pattern:"pattern"},features:[l.Jv_([Zo]),l.Vt3]}),P})(),Uo=(()=>{var B;class P{}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275mod=l.$C({type:B}),B.\u0275inj=l.G2t({}),P})();class bi extends qn{constructor(P,ue,U){super(se(ue),Pe(U,ue)),this.controls=P,this._initObservables(),this._setUpdateStrategy(ue),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[this._adjustIndex(P)]}push(P,ue={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}insert(P,ue,U={}){this.controls.splice(P,0,ue),this._registerControl(ue),this.updateValueAndValidity({emitEvent:U.emitEvent})}removeAt(P,ue={}){let U=this._adjustIndex(P);U<0&&(U=0),this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),this.updateValueAndValidity({emitEvent:ue.emitEvent})}setControl(P,ue,U={}){let he=this._adjustIndex(P);he<0&&(he=0),this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),this.controls.splice(he,1),ue&&(this.controls.splice(he,0,ue),this._registerControl(ue)),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,ue={}){_n(this,0,P),P.forEach((U,he)=>{qt(this,!1,he),this.at(he).setValue(U,{onlySelf:!0,emitEvent:ue.emitEvent})}),this.updateValueAndValidity(ue)}patchValue(P,ue={}){null!=P&&(P.forEach((U,he)=>{this.at(he)&&this.at(he).patchValue(U,{onlySelf:!0,emitEvent:ue.emitEvent})}),this.updateValueAndValidity(ue))}reset(P=[],ue={}){this._forEachChild((U,he)=>{U.reset(P[he],{onlySelf:!0,emitEvent:ue.emitEvent})}),this._updatePristine(ue),this._updateTouched(ue),this.updateValueAndValidity(ue)}getRawValue(){return this.controls.map(P=>P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(ue=>ue._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_adjustIndex(P){return P<0?P+this.length:P}_syncPendingControls(){let P=this.controls.reduce((ue,U)=>!!U._syncPendingControls()||ue,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){this.controls.forEach((ue,U)=>{P(ue,U)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(ue=>ue.enabled&&P(ue))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}_find(P){var ue;return null!==(ue=this.at(P))&&void 0!==ue?ue:null}}function Zi(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Ni=(()=>{var B;class P{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new P;return U.useNonNullable=!0,U}group(U,he=null){const Wt=this._reduceControls(U);let an={};return Zi(he)?an=he:null!==he&&(an.validators=he.validator,an.asyncValidators=he.asyncValidator),new Qn(Wt,an)}record(U,he=null){const Wt=this._reduceControls(U);return new gn(Wt,he)}control(U,he,Wt){let an={};return this.useNonNullable?(Zi(he)?an=he:(an.validators=he,an.asyncValidators=Wt),new At(U,{...an,nonNullable:!0})):new At(U,he,Wt)}array(U,he,Wt){const an=U.map(Yr=>this._createControl(Yr));return new bi(an,he,Wt)}_reduceControls(U){const he={};return Object.keys(U).forEach(Wt=>{he[Wt]=this._createControl(U[Wt])}),he}_createControl(U){return U instanceof At||U instanceof qn?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275prov=l.jDH({token:B,factory:B.\u0275fac,providedIn:"root"}),P})(),cs=(()=>{var B;class P{static withConfig(U){var he;return{ngModule:P,providers:[{provide:Ur,useValue:null!==(he=U.callSetDisabledState)&&void 0!==he?he:Ai}]}}}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275mod=l.$C({type:B}),B.\u0275inj=l.G2t({imports:[Uo]}),P})(),sa=(()=>{var B;class P{static withConfig(U){var he,Wt;return{ngModule:P,providers:[{provide:sr,useValue:null!==(he=U.warnOnNgModelWithFormControl)&&void 0!==he?he:"always"},{provide:Ur,useValue:null!==(Wt=U.callSetDisabledState)&&void 0!==Wt?Wt:Ai}]}}}return(B=P).\u0275fac=function(U){return new(U||B)},B.\u0275mod=l.$C({type:B}),B.\u0275inj=l.G2t({imports:[Uo]}),P})()},345:(rn,ot,S)=>{"use strict";S.d(ot,{Bb:()=>jt,hE:()=>lt,sG:()=>ft});var l=S(4438),k=S(177);class ae extends k.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends ae{static makeCurrent(){(0,k.ZD)(new G)}onAndCancel(Je,Tt,Ze){return Je.addEventListener(Tt,Ze),()=>{Je.removeEventListener(Tt,Ze)}}dispatchEvent(Je,Tt){Je.dispatchEvent(Tt)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,Tt){return(Tt=Tt||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,Tt){return"window"===Tt?window:"document"===Tt?Je:"body"===Tt?Je.body:null}getBaseHref(Je){const Tt=function oe(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==Tt?null:function ie(at){return new URL(at,document.baseURI).pathname}(Tt)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,k._b)(document.cookie,Je)}}let Ee=null,ce=(()=>{var at;class Je{build(){return new XMLHttpRequest}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();const ye=new l.nKC("");let X=(()=>{var at;class Je{constructor(Ze,se){this._zone=se,this._eventNameToPlugin=new Map,Ze.forEach(de=>{de.manager=this}),this._plugins=Ze.slice().reverse()}addEventListener(Ze,se,de){return this._findPluginFor(se).addEventListener(Ze,se,de)}getZone(){return this._zone}_findPluginFor(Ze){let se=this._eventNameToPlugin.get(Ze);if(se)return se;if(se=this._plugins.find(Pe=>Pe.supports(Ze)),!se)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(Ze,se),se}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(ye),l.KVO(l.SKi))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();class Ne{constructor(Je){this._doc=Je}}const Ue="ng-app-id";let Fe=(()=>{var at;class Je{constructor(Ze,se,de,Pe={}){this.doc=Ze,this.appId=se,this.nonce=de,this.platformId=Pe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,k.Vy)(Pe),this.resetHostNodes()}addStyles(Ze){for(const se of Ze)1===this.changeUsageCount(se,1)&&this.onStyleAdded(se)}removeStyles(Ze){for(const se of Ze)this.changeUsageCount(se,-1)<=0&&this.onStyleRemoved(se)}ngOnDestroy(){const Ze=this.styleNodesInDOM;Ze&&(Ze.forEach(se=>se.remove()),Ze.clear());for(const se of this.getAllStyles())this.onStyleRemoved(se);this.resetHostNodes()}addHost(Ze){this.hostNodes.add(Ze);for(const se of this.getAllStyles())this.addStyleToHost(Ze,se)}removeHost(Ze){this.hostNodes.delete(Ze)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ze){for(const se of this.hostNodes)this.addStyleToHost(se,Ze)}onStyleRemoved(Ze){var se;const de=this.styleRef;null===(se=de.get(Ze))||void 0===se||null===(se=se.elements)||void 0===se||se.forEach(Pe=>Pe.remove()),de.delete(Ze)}collectServerRenderedStyles(){var Ze;const se=null===(Ze=this.doc.head)||void 0===Ze?void 0:Ze.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(null!=se&&se.length){const de=new Map;return se.forEach(Pe=>{null!=Pe.textContent&&de.set(Pe.textContent,Pe)}),de}return null}changeUsageCount(Ze,se){const de=this.styleRef;if(de.has(Ze)){const Pe=de.get(Ze);return Pe.usage+=se,Pe.usage}return de.set(Ze,{usage:se,elements:[]}),se}getStyleElement(Ze,se){const de=this.styleNodesInDOM,Pe=null==de?void 0:de.get(se);if((null==Pe?void 0:Pe.parentNode)===Ze)return de.delete(se),Pe.removeAttribute(Ue),Pe;{const mt=this.doc.createElement("style");return this.nonce&&mt.setAttribute("nonce",this.nonce),mt.textContent=se,this.platformIsServer&&mt.setAttribute(Ue,this.appId),Ze.appendChild(mt),mt}}addStyleToHost(Ze,se){var de;const Pe=this.getStyleElement(Ze,se),mt=this.styleRef,et=null===(de=mt.get(se))||void 0===de?void 0:de.elements;et?et.push(Pe):mt.set(se,{elements:[Pe],usage:1})}resetHostNodes(){const Ze=this.hostNodes;Ze.clear(),Ze.add(this.doc.head)}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(k.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();const Ce={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g,Ae=new l.nKC("",{providedIn:"root",factory:()=>!0});function He(at,Je){return Je.map(Tt=>Tt.replace(Xe,at))}let $=(()=>{var at;class Je{constructor(Ze,se,de,Pe,mt,et,qt,_n=null){this.eventManager=Ze,this.sharedStylesHost=se,this.appId=de,this.removeStylesOnCompDestroy=Pe,this.doc=mt,this.platformId=et,this.ngZone=qt,this.nonce=_n,this.rendererByCompId=new Map,this.platformIsServer=(0,k.Vy)(et),this.defaultRenderer=new F(Ze,mt,qt,this.platformIsServer)}createRenderer(Ze,se){if(!Ze||!se)return this.defaultRenderer;this.platformIsServer&&se.encapsulation===l.gXe.ShadowDom&&(se={...se,encapsulation:l.gXe.Emulated});const de=this.getOrCreateRenderer(Ze,se);return de instanceof Nt?de.applyToHost(Ze):de instanceof qe&&de.applyStyles(),de}getOrCreateRenderer(Ze,se){const de=this.rendererByCompId;let Pe=de.get(se.id);if(!Pe){const mt=this.doc,et=this.ngZone,qt=this.eventManager,_n=this.sharedStylesHost,qn=this.removeStylesOnCompDestroy,Qn=this.platformIsServer;switch(se.encapsulation){case l.gXe.Emulated:Pe=new Nt(qt,_n,se,this.appId,qn,mt,et,Qn);break;case l.gXe.ShadowDom:return new Ge(qt,_n,Ze,se,mt,et,this.nonce,Qn);default:Pe=new qe(qt,_n,se,qn,mt,et,Qn)}de.set(se.id,Pe)}return Pe}ngOnDestroy(){this.rendererByCompId.clear()}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(X),l.KVO(Fe),l.KVO(l.sZ2),l.KVO(Ae),l.KVO(k.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();class F{constructor(Je,Tt,Ze,se){this.eventManager=Je,this.doc=Tt,this.ngZone=Ze,this.platformIsServer=se,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Je,Tt){return Tt?this.doc.createElementNS(Ce[Tt]||Tt,Je):this.doc.createElement(Je)}createComment(Je){return this.doc.createComment(Je)}createText(Je){return this.doc.createTextNode(Je)}appendChild(Je,Tt){(be(Je)?Je.content:Je).appendChild(Tt)}insertBefore(Je,Tt,Ze){Je&&(be(Je)?Je.content:Je).insertBefore(Tt,Ze)}removeChild(Je,Tt){Je&&Je.removeChild(Tt)}selectRootElement(Je,Tt){let Ze="string"==typeof Je?this.doc.querySelector(Je):Je;if(!Ze)throw new l.wOt(-5104,!1);return Tt||(Ze.textContent=""),Ze}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,Tt,Ze,se){if(se){Tt=se+":"+Tt;const de=Ce[se];de?Je.setAttributeNS(de,Tt,Ze):Je.setAttribute(Tt,Ze)}else Je.setAttribute(Tt,Ze)}removeAttribute(Je,Tt,Ze){if(Ze){const se=Ce[Ze];se?Je.removeAttributeNS(se,Tt):Je.removeAttribute(`${Ze}:${Tt}`)}else Je.removeAttribute(Tt)}addClass(Je,Tt){Je.classList.add(Tt)}removeClass(Je,Tt){Je.classList.remove(Tt)}setStyle(Je,Tt,Ze,se){se&(l.czy.DashCase|l.czy.Important)?Je.style.setProperty(Tt,Ze,se&l.czy.Important?"important":""):Je.style[Tt]=Ze}removeStyle(Je,Tt,Ze){Ze&l.czy.DashCase?Je.style.removeProperty(Tt):Je.style[Tt]=""}setProperty(Je,Tt,Ze){null!=Je&&(Je[Tt]=Ze)}setValue(Je,Tt){Je.nodeValue=Tt}listen(Je,Tt,Ze){if("string"==typeof Je&&!(Je=(0,k.QT)().getGlobalEventTarget(this.doc,Je)))throw new Error(`Unsupported event target ${Je} for event ${Tt}`);return this.eventManager.addEventListener(Je,Tt,this.decoratePreventDefault(Ze))}decoratePreventDefault(Je){return Tt=>{if("__ngUnwrap__"===Tt)return Je;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Je(Tt)):Je(Tt))&&Tt.preventDefault()}}}function be(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class Ge extends F{constructor(Je,Tt,Ze,se,de,Pe,mt,et){super(Je,de,Pe,et),this.sharedStylesHost=Tt,this.hostEl=Ze,this.shadowRoot=Ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=He(se.id,se.styles);for(const _n of qt){const qn=document.createElement("style");mt&&qn.setAttribute("nonce",mt),qn.textContent=_n,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}appendChild(Je,Tt){return super.appendChild(this.nodeOrShadowRoot(Je),Tt)}insertBefore(Je,Tt,Ze){return super.insertBefore(this.nodeOrShadowRoot(Je),Tt,Ze)}removeChild(Je,Tt){return super.removeChild(this.nodeOrShadowRoot(Je),Tt)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qe extends F{constructor(Je,Tt,Ze,se,de,Pe,mt,et){super(Je,de,Pe,mt),this.sharedStylesHost=Tt,this.removeStylesOnCompDestroy=se,this.styles=et?He(et,Ze.styles):Ze.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nt extends qe{constructor(Je,Tt,Ze,se,de,Pe,mt,et){const qt=se+"-"+Ze.id;super(Je,Tt,Ze,de,Pe,mt,et,qt),this.contentAttr=function Ve(at){return"_ngcontent-%COMP%".replace(Xe,at)}(qt),this.hostAttr=function xe(at){return"_nghost-%COMP%".replace(Xe,at)}(qt)}applyToHost(Je){this.applyStyles(),this.setAttribute(Je,this.hostAttr,"")}createElement(Je,Tt){const Ze=super.createElement(Je,Tt);return super.setAttribute(Ze,this.contentAttr,""),Ze}}let xt=(()=>{var at;class Je extends Ne{constructor(Ze){super(Ze)}supports(Ze){return!0}addEventListener(Ze,se,de){return Ze.addEventListener(se,de,!1),()=>this.removeEventListener(Ze,se,de)}removeEventListener(Ze,se,de){return Ze.removeEventListener(se,de)}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(k.qQ))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();const bt=["alt","control","meta","shift"],Ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let ve=(()=>{var at;class Je extends Ne{constructor(Ze){super(Ze)}supports(Ze){return null!=Je.parseEventName(Ze)}addEventListener(Ze,se,de){const Pe=Je.parseEventName(se),mt=Je.eventCallback(Pe.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.QT)().onAndCancel(Ze,Pe.domEventName,mt))}static parseEventName(Ze){const se=Ze.toLowerCase().split("."),de=se.shift();if(0===se.length||"keydown"!==de&&"keyup"!==de)return null;const Pe=Je._normalizeKey(se.pop());let mt="",et=se.indexOf("code");if(et>-1&&(se.splice(et,1),mt="code."),bt.forEach(_n=>{const qn=se.indexOf(_n);qn>-1&&(se.splice(qn,1),mt+=_n+".")}),mt+=Pe,0!=se.length||0===Pe.length)return null;const qt={};return qt.domEventName=de,qt.fullKey=mt,qt}static matchEventFullKeyCode(Ze,se){let de=Ye[Ze.key]||Ze.key,Pe="";return se.indexOf("code.")>-1&&(de=Ze.code,Pe="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),bt.forEach(mt=>{mt!==de&&(0,fe[mt])(Ze)&&(Pe+=mt+".")}),Pe+=de,Pe===se)}static eventCallback(Ze,se,de){return Pe=>{Je.matchEventFullKeyCode(Pe,Ze)&&de.runGuarded(()=>se(Pe))}}static _normalizeKey(Ze){return"esc"===Ze?"escape":Ze}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(k.qQ))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac}),Je})();const ft=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:k.AJ},{provide:l.PLl,useValue:function We(){G.makeCurrent()},multi:!0},{provide:k.qQ,useFactory:function tt(){return(0,l.TL$)(document),document},deps:[]}]),Gt=new l.nKC(""),Bt=[{provide:l.e01,useClass:class je{addToWindow(Je){l.JZv.getAngularTestability=(Ze,se=!0)=>{const de=Je.findTestabilityInTree(Ze,se);if(null==de)throw new l.wOt(5103,!1);return de},l.JZv.getAllAngularTestabilities=()=>Je.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>Je.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(Ze=>{const se=l.JZv.getAllAngularTestabilities();let de=se.length;const Pe=function(){de--,0==de&&Ze()};se.forEach(mt=>{mt.whenStable(Pe)})})}findTestabilityInTree(Je,Tt,Ze){if(null==Tt)return null;const se=Je.getTestability(Tt);return null!=se?se:Ze?(0,k.QT)().isShadowRoot(Tt)?this.findTestabilityInTree(Je,Tt.host,!0):this.findTestabilityInTree(Je,Tt.parentElement,!0):null}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],Yt=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Be(){return new l.zcH},deps:[]},{provide:ye,useClass:xt,multi:!0,deps:[k.qQ,l.SKi,l.Agw]},{provide:ye,useClass:ve,multi:!0,deps:[k.qQ]},$,Fe,X,{provide:l._9s,useExisting:$},{provide:k.N0,useClass:ce,deps:[]},[]];let jt=(()=>{var at;class Je{constructor(Ze){}static withServerTransition(Ze){return{ngModule:Je,providers:[{provide:l.sZ2,useValue:Ze.appId}]}}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(Gt,12))},at.\u0275mod=l.$C({type:at}),at.\u0275inj=l.G2t({providers:[...Yt,...Bt],imports:[k.MD,l.Hbi]}),Je})(),lt=(()=>{var at;class Je{constructor(Ze){this._doc=Ze}getTitle(){return this._doc.title}setTitle(Ze){this._doc.title=Ze||""}}return(at=Je).\u0275fac=function(Ze){return new(Ze||at)(l.KVO(k.qQ))},at.\u0275prov=l.jDH({token:at,factory:at.\u0275fac,providedIn:"root"}),Je})()},4964:(rn,ot,S)=>{"use strict";S.d(ot,{nX:()=>li,Zp:()=>Sr,Z:()=>ht,Xk:()=>$e,Kp:()=>Nn,b:()=>wt,Ix:()=>en,Wk:()=>hi,iI:()=>jl,Sd:()=>Pn});var l=S(4438),k=S(1985),ae=S(8071),Ee=S(8455),oe=S(7673),ie=S(4412),je=S(4572),ce=S(9350),ye=S(8793),X=S(8750);function Ne(y){return new k.c(T=>{(0,X.Tg)(y()).subscribe(T)})}var Ue=S(1203);function Fe(y,T){const b=(0,ae.T)(y)?y:()=>y,A=x=>x.error(b());return new k.c(T?x=>T.schedule(A,0,x):A)}var Ce=S(983),Xe=S(8359),Re=S(9974),Me=S(4360);function Oe(){return(0,Re.N)((y,T)=>{let b=null;y._refCount++;const A=(0,Me._)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(b=null);const x=y._connection,ee=b;b=null,x&&(!ee||x===ee)&&x.unsubscribe(),T.unsubscribe()});y.subscribe(A),A.closed||(b=y.connect())})}class dt extends k.c{constructor(T,b){super(),this.source=T,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Re.S)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,null==T||T.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Xe.yU;const b=this.getSubject();T.add(this.source.subscribe((0,Me._)(b,void 0,()=>{this._teardown(),b.complete()},A=>{this._teardown(),b.error(A)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Xe.yU.EMPTY)}return T}refCount(){return Oe()(this)}}var Ae=S(1413),Ve=S(177),xe=S(6354),He=S(5558),$=S(6697),F=S(9172),ne=S(5964),K=S(1397),be=S(1594);function Ge(y,T){return(0,ae.T)(T)?(0,K.Z)(y,T,1):(0,K.Z)(y,1)}var qe=S(8141);function Nt(y){return(0,Re.N)((T,b)=>{let ee,A=null,x=!1;A=T.subscribe((0,Me._)(b,void 0,void 0,ge=>{ee=(0,X.Tg)(y(ge,Nt(y)(T))),A?(A.unsubscribe(),A=null,ee.subscribe(b)):x=!0})),x&&(A.unsubscribe(),A=null,ee.subscribe(b))})}var xt=S(2816),bt=S(9901);function Ye(y){return y<=0?()=>Ce.w:(0,Re.N)((T,b)=>{let A=[];T.subscribe((0,Me._)(b,x=>{A.push(x),y<A.length&&A.shift()},()=>{for(const x of A)b.next(x);b.complete()},void 0,()=>{A=null}))})}var fe=S(3774),ve=S(3669);function ct(y){return(0,Re.N)((T,b)=>{try{T.subscribe(b)}finally{b.add(y)}})}var Ie=S(5343),Be=S(6365),tt=S(345);const $e="primary",ft=Symbol("RouteTitle");class Gt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b[0]:b}return null}getAll(T){if(this.has(T)){const b=this.params[T];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Bt(y){return new Gt(y)}function Yt(y,T,b){const A=b.path.split("/");if(A.length>y.length||"full"===b.pathMatch&&(T.hasChildren()||A.length<y.length))return null;const x={};for(let ee=0;ee<A.length;ee++){const ge=A[ee],Dt=y[ee];if(ge.startsWith(":"))x[ge.substring(1)]=Dt;else if(ge!==Dt.path)return null}return{consumed:y.slice(0,A.length),posParams:x}}function yt(y,T){const b=y?ut(y):void 0,A=T?ut(T):void 0;if(!b||!A||b.length!=A.length)return!1;let x;for(let ee=0;ee<b.length;ee++)if(x=b[ee],!lt(y[x],T[x]))return!1;return!0}function ut(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function lt(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const b=[...y].sort(),A=[...T].sort();return b.every((x,ee)=>A[ee]===x)}return y===T}function vt(y){return y.length>0?y[y.length-1]:null}function Zt(y){return function G(y){return!!y&&(y instanceof k.c||(0,ae.T)(y.lift)&&(0,ae.T)(y.subscribe))}(y)?y:(0,l.jNT)(y)?(0,Ee.H)(Promise.resolve(y)):(0,oe.of)(y)}const Dn={exact:function In(y,T,b){if(!pn(y.segments,T.segments)||!Hn(y.segments,T.segments,b)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const A in T.children)if(!y.children[A]||!In(y.children[A],T.children[A],b))return!1;return!0},subset:$t},vn={exact:function ln(y,T){return yt(y,T)},subset:function un(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(b=>lt(y[b],T[b]))},ignored:()=>!0};function Sn(y,T,b){return Dn[b.paths](y.root,T.root,b.matrixParams)&&vn[b.queryParams](y.queryParams,T.queryParams)&&!("exact"===b.fragment&&y.fragment!==T.fragment)}function $t(y,T,b){return Wn(y,T,T.segments,b)}function Wn(y,T,b,A){if(y.segments.length>b.length){const x=y.segments.slice(0,b.length);return!(!pn(x,b)||T.hasChildren()||!Hn(x,b,A))}if(y.segments.length===b.length){if(!pn(y.segments,b)||!Hn(y.segments,b,A))return!1;for(const x in T.children)if(!y.children[x]||!$t(y.children[x],T.children[x],A))return!1;return!0}{const x=b.slice(0,y.segments.length),ee=b.slice(y.segments.length);return!!(pn(y.segments,x)&&Hn(y.segments,x,A)&&y.children[$e])&&Wn(y.children[$e],T,ee,A)}}function Hn(y,T,b){return T.every((A,x)=>vn[b](y[x].parameters,A.parameters))}class or{constructor(T=new On([],{}),b={},A=null){this.root=T,this.queryParams=b,this.fragment=A}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return Dr.serialize(this)}}class On{constructor(T,b){this.segments=T,this.children=b,this.parent=null,Object.values(b).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mr(this)}}class ar{constructor(T,b){this.path=T,this.parameters=b}get parameterMap(){var T;return null!==(T=this._parameterMap)&&void 0!==T||(this._parameterMap=Bt(this.parameters)),this._parameterMap}toString(){return Ze(this)}}function pn(y,T){return y.length===T.length&&y.every((b,A)=>b.path===T[A].path)}let Pn=(()=>{var y;class T{}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:()=>new Gn,providedIn:"root"}),T})();class Gn{parse(T){const b=new zr(T);return new or(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(T){const b=`/${lr(T.root,!0)}`,A=function de(y){const T=Object.entries(y).map(([b,A])=>Array.isArray(A)?A.map(x=>`${Lr(b)}=${Lr(x)}`).join("&"):`${Lr(b)}=${Lr(A)}`).filter(b=>b);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${b}${A}${"string"==typeof T.fragment?`#${function ri(y){return encodeURI(y)}(T.fragment)}`:""}`}}const Dr=new Gn;function mr(y){return y.segments.map(T=>Ze(T)).join("/")}function lr(y,T){if(!y.hasChildren())return mr(y);if(T){const b=y.children[$e]?lr(y.children[$e],!1):"",A=[];return Object.entries(y.children).forEach(([x,ee])=>{x!==$e&&A.push(`${x}:${lr(ee,!1)}`)}),A.length>0?`${b}(${A.join("//")})`:b}{const b=function kr(y,T){let b=[];return Object.entries(y.children).forEach(([A,x])=>{A===$e&&(b=b.concat(T(x,A)))}),Object.entries(y.children).forEach(([A,x])=>{A!==$e&&(b=b.concat(T(x,A)))}),b}(y,(A,x)=>x===$e?[lr(y.children[$e],!1)]:[`${x}:${lr(A,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[$e]?`${mr(y)}/${b[0]}`:`${mr(y)}/(${b.join("//")})`}}function yr(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lr(y){return yr(y).replace(/%3B/gi,";")}function at(y){return yr(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(y){return decodeURIComponent(y)}function Tt(y){return Je(y.replace(/\+/g,"%20"))}function Ze(y){return`${at(y.path)}${function se(y){return Object.entries(y).map(([T,b])=>`;${at(T)}=${at(b)}`).join("")}(y.parameters)}`}const Pe=/^[^\/()?;#]+/;function mt(y){const T=y.match(Pe);return T?T[0]:""}const et=/^[^\/()?;=#]+/,_n=/^[^=?&#]+/,Qn=/^[^&#]+/;class zr{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(T.length>0||Object.keys(b).length>0)&&(A[$e]=new On(T,b)),A}parseSegment(){const T=mt(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(T),new ar(Je(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const b=function qt(y){const T=y.match(et);return T?T[0]:""}(this.remaining);if(!b)return;this.capture(b);let A="";if(this.consumeOptional("=")){const x=mt(this.remaining);x&&(A=x,this.capture(A))}T[Je(b)]=Je(A)}parseQueryParam(T){const b=function qn(y){const T=y.match(_n);return T?T[0]:""}(this.remaining);if(!b)return;this.capture(b);let A="";if(this.consumeOptional("=")){const ge=function Rr(y){const T=y.match(Qn);return T?T[0]:""}(this.remaining);ge&&(A=ge,this.capture(A))}const x=Tt(b),ee=Tt(A);if(T.hasOwnProperty(x)){let ge=T[x];Array.isArray(ge)||(ge=[ge],T[x]=ge),ge.push(ee)}else T[x]=ee}parseParens(T){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=mt(this.remaining),x=this.remaining[A.length];if("/"!==x&&")"!==x&&";"!==x)throw new l.wOt(4010,!1);let ee;A.indexOf(":")>-1?(ee=A.slice(0,A.indexOf(":")),this.capture(ee),this.capture(":")):T&&(ee=$e);const ge=this.parseChildren();b[ee]=1===Object.keys(ge).length?ge[$e]:new On([],ge),this.consumeOptional("//")}return b}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new l.wOt(4011,!1)}}function kn(y){return y.segments.length>0?new On([],{[$e]:y}):y}function gn(y){const T={};for(const[A,x]of Object.entries(y.children)){const ee=gn(x);if(A===$e&&0===ee.segments.length&&ee.hasChildren())for(const[ge,Dt]of Object.entries(ee.children))T[ge]=Dt;else(ee.segments.length>0||ee.hasChildren())&&(T[A]=ee)}return function vi(y){if(1===y.numberOfChildren&&y.children[$e]){const T=y.children[$e];return new On(y.segments.concat(T.segments),T.children)}return y}(new On(y.segments,T))}function Ur(y){return y instanceof or}function Mi(y){var T;let b;const ee=kn(function A(ge){const Dt={};for(const St of ge.children){const wn=A(St);Dt[St.outlet]=wn}const Xt=new On(ge.url,Dt);return ge===y&&(b=Xt),Xt}(y.root));return null!==(T=b)&&void 0!==T?T:ee}function _i(y,T,b,A){let x=y;for(;x.parent;)x=x.parent;if(0===T.length)return Qr(x,x,x,b,A);const ee=function Ot(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new gt(!0,0,y);let T=0,b=!1;const A=y.reduce((x,ee,ge)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Dt={};return Object.entries(ee.outlets).forEach(([Xt,St])=>{Dt[Xt]="string"==typeof St?St.split("/"):St}),[...x,{outlets:Dt}]}if(ee.segmentPath)return[...x,ee.segmentPath]}return"string"!=typeof ee?[...x,ee]:0===ge?(ee.split("/").forEach((Dt,Xt)=>{0==Xt&&"."===Dt||(0==Xt&&""===Dt?b=!0:".."===Dt?T++:""!=Dt&&x.push(Dt))}),x):[...x,ee]},[]);return new gt(b,T,A)}(T);if(ee.toRoot())return Qr(x,x,new On([],{}),b,A);const ge=function bn(y,T,b){if(y.isAbsolute)return new dn(T,!0,0);if(!b)return new dn(T,!1,NaN);if(null===b.parent)return new dn(b,!0,0);const A=tr(y.commands[0])?0:1;return function $n(y,T,b){let A=y,x=T,ee=b;for(;ee>x;){if(ee-=x,A=A.parent,!A)throw new l.wOt(4005,!1);x=A.segments.length}return new dn(A,!1,x-ee)}(b,b.segments.length-1+A,y.numberOfDoubleDots)}(ee,x,y),Dt=ge.processChildren?Xn(ge.segmentGroup,ge.index,ee.commands):zn(ge.segmentGroup,ge.index,ee.commands);return Qr(x,ge.segmentGroup,Dt,b,A)}function tr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Ti(y){return"object"==typeof y&&null!=y&&y.outlets}function Qr(y,T,b,A,x){let ge,ee={};A&&Object.entries(A).forEach(([Xt,St])=>{ee[Xt]=Array.isArray(St)?St.map(wn=>`${wn}`):`${St}`}),ge=y===T?b:It(y,T,b);const Dt=kn(gn(ge));return new or(Dt,ee,x)}function It(y,T,b){const A={};return Object.entries(y.children).forEach(([x,ee])=>{A[x]=ee===T?b:It(ee,T,b)}),new On(y.segments,A)}class gt{constructor(T,b,A){if(this.isAbsolute=T,this.numberOfDoubleDots=b,this.commands=A,T&&A.length>0&&tr(A[0]))throw new l.wOt(4003,!1);const x=A.find(Ti);if(x&&x!==vt(A))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dn{constructor(T,b,A){this.segmentGroup=T,this.processChildren=b,this.index=A}}function zn(y,T,b){var A;if(null!==(A=y)&&void 0!==A||(y=new On([],{})),0===y.segments.length&&y.hasChildren())return Xn(y,T,b);const x=function xn(y,T,b){let A=0,x=T;const ee={match:!1,pathIndex:0,commandIndex:0};for(;x<y.segments.length;){if(A>=b.length)return ee;const ge=y.segments[x],Dt=b[A];if(Ti(Dt))break;const Xt=`${Dt}`,St=A<b.length-1?b[A+1]:null;if(x>0&&void 0===Xt)break;if(Xt&&St&&"object"==typeof St&&void 0===St.outlets){if(!pe(Xt,St,ge))return ee;A+=2}else{if(!pe(Xt,{},ge))return ee;A++}x++}return{match:!0,pathIndex:x,commandIndex:A}}(y,T,b),ee=b.slice(x.commandIndex);if(x.match&&x.pathIndex<y.segments.length){const ge=new On(y.segments.slice(0,x.pathIndex),{});return ge.children[$e]=new On(y.segments.slice(x.pathIndex),y.children),Xn(ge,0,ee)}return x.match&&0===ee.length?new On(y.segments,{}):x.match&&!y.hasChildren()?ur(y,T,b):x.match?Xn(y,0,ee):ur(y,T,b)}function Xn(y,T,b){if(0===b.length)return new On(y.segments,{});{const A=function Bn(y){return Ti(y[0])?y[0].outlets:{[$e]:y}}(b),x={};if(Object.keys(A).some(ee=>ee!==$e)&&y.children[$e]&&1===y.numberOfChildren&&0===y.children[$e].segments.length){const ee=Xn(y.children[$e],T,b);return new On(y.segments,ee.children)}return Object.entries(A).forEach(([ee,ge])=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(x[ee]=zn(y.children[ee],T,ge))}),Object.entries(y.children).forEach(([ee,ge])=>{void 0===A[ee]&&(x[ee]=ge)}),new On(y.segments,x)}}function ur(y,T,b){const A=y.segments.slice(0,T);let x=0;for(;x<b.length;){const ee=b[x];if(Ti(ee)){const Xt=rr(ee.outlets);return new On(A,Xt)}if(0===x&&tr(b[0])){A.push(new ar(y.segments[T].path,go(b[0]))),x++;continue}const ge=Ti(ee)?ee.outlets[$e]:`${ee}`,Dt=x<b.length-1?b[x+1]:null;ge&&Dt&&tr(Dt)?(A.push(new ar(ge,go(Dt))),x+=2):(A.push(new ar(ge,{})),x++)}return new On(A,{})}function rr(y){const T={};return Object.entries(y).forEach(([b,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(T[b]=ur(new On([],{}),0,A))}),T}function go(y){const T={};return Object.entries(y).forEach(([b,A])=>T[b]=`${A}`),T}function pe(y,T,b){return y==b.path&&yt(T,b.parameters)}const De="imperative";var W=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(W||{});class _e{constructor(T,b){this.id=T,this.url=b}}class ht extends _e{constructor(T,b,A="imperative",x=null){super(T,b),this.type=W.NavigationStart,this.navigationTrigger=A,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ut extends _e{constructor(T,b,A){super(T,b),this.urlAfterRedirects=A,this.type=W.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var sn=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(sn||{}),hn=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(hn||{});class An extends _e{constructor(T,b,A,x){super(T,b),this.reason=A,this.code=x,this.type=W.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vn extends _e{constructor(T,b,A,x){super(T,b),this.reason=A,this.code=x,this.type=W.NavigationSkipped}}class Kr extends _e{constructor(T,b,A,x){super(T,b),this.error=A,this.target=x,this.type=W.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class At extends _e{constructor(T,b,A,x){super(T,b),this.urlAfterRedirects=A,this.state=x,this.type=W.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H extends _e{constructor(T,b,A,x){super(T,b),this.urlAfterRedirects=A,this.state=x,this.type=W.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends _e{constructor(T,b,A,x,ee){super(T,b),this.urlAfterRedirects=A,this.state=x,this.shouldActivate=ee,this.type=W.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ze extends _e{constructor(T,b,A,x){super(T,b),this.urlAfterRedirects=A,this.state=x,this.type=W.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends _e{constructor(T,b,A,x){super(T,b),this.urlAfterRedirects=A,this.state=x,this.type=W.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(T){this.route=T,this.type=W.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pt{constructor(T){this.route=T,this.type=W.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kt{constructor(T){this.snapshot=T,this.type=W.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(T){this.snapshot=T,this.type=W.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(T){this.snapshot=T,this.type=W.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(T){this.snapshot=T,this.type=W.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(T,b,A){this.routerEvent=T,this.position=b,this.anchor=A,this.type=W.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zt{}class Rn{constructor(T){this.url=T}}class dr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sr,this.attachRef=null}}let Sr=(()=>{var y;class T{constructor(){this.contexts=new Map}onChildOutletCreated(A,x){const ee=this.getOrCreateContext(A);ee.outlet=x,this.contexts.set(A,ee)}onChildOutletDestroyed(A){const x=this.getContext(A);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let x=this.getContext(A);return x||(x=new dr,this.contexts.set(A,x)),x}getContext(A){return this.contexts.get(A)||null}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();class C{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const b=this.pathFromRoot(T);return b.length>1?b[b.length-2]:null}children(T){const b=re(T,this._root);return b?b.children.map(A=>A.value):[]}firstChild(T){const b=re(T,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(T){const b=M(T,this._root);return b.length<2?[]:b[b.length-2].children.map(x=>x.value).filter(x=>x!==T)}pathFromRoot(T){return M(T,this._root).map(b=>b.value)}}function re(y,T){if(y===T.value)return T;for(const b of T.children){const A=re(y,b);if(A)return A}return null}function M(y,T){if(y===T.value)return[T];for(const b of T.children){const A=M(y,b);if(A.length)return A.unshift(T),A}return[]}class le{constructor(T,b){this.value=T,this.children=b}toString(){return`TreeNode(${this.value})`}}function rt(y){const T={};return y&&y.children.forEach(b=>T[b.value.outlet]=b),T}class sr extends C{constructor(T,b){super(T),this.snapshot=b,Ea(this,T)}toString(){return this.snapshot.toString()}}function ir(y){const T=function Pi(y){const ee=new na([],{},{},"",{},$e,y,null,{});return new Li("",new le(ee,[]))}(y),b=new ie.t([new ar("",{})]),A=new ie.t({}),x=new ie.t({}),ee=new ie.t({}),ge=new ie.t(""),Dt=new li(b,A,ee,ge,x,$e,y,T.root);return Dt.snapshot=T.root,new sr(new le(Dt,[]),T)}class li{constructor(T,b,A,x,ee,ge,Dt,Xt){var St,wn;this.urlSubject=T,this.paramsSubject=b,this.queryParamsSubject=A,this.fragmentSubject=x,this.dataSubject=ee,this.outlet=ge,this.component=Dt,this._futureSnapshot=Xt,this.title=null!==(St=null===(wn=this.dataSubject)||void 0===wn?void 0:wn.pipe((0,xe.T)(fr=>fr[ft])))&&void 0!==St?St:(0,oe.of)(void 0),this.url=T,this.params=b,this.queryParams=A,this.fragment=x,this.data=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var T;return null!==(T=this._paramMap)&&void 0!==T||(this._paramMap=this.params.pipe((0,xe.T)(b=>Bt(b)))),this._paramMap}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=this.queryParams.pipe((0,xe.T)(b=>Bt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mi(y,T,b="emptyOnly"){var A;let x;const{routeConfig:ee}=y;var ge;return x=null===T||"always"!==b&&""!==(null==ee?void 0:ee.path)&&(T.component||null!==(A=T.routeConfig)&&void 0!==A&&A.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...null!==(ge=y._resolvedData)&&void 0!==ge?ge:{}}}:{params:{...T.params,...y.params},data:{...T.data,...y.data},resolve:{...y.data,...T.data,...null==ee?void 0:ee.data,...y._resolvedData}},ee&&To(ee)&&(x.resolve[ft]=ee.title),x}class na{get title(){var T;return null===(T=this.data)||void 0===T?void 0:T[ft]}constructor(T,b,A,x,ee,ge,Dt,Xt,St){this.url=T,this.params=b,this.queryParams=A,this.fragment=x,this.data=ee,this.outlet=ge,this.component=Dt,this.routeConfig=Xt,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var T;return null!==(T=this._paramMap)&&void 0!==T||(this._paramMap=Bt(this.params)),this._paramMap}get queryParamMap(){var T;return null!==(T=this._queryParamMap)&&void 0!==T||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Li extends C{constructor(T,b){super(b),this.url=T,Ea(this,b)}toString(){return ui(this._root)}}function Ea(y,T){T.value._routerState=y,T.children.forEach(b=>Ea(y,b))}function ui(y){const T=y.children.length>0?` { ${y.children.map(ui).join(", ")} } `:"";return`${y.value}${T}`}function ss(y){if(y.snapshot){const T=y.snapshot,b=y._futureSnapshot;y.snapshot=b,yt(T.queryParams,b.queryParams)||y.queryParamsSubject.next(b.queryParams),T.fragment!==b.fragment&&y.fragmentSubject.next(b.fragment),yt(T.params,b.params)||y.paramsSubject.next(b.params),function jt(y,T){if(y.length!==T.length)return!1;for(let b=0;b<y.length;++b)if(!yt(y[b],T[b]))return!1;return!0}(T.url,b.url)||y.urlSubject.next(b.url),yt(T.data,b.data)||y.dataSubject.next(b.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Yn(y,T){const b=yt(y.params,T.params)&&function Or(y,T){return pn(y,T)&&y.every((b,A)=>yt(b.parameters,T[A].parameters))}(y.url,T.url);return b&&!(!y.parent!=!T.parent)&&(!y.parent||Yn(y.parent,T.parent))}function To(y){return"string"==typeof y.title||null===y.title}let uo=(()=>{var y;class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Sr),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(Xo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:x,previousValue:ee}=A.name;if(x)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){var A;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(A=this.inputBinder)||void 0===A||A.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){var x;return(null===(x=this.parentContexts.getContext(A))||void 0===x?void 0:x.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);null!=A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,x){var ee;this.activated=A,this._activatedRoute=x,this.location.insert(A.hostView),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,x){var ee;if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=A;const ge=this.location,Xt=A.snapshot.component,St=this.parentContexts.getOrCreateContext(this.name).children,wn=new as(A,St,ge.injector);this.activated=ge.createComponent(Xt,{index:ge.length,injector:wn,environmentInjector:null!=x?x:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275dir=l.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]}),T})();class as{constructor(T,b,A){this.route=T,this.childContexts=b,this.parent=A}get(T,b){return T===li?this.route:T===Sr?this.childContexts:this.parent.get(T,b)}}const Xo=new l.nKC("");let Bs=(()=>{var y;class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){var x;null===(x=this.outletDataSubscriptions.get(A))||void 0===x||x.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:x}=A,ee=(0,je.z)([x.queryParams,x.params,x.data]).pipe((0,He.n)(([ge,Dt,Xt],St)=>(Xt={...ge,...Dt,...Xt},0===St?(0,oe.of)(Xt):Promise.resolve(Xt)))).subscribe(ge=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==x||null===x.component)return void this.unsubscribeFromRouteData(A);const Dt=(0,l.HJs)(x.component);if(Dt)for(const{templateName:Xt}of Dt.inputs)A.activatedComponentRef.setInput(Xt,ge[Xt]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,ee)}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac}),T})();function Lo(y,T,b){if(b&&y.shouldReuseRoute(T.value,b.value.snapshot)){const A=b.value;A._futureSnapshot=T.value;const x=function Xi(y,T,b){return T.children.map(A=>{for(const x of b.children)if(y.shouldReuseRoute(A.value,x.value.snapshot))return Lo(y,A,x);return Lo(y,A)})}(y,T,b);return new le(A,x)}{if(y.shouldAttach(T.value)){const ee=y.retrieve(T.value);if(null!==ee){const ge=ee.route;return ge.value._futureSnapshot=T.value,ge.children=T.children.map(Dt=>Lo(y,Dt)),ge}}const A=function ra(y){return new li(new ie.t(y.url),new ie.t(y.params),new ie.t(y.queryParams),new ie.t(y.fragment),new ie.t(y.data),y.outlet,y.component,y)}(T.value),x=T.children.map(ee=>Lo(y,ee));return new le(A,x)}}const Ca="ngNavigationCancelingError";function Qi(y,T){const{redirectTo:b,navigationBehaviorOptions:A}=Ur(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,x=Yo(!1,sn.Redirect);return x.url=b,x.navigationBehaviorOptions=A,x}function Yo(y,T){const b=new Error(`NavigationCancelingError: ${y||""}`);return b[Ca]=!0,b.cancellationCode=T,b}function wi(y){return!!y&&y[Ca]}let Vi=(()=>{var y;class T{}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275cmp=l.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(A,x){1&A&&l.nrm(0,"router-outlet")},dependencies:[uo],encapsulation:2}),T})();function wo(y){const T=y.children&&y.children.map(wo),b=T?{...y,children:T}:{...y};return!b.component&&!b.loadComponent&&(T||b.loadChildren)&&b.outlet&&b.outlet!==$e&&(b.component=Vi),b}function zi(y){return y.outlet||$e}function yi(y){var T;if(!y)return null;if(null!==(T=y.routeConfig)&&void 0!==T&&T._injector)return y.routeConfig._injector;for(let b=y.parent;b;b=b.parent){const A=b.routeConfig;if(null!=A&&A._loadedInjector)return A._loadedInjector;if(null!=A&&A._injector)return A._injector}return null}class $s{constructor(T,b,A,x,ee){this.routeReuseStrategy=T,this.futureState=b,this.currState=A,this.forwardEvent=x,this.inputBindingEnabled=ee}activate(T){const b=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,A,T),ss(this.futureState.root),this.activateChildRoutes(b,A,T)}deactivateChildRoutes(T,b,A){const x=rt(b);T.children.forEach(ee=>{const ge=ee.value.outlet;this.deactivateRoutes(ee,x[ge],A),delete x[ge]}),Object.values(x).forEach(ee=>{this.deactivateRouteAndItsChildren(ee,A)})}deactivateRoutes(T,b,A){const x=T.value,ee=b?b.value:null;if(x===ee)if(x.component){const ge=A.getContext(x.outlet);ge&&this.deactivateChildRoutes(T,b,ge.children)}else this.deactivateChildRoutes(T,b,A);else ee&&this.deactivateRouteAndItsChildren(b,A)}deactivateRouteAndItsChildren(T,b){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,b):this.deactivateRouteAndOutlet(T,b)}detachAndStoreRouteSubtree(T,b){const A=b.getContext(T.value.outlet),x=A&&T.value.component?A.children:b,ee=rt(T);for(const ge of Object.values(ee))this.deactivateRouteAndItsChildren(ge,x);if(A&&A.outlet){const ge=A.outlet.detach(),Dt=A.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ge,route:T,contexts:Dt})}}deactivateRouteAndOutlet(T,b){const A=b.getContext(T.value.outlet),x=A&&T.value.component?A.children:b,ee=rt(T);for(const ge of Object.values(ee))this.deactivateRouteAndItsChildren(ge,x);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(T,b,A){const x=rt(b);T.children.forEach(ee=>{this.activateRoutes(ee,x[ee.value.outlet],A),this.forwardEvent(new Qt(ee.value.snapshot))}),T.children.length&&this.forwardEvent(new nn(T.value.snapshot))}activateRoutes(T,b,A){const x=T.value,ee=b?b.value:null;if(ss(x),x===ee)if(x.component){const ge=A.getOrCreateContext(x.outlet);this.activateChildRoutes(T,b,ge.children)}else this.activateChildRoutes(T,b,A);else if(x.component){const ge=A.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const Dt=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),ge.children.onOutletReAttached(Dt.contexts),ge.attachRef=Dt.componentRef,ge.route=Dt.route.value,ge.outlet&&ge.outlet.attach(Dt.componentRef,Dt.route.value),ss(Dt.route.value),this.activateChildRoutes(T,null,ge.children)}else{const Dt=yi(x.snapshot);ge.attachRef=null,ge.route=x,ge.injector=Dt,ge.outlet&&ge.outlet.activateWith(x,ge.injector),this.activateChildRoutes(T,null,ge.children)}}else this.activateChildRoutes(T,null,A)}}class ia{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Ss{constructor(T,b){this.component=T,this.route=b}}function Jo(y,T,b){const A=y._root;return es(A,T?T._root:null,b,[A.value])}function bi(y,T){const b=Symbol(),A=T.get(y,b);return A===b?"function"!=typeof y||(0,l.LfX)(y)?T.get(y):y:A}function es(y,T,b,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const ee=rt(T);return y.children.forEach(ge=>{(function oa(y,T,b,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const ee=y.value,ge=T?T.value:null,Dt=b?b.getContext(y.value.outlet):null;if(ge&&ee.routeConfig===ge.routeConfig){const Xt=function Zi(y,T,b){if("function"==typeof b)return b(y,T);switch(b){case"pathParamsChange":return!pn(y.url,T.url);case"pathParamsOrQueryParamsChange":return!pn(y.url,T.url)||!yt(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yn(y,T)||!yt(y.queryParams,T.queryParams);default:return!Yn(y,T)}}(ge,ee,ee.routeConfig.runGuardsAndResolvers);Xt?x.canActivateChecks.push(new ia(A)):(ee.data=ge.data,ee._resolvedData=ge._resolvedData),es(y,T,ee.component?Dt?Dt.children:null:b,A,x),Xt&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&x.canDeactivateChecks.push(new Ss(Dt.outlet.component,ge))}else ge&&Ni(T,Dt,x),x.canActivateChecks.push(new ia(A)),es(y,null,ee.component?Dt?Dt.children:null:b,A,x)})(ge,ee[ge.value.outlet],b,A.concat([ge.value]),x),delete ee[ge.value.outlet]}),Object.entries(ee).forEach(([ge,Dt])=>Ni(Dt,b.getContext(ge),x)),x}function Ni(y,T,b){const A=rt(y),x=y.value;Object.entries(A).forEach(([ee,ge])=>{Ni(ge,x.component?T?T.children.getContext(ee):null:T,b)}),b.canDeactivateChecks.push(new Ss(x.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,x))}function Bo(y){return"function"==typeof y}function ue(y){return y instanceof ce.G||"EmptyError"===(null==y?void 0:y.name)}const U=Symbol("INITIAL_VALUE");function he(){return(0,He.n)(y=>(0,je.z)(y.map(T=>T.pipe((0,$.s)(1),(0,F.Z)(U)))).pipe((0,xe.T)(T=>{for(const b of T)if(!0!==b){if(b===U)return U;if(!1===b||b instanceof or)return b}return!0}),(0,ne.p)(T=>T!==U),(0,$.s)(1)))}function Aa(y){return(0,Ue.F)((0,qe.M)(T=>{if(Ur(T))throw Qi(0,T)}),(0,xe.T)(T=>!0===T))}class zs{constructor(T){this.segmentGroup=T||null}}class Qa extends Error{constructor(T){super(),this.urlTree=T}}function $o(y){return Fe(new zs(y))}class ii{constructor(T,b){this.urlSerializer=T,this.urlTree=b}lineralizeSegments(T,b){let A=[],x=b.root;for(;;){if(A=A.concat(x.segments),0===x.numberOfChildren)return(0,oe.of)(A);if(x.numberOfChildren>1||!x.children[$e])return Fe(new l.wOt(4e3,!1));x=x.children[$e]}}applyRedirectCommands(T,b,A){const x=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),T,A);if(b.startsWith("/"))throw new Qa(x);return x}applyRedirectCreateUrlTree(T,b,A,x){const ee=this.createSegmentGroup(T,b.root,A,x);return new or(ee,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(T,b){const A={};return Object.entries(T).forEach(([x,ee])=>{if("string"==typeof ee&&ee.startsWith(":")){const Dt=ee.substring(1);A[x]=b[Dt]}else A[x]=ee}),A}createSegmentGroup(T,b,A,x){const ee=this.createSegments(T,b.segments,A,x);let ge={};return Object.entries(b.children).forEach(([Dt,Xt])=>{ge[Dt]=this.createSegmentGroup(T,Xt,A,x)}),new On(ee,ge)}createSegments(T,b,A,x){return b.map(ee=>ee.path.startsWith(":")?this.findPosParam(T,ee,x):this.findOrReturn(ee,A))}findPosParam(T,b,A){const x=A[b.path.substring(1)];if(!x)throw new l.wOt(4001,!1);return x}findOrReturn(T,b){let A=0;for(const x of b){if(x.path===T.path)return b.splice(A),x;A++}return T}}const So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ci(y,T,b,A,x){const ee=Ws(y,T,b);return ee.matched?(A=function Da(y,T){var b;return y.providers&&!y._injector&&(y._injector=(0,l.Ol2)(y.providers,T,`Route: ${y.path}`)),null!==(b=y._injector)&&void 0!==b?b:T}(T,A),function Gs(y,T,b,A){const x=T.canMatch;if(!x||0===x.length)return(0,oe.of)(!0);const ee=x.map(ge=>{const Dt=bi(ge,y);return Zt(function P(y){return y&&Bo(y.canMatch)}(Dt)?Dt.canMatch(T,b):(0,l.N4e)(y,()=>Dt(T,b)))});return(0,oe.of)(ee).pipe(he(),Aa())}(A,T,b).pipe((0,xe.T)(ge=>!0===ge?ee:{...So}))):(0,oe.of)(ee)}function Ws(y,T,b){var A,x;if("**"===T.path)return function Ji(y){return{matched:!0,parameters:y.length>0?vt(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(b);if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||b.length>0)?{...So}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const ge=(T.matcher||Yt)(b,y,T);if(!ge)return{...So};const Dt={};Object.entries(null!==(A=ge.posParams)&&void 0!==A?A:{}).forEach(([St,wn])=>{Dt[St]=wn.path});const Xt=ge.consumed.length>0?{...Dt,...ge.consumed[ge.consumed.length-1].parameters}:Dt;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:b.slice(ge.consumed.length),parameters:Xt,positionalParamSegments:null!==(x=ge.posParams)&&void 0!==x?x:{}}}function aa(y,T,b,A){return b.length>0&&function ds(y,T,b){return b.some(A=>hs(y,T,A)&&zi(A)!==$e)}(y,b,A)?{segmentGroup:new On(T,Kc(A,new On(b,y.children))),slicedSegments:[]}:0===b.length&&function jo(y,T,b){return b.some(A=>hs(y,T,A))}(y,b,A)?{segmentGroup:new On(y.segments,Br(y,b,A,y.children)),slicedSegments:b}:{segmentGroup:new On(y.segments,y.children),slicedSegments:b}}function Br(y,T,b,A){const x={};for(const ee of b)if(hs(y,T,ee)&&!A[zi(ee)]){const ge=new On([],{});x[zi(ee)]=ge}return{...A,...x}}function Kc(y,T){const b={};b[$e]=T;for(const A of y)if(""===A.path&&zi(A)!==$e){const x=new On([],{});b[zi(A)]=x}return b}function hs(y,T,b){return(!(y.hasChildren()||T.length>0)||"full"!==b.pathMatch)&&""===b.path}class Xu{}class eo{constructor(T,b,A,x,ee,ge,Dt){this.injector=T,this.configLoader=b,this.rootComponentType=A,this.config=x,this.urlTree=ee,this.paramsInheritanceStrategy=ge,this.urlSerializer=Dt,this.applyRedirects=new ii(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(T){return new l.wOt(4002,`'${T.segmentGroup}'`)}recognize(){const T=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(T).pipe((0,xe.T)(b=>{const A=new na([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,{}),x=new le(A,b),ee=new Li("",x),ge=function Ai(y,T,b=null,A=null){return _i(Mi(y),T,b,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return ge.queryParams=this.urlTree.queryParams,ee.url=this.urlSerializer.serialize(ge),this.inheritParamsAndData(ee._root,null),{state:ee,tree:ge}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T,$e).pipe(Nt(A=>{if(A instanceof Qa)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof zs?this.noMatchError(A):A}))}inheritParamsAndData(T,b){const A=T.value,x=mi(A,b,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data),T.children.forEach(ee=>this.inheritParamsAndData(ee,A))}processSegmentGroup(T,b,A,x){return 0===A.segments.length&&A.hasChildren()?this.processChildren(T,b,A):this.processSegment(T,b,A,A.segments,x,!0).pipe((0,xe.T)(ee=>ee instanceof le?[ee]:[]))}processChildren(T,b,A){const x=[];for(const ee of Object.keys(A.children))"primary"===ee?x.unshift(ee):x.push(ee);return(0,Ee.H)(x).pipe(Ge(ee=>{const ge=A.children[ee],Dt=function Ui(y,T){const b=y.filter(A=>zi(A)===T);return b.push(...y.filter(A=>zi(A)!==T)),b}(b,ee);return this.processSegmentGroup(T,Dt,ge,ee)}),(0,xt.S)((ee,ge)=>(ee.push(...ge),ee)),(0,bt.U)(null),function Te(y,T){const b=arguments.length>=2;return A=>A.pipe(y?(0,ne.p)((x,ee)=>y(x,ee,A)):ve.D,Ye(1),b?(0,bt.U)(T):(0,fe.v)(()=>new ce.G))}(),(0,K.Z)(ee=>{if(null===ee)return $o(A);const ge=vo(ee);return function Bi(y){y.sort((T,b)=>T.value.outlet===$e?-1:b.value.outlet===$e?1:T.value.outlet.localeCompare(b.value.outlet))}(ge),(0,oe.of)(ge)}))}processSegment(T,b,A,x,ee,ge){return(0,Ee.H)(b).pipe(Ge(Dt=>{var Xt;return this.processSegmentAgainstRoute(null!==(Xt=Dt._injector)&&void 0!==Xt?Xt:T,b,Dt,A,x,ee,ge).pipe(Nt(St=>{if(St instanceof zs)return(0,oe.of)(null);throw St}))}),(0,be.$)(Dt=>!!Dt),Nt(Dt=>{if(ue(Dt))return function ts(y,T,b){return 0===T.length&&!y.children[b]}(A,x,ee)?(0,oe.of)(new Xu):$o(A);throw Dt}))}processSegmentAgainstRoute(T,b,A,x,ee,ge,Dt){return function Ya(y,T,b,A){return!!(zi(y)===A||A!==$e&&hs(T,b,y))&&Ws(T,y,b).matched}(A,x,ee,ge)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(T,x,A,ee,ge):this.allowRedirects&&Dt?this.expandSegmentAgainstRouteUsingRedirect(T,x,b,A,ee,ge):$o(x):$o(x)}expandSegmentAgainstRouteUsingRedirect(T,b,A,x,ee,ge){const{matched:Dt,consumedSegments:Xt,positionalParamSegments:St,remainingSegments:wn}=Ws(b,x,ee);if(!Dt)return $o(b);x.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const fr=this.applyRedirects.applyRedirectCommands(Xt,x.redirectTo,St);return this.applyRedirects.lineralizeSegments(x,fr).pipe((0,K.Z)(pi=>this.processSegment(T,A,b,pi.concat(wn),ge,!1)))}matchSegmentAgainstRoute(T,b,A,x,ee){const ge=ci(b,A,x,T);return"**"===A.path&&(b.children={}),ge.pipe((0,He.n)(Dt=>{var Xt;return Dt.matched?(T=null!==(Xt=A._injector)&&void 0!==Xt?Xt:T,this.getChildConfig(T,A,x).pipe((0,He.n)(({routes:St})=>{var wn,fr,pi;const Hr=null!==(wn=A._loadedInjector)&&void 0!==wn?wn:T,{consumedSegments:to,remainingSegments:Xs,parameters:rl}=Dt,il=new na(to,rl,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ba(y){return y.data||{}}(A),zi(A),null!==(fr=null!==(pi=A.component)&&void 0!==pi?pi:A._loadedComponent)&&void 0!==fr?fr:null,A,function Ks(y){return y.resolve||{}}(A)),{segmentGroup:zl,slicedSegments:ol}=aa(b,to,Xs,St);if(0===ol.length&&zl.hasChildren())return this.processChildren(Hr,St,zl).pipe((0,xe.T)(ca=>null===ca?null:new le(il,ca)));if(0===St.length&&0===ol.length)return(0,oe.of)(new le(il,[]));const Xc=zi(A)===ee;return this.processSegment(Hr,St,zl,ol,Xc?$e:ee,!0).pipe((0,xe.T)(ca=>new le(il,ca instanceof le?[ca]:[])))}))):$o(b)}))}getChildConfig(T,b,A){return b.children?(0,oe.of)({routes:b.children,injector:T}):b.loadChildren?void 0!==b._loadedRoutes?(0,oe.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function Ul(y,T,b,A){const x=T.canLoad;if(void 0===x||0===x.length)return(0,oe.of)(!0);const ee=x.map(ge=>{const Dt=bi(ge,y);return Zt(function js(y){return y&&Bo(y.canLoad)}(Dt)?Dt.canLoad(T,b):(0,l.N4e)(y,()=>Dt(T,b)))});return(0,oe.of)(ee).pipe(he(),Aa())}(T,b,A).pipe((0,K.Z)(x=>x?this.configLoader.loadChildren(T,b).pipe((0,qe.M)(ee=>{b._loadedRoutes=ee.routes,b._loadedInjector=ee.injector})):function Ar(y){return Fe(Yo(!1,sn.GuardRejected))}())):(0,oe.of)({routes:[],injector:T})}}function wa(y){const T=y.value.routeConfig;return T&&""===T.path}function vo(y){const T=[],b=new Set;for(const A of y){if(!wa(A)){T.push(A);continue}const x=T.find(ee=>A.value.routeConfig===ee.value.routeConfig);void 0!==x?(x.children.push(...A.children),b.add(x)):T.push(A)}for(const A of b){const x=vo(A.children);T.push(new le(A.value,x))}return T.filter(A=>!b.has(A))}function Ma(y){const T=y.children.map(b=>Ma(b)).flat();return[y,...T]}function Bl(y){return(0,He.n)(T=>{const b=y(T);return b?(0,Ee.H)(b).pipe((0,xe.T)(()=>T)):(0,oe.of)(T)})}let yu=(()=>{var y;class T{buildTitle(A){let x,ee=A.root;for(;void 0!==ee;){var ge;x=null!==(ge=this.getResolvedTitleForRoute(ee))&&void 0!==ge?ge:x,ee=ee.children.find(Dt=>Dt.outlet===$e)}return x}getResolvedTitleForRoute(A){return A.data[ft]}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:()=>(0,l.WQX)(el),providedIn:"root"}),T})(),el=(()=>{var y;class T extends yu{constructor(A){super(),this.title=A}updateTitle(A){const x=this.buildTitle(A);void 0!==x&&this.title.setTitle(x)}}return(y=T).\u0275fac=function(A){return new(A||y)(l.KVO(tt.hE))},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();const Ro=new l.nKC("",{providedIn:"root",factory:()=>({})}),xa=new l.nKC("");let fs=(()=>{var y;class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,oe.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const x=Zt(A.loadComponent()).pipe((0,xe.T)(ps),(0,qe.M)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=ge}),ct(()=>{this.componentLoaders.delete(A)})),ee=new dt(x,()=>new Ae.B).pipe(Oe());return this.componentLoaders.set(A,ee),ee}loadChildren(A,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,oe.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const ge=function Qu(y,T,b,A){return Zt(y.loadChildren()).pipe((0,xe.T)(ps),(0,K.Z)(x=>x instanceof l.Co$||Array.isArray(x)?(0,oe.of)(x):(0,Ee.H)(T.compileModuleAsync(x))),(0,xe.T)(x=>{A&&A(y);let ee,ge,Dt=!1;return Array.isArray(x)?(ge=x,!0):(ee=x.create(b).injector,ge=ee.get(xa,[],{optional:!0,self:!0}).flat()),{routes:ge.map(wo),injector:ee}}))}(x,this.compiler,A,this.onLoadEndListener).pipe(ct(()=>{this.childrenLoaders.delete(x)})),Dt=new dt(ge,()=>new Ae.B).pipe(Oe());return this.childrenLoaders.set(x,Dt),Dt}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();function ps(y){return function di(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Mo=(()=>{var y;class T{}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:()=>(0,l.WQX)(D),providedIn:"root"}),T})(),D=(()=>{var y;class T{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,x){return A}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();const V=new l.nKC(""),q=new l.nKC("");function N(y,T,b){const A=y.get(q),x=y.get(Ve.qQ);return y.get(l.SKi).runOutsideAngular(()=>{if(!x.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,Promise.resolve();let ee;const ge=new Promise(St=>{ee=St}),Dt=x.startViewTransition(()=>(ee(),function J(y){return new Promise(T=>{(0,l.mal)(T,{injector:y})})}(y))),{onViewTransitionCreated:Xt}=A;return Xt&&(0,l.N4e)(y,()=>Xt({transition:Dt,from:T,to:b})),ge})}let ke=(()=>{var y;class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.B,this.transitionAbortSubject=new Ae.B,this.configLoader=(0,l.WQX)(fs),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Pn),this.rootContexts=(0,l.WQX)(Sr),this.location=(0,l.WQX)(Ve.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(Xo,{optional:!0}),this.titleStrategy=(0,l.WQX)(yu),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(Mo),this.createViewTransition=(0,l.WQX)(V,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new Pt(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new st(ee))}complete(){var A;null===(A=this.transitions)||void 0===A||A.complete()}handleNavigationRequest(A){var x;const ee=++this.navigationId;null===(x=this.transitions)||void 0===x||x.next({...this.transitions.value,...A,id:ee})}setupNavigations(A,x,ee){return this.transitions=new ie.t({id:0,currentUrlTree:x,currentRawUrl:x,extractedUrl:this.urlHandlingStrategy.extract(x),urlAfterRedirects:this.urlHandlingStrategy.extract(x),rawUrl:x,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:De,restoredState:null,currentSnapshot:ee.snapshot,targetSnapshot:null,currentRouterState:ee,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ne.p)(ge=>0!==ge.id),(0,xe.T)(ge=>({...ge,extractedUrl:this.urlHandlingStrategy.extract(ge.rawUrl)})),(0,He.n)(ge=>{let Dt=!1,Xt=!1;return(0,oe.of)(ge).pipe((0,He.n)(St=>{var wn;if(this.navigationId>ge.id)return this.cancelNavigationTransition(ge,"",sn.SupersededByNewNavigation),Ce.w;this.currentTransition=ge,this.currentNavigation={id:St.id,initialUrl:St.rawUrl,extractedUrl:St.extractedUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const fr=!A.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),pi=null!==(wn=St.extras.onSameUrlNavigation)&&void 0!==wn?wn:A.onSameUrlNavigation;if(!fr&&"reload"!==pi){const Hr="";return this.events.next(new Vn(St.id,this.urlSerializer.serialize(St.rawUrl),Hr,hn.IgnoredSameUrlNavigation)),St.resolve(null),Ce.w}if(this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return(0,oe.of)(St).pipe((0,He.n)(Hr=>{var to,Xs;const rl=null===(to=this.transitions)||void 0===to?void 0:to.getValue();return this.events.next(new ht(Hr.id,this.urlSerializer.serialize(Hr.extractedUrl),Hr.source,Hr.restoredState)),rl!==(null===(Xs=this.transitions)||void 0===Xs?void 0:Xs.getValue())?Ce.w:Promise.resolve(Hr)}),function Sa(y,T,b,A,x,ee){return(0,K.Z)(ge=>function Ta(y,T,b,A,x,ee,ge="emptyOnly"){return new eo(y,T,b,A,x,ge,ee).recognize()}(y,T,b,A,ge.extractedUrl,x,ee).pipe((0,xe.T)(({state:Dt,tree:Xt})=>({...ge,targetSnapshot:Dt,urlAfterRedirects:Xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,qe.M)(Hr=>{ge.targetSnapshot=Hr.targetSnapshot,ge.urlAfterRedirects=Hr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Hr.urlAfterRedirects};const to=new At(Hr.id,this.urlSerializer.serialize(Hr.extractedUrl),this.urlSerializer.serialize(Hr.urlAfterRedirects),Hr.targetSnapshot);this.events.next(to)}));if(fr&&this.urlHandlingStrategy.shouldProcessUrl(St.currentRawUrl)){const{id:Hr,extractedUrl:to,source:Xs,restoredState:rl,extras:il}=St,zl=new ht(Hr,this.urlSerializer.serialize(to),Xs,rl);this.events.next(zl);const ol=ir(this.rootComponentType).snapshot;return this.currentTransition=ge={...St,targetSnapshot:ol,urlAfterRedirects:to,extras:{...il,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=to,(0,oe.of)(ge)}{const Hr="";return this.events.next(new Vn(St.id,this.urlSerializer.serialize(St.extractedUrl),Hr,hn.IgnoredByUrlHandlingStrategy)),St.resolve(null),Ce.w}}),(0,qe.M)(St=>{const wn=new H(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot);this.events.next(wn)}),(0,xe.T)(St=>(this.currentTransition=ge={...St,guards:Jo(St.targetSnapshot,St.currentSnapshot,this.rootContexts)},ge)),function Wt(y,T){return(0,K.Z)(b=>{const{targetSnapshot:A,currentSnapshot:x,guards:{canActivateChecks:ee,canDeactivateChecks:ge}}=b;return 0===ge.length&&0===ee.length?(0,oe.of)({...b,guardsResult:!0}):function an(y,T,b,A){return(0,Ee.H)(y).pipe((0,K.Z)(x=>function Hs(y,T,b,A,x){const ee=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,oe.of)(!0);const ge=ee.map(Dt=>{var Xt;const St=null!==(Xt=yi(T))&&void 0!==Xt?Xt:x,wn=bi(Dt,St);return Zt(function B(y){return y&&Bo(y.canDeactivate)}(wn)?wn.canDeactivate(y,T,b,A):(0,l.N4e)(St,()=>wn(y,T,b,A))).pipe((0,be.$)())});return(0,oe.of)(ge).pipe(he())}(x.component,x.route,b,T,A)),(0,be.$)(x=>!0!==x,!0))}(ge,A,x,y).pipe((0,K.Z)(Dt=>Dt&&function Xa(y){return"boolean"==typeof y}(Dt)?function Yr(y,T,b,A){return(0,Ee.H)(T).pipe(Ge(x=>(0,ye.x)(function bo(y,T){return null!==y&&T&&T(new kt(y)),(0,oe.of)(!0)}(x.route.parent,A),function Wi(y,T){return null!==y&&T&&T(new Jt(y)),(0,oe.of)(!0)}(x.route,A),function Rs(y,T,b){const A=T[T.length-1],ee=T.slice(0,T.length-1).reverse().map(ge=>function Uo(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(ge)).filter(ge=>null!==ge).map(ge=>Ne(()=>{const Dt=ge.guards.map(Xt=>{var St;const wn=null!==(St=yi(ge.node))&&void 0!==St?St:b,fr=bi(Xt,wn);return Zt(function sa(y){return y&&Bo(y.canActivateChild)}(fr)?fr.canActivateChild(A,y):(0,l.N4e)(wn,()=>fr(A,y))).pipe((0,be.$)())});return(0,oe.of)(Dt).pipe(he())}));return(0,oe.of)(ee).pipe(he())}(y,x.path,b),function mo(y,T,b){const A=T.routeConfig?T.routeConfig.canActivate:null;if(!A||0===A.length)return(0,oe.of)(!0);const x=A.map(ee=>Ne(()=>{var ge;const Dt=null!==(ge=yi(T))&&void 0!==ge?ge:b,Xt=bi(ee,Dt);return Zt(function cs(y){return y&&Bo(y.canActivate)}(Xt)?Xt.canActivate(T,y):(0,l.N4e)(Dt,()=>Xt(T,y))).pipe((0,be.$)())}));return(0,oe.of)(x).pipe(he())}(y,x.route,b))),(0,be.$)(x=>!0!==x,!0))}(A,ee,y,T):(0,oe.of)(Dt)),(0,xe.T)(Dt=>({...b,guardsResult:Dt})))})}(this.environmentInjector,St=>this.events.next(St)),(0,qe.M)(St=>{if(ge.guardsResult=St.guardsResult,Ur(St.guardsResult))throw Qi(0,St.guardsResult);const wn=new Y(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.events.next(wn)}),(0,ne.p)(St=>!!St.guardsResult||(this.cancelNavigationTransition(St,"",sn.GuardRejected),!1)),Bl(St=>{if(St.guards.canActivateChecks.length)return(0,oe.of)(St).pipe((0,qe.M)(wn=>{const fr=new ze(wn.id,this.urlSerializer.serialize(wn.extractedUrl),this.urlSerializer.serialize(wn.urlAfterRedirects),wn.targetSnapshot);this.events.next(fr)}),(0,He.n)(wn=>{let fr=!1;return(0,oe.of)(wn).pipe(function Ra(y,T){return(0,K.Z)(b=>{const{targetSnapshot:A,guards:{canActivateChecks:x}}=b;if(!x.length)return(0,oe.of)(b);const ee=new Set(x.map(Xt=>Xt.route)),ge=new Set;for(const Xt of ee)if(!ge.has(Xt))for(const St of Ma(Xt))ge.add(St);let Dt=0;return(0,Ee.H)(ge).pipe(Ge(Xt=>ee.has(Xt)?function ho(y,T,b,A){const x=y.routeConfig,ee=y._resolve;return void 0!==(null==x?void 0:x.title)&&!To(x)&&(ee[ft]=x.title),function Pa(y,T,b,A){const x=ut(y);if(0===x.length)return(0,oe.of)({});const ee={};return(0,Ee.H)(x).pipe((0,K.Z)(ge=>function Ja(y,T,b,A){var x;const ee=null!==(x=yi(T))&&void 0!==x?x:A,ge=bi(y,ee);return Zt(ge.resolve?ge.resolve(T,b):(0,l.N4e)(ee,()=>ge(T,b)))}(y[ge],T,b,A).pipe((0,be.$)(),(0,qe.M)(Dt=>{ee[ge]=Dt}))),Ye(1),function me(y){return(0,xe.T)(()=>y)}(ee),Nt(ge=>ue(ge)?Ce.w:Fe(ge)))}(ee,y,T,A).pipe((0,xe.T)(ge=>(y._resolvedData=ge,y.data=mi(y,y.parent,b).resolve,null)))}(Xt,A,y,T):(Xt.data=mi(Xt,Xt.parent,y).resolve,(0,oe.of)(void 0))),(0,qe.M)(()=>Dt++),Ye(1),(0,K.Z)(Xt=>Dt===ge.size?(0,oe.of)(b):Ce.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,qe.M)({next:()=>fr=!0,complete:()=>{fr||this.cancelNavigationTransition(wn,"",sn.NoDataFromResolver)}}))}),(0,qe.M)(wn=>{const fr=new Le(wn.id,this.urlSerializer.serialize(wn.extractedUrl),this.urlSerializer.serialize(wn.urlAfterRedirects),wn.targetSnapshot);this.events.next(fr)}))}),Bl(St=>{const wn=fr=>{var pi;const Hr=[];null!==(pi=fr.routeConfig)&&void 0!==pi&&pi.loadComponent&&!fr.routeConfig._loadedComponent&&Hr.push(this.configLoader.loadComponent(fr.routeConfig).pipe((0,qe.M)(to=>{fr.component=to}),(0,xe.T)(()=>{})));for(const to of fr.children)Hr.push(...wn(to));return Hr};return(0,je.z)(wn(St.targetSnapshot.root)).pipe((0,bt.U)(null),(0,$.s)(1))}),Bl(()=>this.afterPreactivation()),(0,He.n)(()=>{var St;const{currentSnapshot:wn,targetSnapshot:fr}=ge,pi=null===(St=this.createViewTransition)||void 0===St?void 0:St.call(this,this.environmentInjector,wn.root,fr.root);return pi?(0,Ee.H)(pi).pipe((0,xe.T)(()=>ge)):(0,oe.of)(ge)}),(0,xe.T)(St=>{const wn=function Qo(y,T,b){const A=Lo(y,T._root,b?b._root:void 0);return new sr(A,T)}(A.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return this.currentTransition=ge={...St,targetRouterState:wn},this.currentNavigation.targetRouterState=wn,ge}),(0,qe.M)(()=>{this.events.next(new zt)}),((y,T,b,A)=>(0,xe.T)(x=>(new $s(T,x.targetRouterState,x.currentRouterState,b,A).activate(y),x)))(this.rootContexts,A.routeReuseStrategy,St=>this.events.next(St),this.inputBindingEnabled),(0,$.s)(1),(0,qe.M)({next:St=>{var wn;Dt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(St.id,this.urlSerializer.serialize(St.extractedUrl),this.urlSerializer.serialize(St.urlAfterRedirects))),null===(wn=this.titleStrategy)||void 0===wn||wn.updateTitle(St.targetRouterState.snapshot),St.resolve(!0)},complete:()=>{Dt=!0}}),function We(y){return(0,Re.N)((T,b)=>{(0,X.Tg)(y).subscribe((0,Me._)(b,()=>b.complete(),Ie.l)),!b.closed&&T.subscribe(b)})}(this.transitionAbortSubject.pipe((0,qe.M)(St=>{throw St}))),ct(()=>{var St;!Dt&&!Xt&&this.cancelNavigationTransition(ge,"",sn.SupersededByNewNavigation),(null===(St=this.currentTransition)||void 0===St?void 0:St.id)===ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nt(St=>{if(Xt=!0,wi(St))this.events.next(new An(ge.id,this.urlSerializer.serialize(ge.extractedUrl),St.message,St.cancellationCode)),function ws(y){return wi(y)&&Ur(y.url)}(St)?this.events.next(new Rn(St.url)):ge.resolve(!1);else{var wn;this.events.next(new Kr(ge.id,this.urlSerializer.serialize(ge.extractedUrl),St,null!==(wn=ge.targetSnapshot)&&void 0!==wn?wn:void 0));try{ge.resolve(A.errorHandler(St))}catch(fr){this.options.resolveNavigationPromiseOnError?ge.resolve(!1):ge.reject(fr)}}return Ce.w}))}))}cancelNavigationTransition(A,x,ee){const ge=new An(A.id,this.urlSerializer.serialize(A.extractedUrl),x,ee);this.events.next(ge),A.resolve(!1)}isUpdatingInternalState(){var A,x;return(null===(A=this.currentTransition)||void 0===A?void 0:A.extractedUrl.toString())!==(null===(x=this.currentTransition)||void 0===x?void 0:x.currentUrlTree.toString())}isUpdatedBrowserUrl(){var A,x;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(A=this.currentTransition)||void 0===A?void 0:A.extractedUrl.toString())&&!(null!==(x=this.currentTransition)&&void 0!==x&&x.extras.skipLocationChange)}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();function it(y){return y!==De}let wt=(()=>{var y;class T{}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:()=>(0,l.WQX)(Kt),providedIn:"root"}),T})();class vr{shouldDetach(T){return!1}store(T,b){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,b){return T.routeConfig===b.routeConfig}}let Kt=(()=>{var y;class T extends vr{}return(y=T).\u0275fac=(()=>{let b;return function(x){return(b||(b=l.xGo(y)))(x||y)}})(),y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})(),Ct=(()=>{var y;class T{}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:()=>(0,l.WQX)(Mt),providedIn:"root"}),T})(),Mt=(()=>{var y;class T extends Ct{constructor(){super(...arguments),this.location=(0,l.WQX)(Ve.aZ),this.urlSerializer=(0,l.WQX)(Pn),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(Mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ir(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var A,x;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(A=null===(x=this.restoredState())||void 0===x?void 0:x.\u0275routerPageId)&&void 0!==A?A:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(A){return this.location.subscribe(x=>{"popstate"===x.type&&A(x.url,x.state)})}handleRouterEvent(A,x){if(A instanceof ht)this.stateMemento=this.createStateMemento();else if(A instanceof Vn)this.rawUrlTree=x.initialUrl;else if(A instanceof At){if("eager"===this.urlUpdateStrategy&&!x.extras.skipLocationChange){const ee=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl);this.setBrowserUrl(ee,x)}}else A instanceof zt?(this.currentUrlTree=x.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x))):A instanceof An&&(A.code===sn.GuardRejected||A.code===sn.NoDataFromResolver)?this.restoreHistory(x):A instanceof Kr?this.restoreHistory(x,!0):A instanceof Ut&&(this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId)}setBrowserUrl(A,x){const ee=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(ee)||x.extras.replaceUrl){const Dt={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(ee,"",Dt)}else{const ge={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId+1)};this.location.go(ee,"",ge)}}restoreHistory(A,x=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-this.browserPageId;0!==ge?this.location.historyGo(ge):this.currentUrlTree===A.finalUrl&&0===ge&&(this.resetState(A),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){var x;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(x=A.finalUrl)&&void 0!==x?x:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,x){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:x}:{navigationId:A}}}return(y=T).\u0275fac=(()=>{let b;return function(x){return(b||(b=l.xGo(y)))(x||y)}})(),y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();var nr=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(nr||{});function Mr(y,T){y.events.pipe((0,ne.p)(b=>b instanceof Ut||b instanceof An||b instanceof Kr||b instanceof Vn),(0,xe.T)(b=>b instanceof Ut||b instanceof Vn?nr.COMPLETE:b instanceof An&&(b.code===sn.Redirect||b.code===sn.SupersededByNewNavigation)?nr.REDIRECTING:nr.FAILED),(0,ne.p)(b=>b!==nr.REDIRECTING),(0,$.s)(1)).subscribe(()=>{T()})}function Oi(y){throw y}const ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let en=(()=>{var y;class T{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var A,x;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Ct),this.options=(0,l.WQX)(Ro,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(ke),this.urlSerializer=(0,l.WQX)(Pn),this.location=(0,l.WQX)(Ve.aZ),this.urlHandlingStrategy=(0,l.WQX)(Mo),this._events=new Ae.B,this.errorHandler=this.options.errorHandler||Oi,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(wt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(A=null===(x=(0,l.WQX)(xa,{optional:!0}))||void 0===x?void 0:x.flat())&&void 0!==A?A:[],this.componentInputBindingEnabled=!!(0,l.WQX)(Xo,{optional:!0}),this.eventsSubscription=new Xe.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ee=>{this.console.warn(ee)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(x=>{try{const ee=this.navigationTransitions.currentTransition,ge=this.navigationTransitions.currentNavigation;if(null!==ee&&null!==ge)if(this.stateManager.handleRouterEvent(x,ge),x instanceof An&&x.code!==sn.Redirect&&x.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(x instanceof Ut)this.navigated=!0;else if(x instanceof Rn){const Dt=this.urlHandlingStrategy.merge(x.url,ee.currentRawUrl),Xt={info:ee.extras.info,skipLocationChange:ee.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||it(ee.source)};this.scheduleNavigation(Dt,De,null,Xt,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})}(function qr(y){return!(y instanceof zt||y instanceof Rn)})(x)&&this._events.next(x)}catch(ee){this.navigationTransitions.transitionAbortSubject.next(ee)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),De,this.stateManager.restoredState())}setUpLocationChangeListener(){var A;null!==(A=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==A||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((x,ee)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(x,"popstate",ee)},0)}))}navigateToSyncWithBrowser(A,x,ee){const ge={replaceUrl:!0},Dt=null!=ee&&ee.navigationId?ee:null;if(ee){const St={...ee};delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(ge.state=St)}const Xt=this.parseUrl(A);this.scheduleNavigation(Xt,x,Dt,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(wo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,x={}){const{relativeTo:ee,queryParams:ge,fragment:Dt,queryParamsHandling:Xt,preserveFragment:St}=x,wn=St?this.currentUrlTree.fragment:Dt;let pi,fr=null;switch(Xt){case"merge":fr={...this.currentUrlTree.queryParams,...ge};break;case"preserve":fr=this.currentUrlTree.queryParams;break;default:fr=ge||null}null!==fr&&(fr=this.removeEmptyProps(fr));try{pi=Mi(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),pi=this.currentUrlTree.root}return _i(pi,A,fr,null!=wn?wn:null)}navigateByUrl(A,x={skipLocationChange:!1}){const ee=Ur(A)?A:this.parseUrl(A),ge=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(ge,De,null,x)}navigate(A,x={skipLocationChange:!1}){return function Ln(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new l.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,x),x)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){try{return this.urlSerializer.parse(A)}catch{return this.urlSerializer.parse("/")}}isActive(A,x){let ee;if(ee=!0===x?{...ns}:!1===x?{...Pr}:x,Ur(A))return Sn(this.currentUrlTree,A,ee);const ge=this.parseUrl(A);return Sn(this.currentUrlTree,ge,ee)}removeEmptyProps(A){return Object.entries(A).reduce((x,[ee,ge])=>(null!=ge&&(x[ee]=ge),x),{})}scheduleNavigation(A,x,ee,ge,Dt){if(this.disposed)return Promise.resolve(!1);let Xt,St,wn;Dt?(Xt=Dt.resolve,St=Dt.reject,wn=Dt.promise):wn=new Promise((pi,Hr)=>{Xt=pi,St=Hr});const fr=this.pendingTasks.add();return Mr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(fr))}),this.navigationTransitions.handleNavigationRequest({source:x,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:A,extras:ge,resolve:Xt,reject:St,promise:wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wn.catch(pi=>Promise.reject(pi))}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})(),hi=(()=>{var y;class T{constructor(A,x,ee,ge,Dt,Xt){var St;this.router=A,this.route=x,this.tabIndexAttribute=ee,this.renderer=ge,this.el=Dt,this.locationStrategy=Xt,this.href=null,this.commands=null,this.onChanges=new Ae.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const wn=null===(St=Dt.nativeElement.tagName)||void 0===St?void 0:St.toLowerCase();this.isAnchorElement="a"===wn||"area"===wn,this.isAnchorElement?this.subscription=A.events.subscribe(fr=>{fr instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,x,ee,ge,Dt){const Xt=this.urlTree;return!!(null===Xt||this.isAnchorElement&&(0!==A||x||ee||ge||Dt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Xt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var A;null===(A=this.subscription)||void 0===A||A.unsubscribe()}updateHref(){var A;const x=this.urlTree;this.href=null!==x&&this.locationStrategy?null===(A=this.locationStrategy)||void 0===A?void 0:A.prepareExternalUrl(this.router.serializeUrl(x)):null;const ee=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ee)}applyAttributeValue(A,x){const ee=this.renderer,ge=this.el.nativeElement;null!==x?ee.setAttribute(ge,A,x):ee.removeAttribute(ge,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=T).\u0275fac=function(A){return new(A||y)(l.rXU(en),l.rXU(li),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Ve.hb))},y.\u0275dir=l.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,x){1&A&&l.bIt("click",function(ge){return x.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&A&&l.BMQ("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[l.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[l.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]}),T})();class la{}let Nn=(()=>{var y;class T{preload(A,x){return x().pipe(Nt(()=>(0,oe.of)(null)))}}return(y=T).\u0275fac=function(A){return new(A||y)},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})(),gs=(()=>{var y;class T{constructor(A,x,ee,ge,Dt){this.router=A,this.injector=ee,this.preloadingStrategy=ge,this.loader=Dt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ne.p)(A=>A instanceof Ut),Ge(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,x){const ee=[];for(const St of x){var ge,Dt;St.providers&&!St._injector&&(St._injector=(0,l.Ol2)(St.providers,A,`Route: ${St.path}`));const wn=null!==(ge=St._injector)&&void 0!==ge?ge:A,fr=null!==(Dt=St._loadedInjector)&&void 0!==Dt?Dt:wn;var Xt;(St.loadChildren&&!St._loadedRoutes&&void 0===St.canLoad||St.loadComponent&&!St._loadedComponent)&&ee.push(this.preloadConfig(wn,St)),(St.children||St._loadedRoutes)&&ee.push(this.processRoutes(fr,null!==(Xt=St.children)&&void 0!==Xt?Xt:St._loadedRoutes))}return(0,Ee.H)(ee).pipe((0,Be.U)())}preloadConfig(A,x){return this.preloadingStrategy.preload(x,()=>{let ee;ee=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(A,x):(0,oe.of)(null);const ge=ee.pipe((0,K.Z)(Dt=>{var Xt;return null===Dt?(0,oe.of)(void 0):(x._loadedRoutes=Dt.routes,x._loadedInjector=Dt.injector,this.processRoutes(null!==(Xt=Dt.injector)&&void 0!==Xt?Xt:A,Dt.routes))}));if(x.loadComponent&&!x._loadedComponent){const Dt=this.loader.loadComponent(x);return(0,Ee.H)([ge,Dt]).pipe((0,Be.U)())}return ge})}}return(y=T).\u0275fac=function(A){return new(A||y)(l.KVO(en),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(la),l.KVO(fs))},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),T})();const Mn=new l.nKC("");let Un=(()=>{var y;class T{constructor(A,x,ee,ge,Dt={}){this.urlSerializer=A,this.transitions=x,this.viewportScroller=ee,this.zone=ge,this.options=Dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dt.scrollPositionRestoration||(Dt.scrollPositionRestoration="disabled"),Dt.anchorScrolling||(Dt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof Ut?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Vn&&A.code===hn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof tn&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tn(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){var A,x;null===(A=this.routerEventsSubscription)||void 0===A||A.unsubscribe(),null===(x=this.scrollEventsSubscription)||void 0===x||x.unsubscribe()}}return(y=T).\u0275fac=function(A){l.QTQ()},y.\u0275prov=l.jDH({token:y,factory:y.\u0275fac}),T})();function $r(y,T){return{\u0275kind:y,\u0275providers:T}}function qs(){const y=(0,l.WQX)(l.zZn);return T=>{var b,A;const x=y.get(l.o8S);if(T!==x.components[0])return;const ee=y.get(en),ge=y.get(ua);1===y.get(fo)&&ee.initialNavigation(),null===(b=y.get(Oa,null,l.$GK.Optional))||void 0===b||b.setUpPreloading(),null===(A=y.get(Mn,null,l.$GK.Optional))||void 0===A||A.init(),ee.resetRootComponentType(x.componentTypes[0]),ge.closed||(ge.next(),ge.complete(),ge.unsubscribe())}}const ua=new l.nKC("",{factory:()=>new Ae.B}),fo=new l.nKC("",{providedIn:"root",factory:()=>1}),Oa=new l.nKC("");function oi(y){return $r(0,[{provide:Oa,useExisting:gs},{provide:la,useExisting:y}])}function Ki(y){return $r(9,[{provide:V,useValue:N},{provide:q,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const ka=new l.nKC("ROUTER_FORROOT_GUARD"),qi=[Ve.aZ,{provide:Pn,useClass:Gn},en,Sr,{provide:li,useFactory:function gr(y){return y.routerState.root},deps:[en]},fs,[]];let jl=(()=>{var y;class T{constructor(A){}static forRoot(A,x){return{ngModule:T,providers:[qi,[],{provide:xa,multi:!0,useValue:A},{provide:ka,useFactory:ms,deps:[[en,new l.Xx1,new l.kdw]]},{provide:Ro,useValue:x||{}},null!=x&&x.useHash?{provide:Ve.hb,useClass:Ve.fw}:{provide:Ve.hb,useClass:Ve.Sm},{provide:Mn,useFactory:()=>{const y=(0,l.WQX)(Ve.Xr),T=(0,l.WQX)(l.SKi),b=(0,l.WQX)(Ro),A=(0,l.WQX)(ke),x=(0,l.WQX)(Pn);return b.scrollOffset&&y.setOffset(b.scrollOffset),new Un(x,A,y,T,b)}},null!=x&&x.preloadingStrategy?oi(x.preloadingStrategy).\u0275providers:[],null!=x&&x.initialNavigation?Fa(x):[],null!=x&&x.bindToComponentInputs?$r(8,[Bs,{provide:Xo,useExisting:Bs}]).\u0275providers:[],null!=x&&x.enableViewTransitions?Ki().\u0275providers:[],[{provide:Hl,useFactory:qs},{provide:l.iLQ,multi:!0,useExisting:Hl}]]}}static forChild(A){return{ngModule:T,providers:[{provide:xa,multi:!0,useValue:A}]}}}return(y=T).\u0275fac=function(A){return new(A||y)(l.KVO(ka,8))},y.\u0275mod=l.$C({type:y}),y.\u0275inj=l.G2t({}),T})();function ms(y){return"guarded"}function Fa(y){return["disabled"===y.initialNavigation?$r(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const T=(0,l.WQX)(en);return()=>{T.setUpLocationChangeListener()}}},{provide:fo,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?$r(2,[{provide:fo,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:T=>{const b=T.get(Ve.hj,Promise.resolve());return()=>b.then(()=>new Promise(A=>{const x=T.get(en),ee=T.get(ua);Mr(x,()=>{A(!0)}),T.get(ke).afterPreactivation=()=>(A(!0),ee.closed?(0,oe.of)(void 0):ee),x.initialNavigation()}))}}]).\u0275providers:[]]}const Hl=new l.nKC("")},3345:(rn,ot,S)=>{"use strict";S.d(ot,{A:()=>Ce});var l=S(1076),k=S(1362),ae=S(7852),G=S(8041);class Ee{constructor(Re,Me){this._delegate=Re,this.firebase=Me,(0,ae._addComponent)(Re,new k.uA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(Re,Me=ae._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Re);return!dt.isInitialized()&&"EXPLICIT"===(null===(Oe=dt.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Me})}_removeServiceInstance(Re,Me=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Me)}_addComponent(Re){(0,ae._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,ae._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function ce(){const Xe=function je(Xe){const Re={},Me={__esModule:!0,initializeApp:function Ae($,F={}){const ne=ae.initializeApp($,F);if((0,l.gR)(Re,ne.name))return Re[ne.name];const K=new Xe(ne,Me);return Re[ne.name]=K,K},app:dt,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function xe($){const F=$.name,ne=F.replace("-compat","");if(ae._registerComponent($)&&"PUBLIC"===$.type){const K=(be=dt())=>{if("function"!=typeof be[ne])throw ie.create("invalid-app-argument",{appName:F});return be[ne]()};void 0!==$.serviceProps&&(0,l.zw)(K,$.serviceProps),Me[ne]=K,Xe.prototype[ne]=function(...be){return this._getService.bind(this,F).apply(this,$.multipleInstances?be:[])}}return"PUBLIC"===$.type?Me[ne]:null},removeApp:function Oe($){delete Re[$]},useAsService:function He($,F){return"serverAuth"===F?null:F},modularAPIs:ae}};function dt($){if(!(0,l.gR)(Re,$=$||ae._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:$});return Re[$]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Ve(){return Object.keys(Re).map($=>Re[$])}}),dt.App=Xe,Me}(Ee);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Re(Me){(0,l.zw)(Xe,Me)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),Xe}(),X=new G.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=ye;!function Fe(Xe){(0,ae.registerVersion)("@firebase/app-compat","0.2.31",Xe)}()},7852:(rn,ot,S)=>{"use strict";S.r(ot),S.d(ot,{FirebaseError:()=>G.g,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>Hn,_addOrOverwriteComponent:()=>or,_apps:()=>un,_clearComponents:()=>Pn,_components:()=>Wn,_getProvider:()=>ar,_isFirebaseApp:()=>pn,_isFirebaseServerApp:()=>kr,_registerComponent:()=>On,_removeServiceInstance:()=>Or,_serverApps:()=>$t,deleteApp:()=>Tt,getApp:()=>at,getApps:()=>Je,initializeApp:()=>Lr,initializeServerApp:()=>ri,onLog:()=>de,registerVersion:()=>se,setLogLevel:()=>Pe});var l=S(467),k=S(1362),ae=S(8041),G=S(1076);const Ee=(It,gt)=>gt.some(Ot=>It instanceof Ot);let oe,ie;const ye=new WeakMap,X=new WeakMap,Ne=new WeakMap,Ue=new WeakMap,Fe=new WeakMap;let Re={get(It,gt,Ot){if(It instanceof IDBTransaction){if("done"===gt)return X.get(It);if("objectStoreNames"===gt)return It.objectStoreNames||Ne.get(It);if("store"===gt)return Ot.objectStoreNames[1]?void 0:Ot.objectStore(Ot.objectStoreNames[0])}return Ae(It[gt])},set:(It,gt,Ot)=>(It[gt]=Ot,!0),has:(It,gt)=>It instanceof IDBTransaction&&("done"===gt||"store"===gt)||gt in It};function dt(It){return"function"==typeof It?function Oe(It){return It!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(It)?function(...gt){return It.apply(Ve(this),gt),Ae(ye.get(this))}:function(...gt){return Ae(It.apply(Ve(this),gt))}:function(gt,...Ot){const dn=It.call(Ve(this),gt,...Ot);return Ne.set(dn,gt.sort?gt.sort():[gt]),Ae(dn)}}(It):(It instanceof IDBTransaction&&function Xe(It){if(X.has(It))return;const gt=new Promise((Ot,dn)=>{const bn=()=>{It.removeEventListener("complete",$n),It.removeEventListener("error",Bn),It.removeEventListener("abort",Bn)},$n=()=>{Ot(),bn()},Bn=()=>{dn(It.error||new DOMException("AbortError","AbortError")),bn()};It.addEventListener("complete",$n),It.addEventListener("error",Bn),It.addEventListener("abort",Bn)});X.set(It,gt)}(It),Ee(It,function je(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(It,Re):It)}function Ae(It){if(It instanceof IDBRequest)return function Ce(It){const gt=new Promise((Ot,dn)=>{const bn=()=>{It.removeEventListener("success",$n),It.removeEventListener("error",Bn)},$n=()=>{Ot(Ae(It.result)),bn()},Bn=()=>{dn(It.error),bn()};It.addEventListener("success",$n),It.addEventListener("error",Bn)});return gt.then(Ot=>{Ot instanceof IDBCursor&&ye.set(Ot,It)}).catch(()=>{}),Fe.set(gt,It),gt}(It);if(Ue.has(It))return Ue.get(It);const gt=dt(It);return gt!==It&&(Ue.set(It,gt),Fe.set(gt,It)),gt}const Ve=It=>Fe.get(It),$=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],ne=new Map;function K(It,gt){if(!(It instanceof IDBDatabase)||gt in It||"string"!=typeof gt)return;if(ne.get(gt))return ne.get(gt);const Ot=gt.replace(/FromIndex$/,""),dn=gt!==Ot,bn=F.includes(Ot);if(!(Ot in(dn?IDBIndex:IDBObjectStore).prototype)||!bn&&!$.includes(Ot))return;const $n=function(){var Bn=(0,l.A)(function*(zn,...Xn){const xn=this.transaction(zn,bn?"readwrite":"readonly");let ur=xn.store;return dn&&(ur=ur.index(Xn.shift())),(yield Promise.all([ur[Ot](...Xn),bn&&xn.done]))[0]});return function(Xn){return Bn.apply(this,arguments)}}();return ne.set(gt,$n),$n}!function Me(It){Re=It(Re)}(It=>({...It,get:(gt,Ot,dn)=>K(gt,Ot)||It.get(gt,Ot,dn),has:(gt,Ot)=>!!K(gt,Ot)||It.has(gt,Ot)}));class be{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function Ge(It){const gt=It.getComponent();return"VERSION"===(null==gt?void 0:gt.type)}(Ot)){const dn=Ot.getImmediate();return`${dn.library}/${dn.version}`}return null}).filter(Ot=>Ot).join(" ")}}const qe="@firebase/app",Nt="0.10.1",xt=new ae.Vy("@firebase/app"),ln="[DEFAULT]",In={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,$t=new Map,Wn=new Map;function Hn(It,gt){try{It.container.addComponent(gt)}catch(Ot){xt.debug(`Component ${gt.name} failed to register with FirebaseApp ${It.name}`,Ot)}}function or(It,gt){It.container.addOrOverwriteComponent(gt)}function On(It){const gt=It.name;if(Wn.has(gt))return xt.debug(`There were multiple attempts to register component ${gt}.`),!1;Wn.set(gt,It);for(const Ot of un.values())Hn(Ot,It);for(const Ot of $t.values())Hn(Ot,It);return!0}function ar(It,gt){const Ot=It.container.getProvider("heartbeat").getImmediate({optional:!0});return Ot&&Ot.triggerHeartbeat(),It.container.getProvider(gt)}function Or(It,gt,Ot=ln){ar(It,gt).clearInstance(Ot)}function pn(It){return void 0!==It.options}function kr(It){return void 0!==It.settings}function Pn(){Wn.clear()}const Dr=new G.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mr{constructor(gt,Ot,dn){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=dn,this.container.addComponent(new k.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}class lr extends mr{constructor(gt,Ot,dn,bn){const $n=void 0!==Ot.automaticDataCollectionEnabled&&Ot.automaticDataCollectionEnabled,Bn={name:dn,automaticDataCollectionEnabled:$n};super(void 0!==gt.apiKey?gt:gt.options,Bn,bn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:$n},Ot),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ot.releaseOnDeref=void 0,se(qe,Nt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(gt){this.isDeleted||(this._refCount++,void 0!==gt&&this._finalizationRegistry.register(gt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Tt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Dr.create("server-app-deleted")}}const yr="10.11.0";function Lr(It,gt={}){let Ot=It;"object"!=typeof gt&&(gt={name:gt});const dn=Object.assign({name:ln,automaticDataCollectionEnabled:!1},gt),bn=dn.name;if("string"!=typeof bn||!bn)throw Dr.create("bad-app-name",{appName:String(bn)});if(Ot||(Ot=(0,G.T9)()),!Ot)throw Dr.create("no-options");const $n=un.get(bn);if($n){if((0,G.bD)(Ot,$n.options)&&(0,G.bD)(dn,$n.config))return $n;throw Dr.create("duplicate-app",{appName:bn})}const Bn=new k.h1(bn);for(const Xn of Wn.values())Bn.addComponent(Xn);const zn=new mr(Ot,dn,Bn);return un.set(bn,zn),zn}function ri(It,gt){if((0,G.Bd)())throw Dr.create("invalid-server-app-environment");let Ot;void 0===gt.automaticDataCollectionEnabled&&(gt.automaticDataCollectionEnabled=!1),Ot=pn(It)?It.options:It;const dn=Object.assign(Object.assign({},gt),Ot);if(void 0!==dn.releaseOnDeref&&delete dn.releaseOnDeref,void 0!==gt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Dr.create("finalization-registry-not-supported",{});const $n=""+(xn=JSON.stringify(dn),[...xn].reduce((ur,rr)=>Math.imul(31,ur)+rr.charCodeAt(0)|0,0)),Bn=$t.get($n);var xn;if(Bn)return Bn.incRefCount(gt.releaseOnDeref),Bn;const zn=new k.h1($n);for(const xn of Wn.values())zn.addComponent(xn);const Xn=new lr(Ot,gt,$n,zn);return $t.set($n,Xn),Xn}function at(It=ln){const gt=un.get(It);if(!gt&&It===ln&&(0,G.T9)())return Lr();if(!gt)throw Dr.create("no-app",{appName:It});return gt}function Je(){return Array.from(un.values())}function Tt(It){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.A)(function*(It){let gt=!1;const Ot=It.name;un.has(Ot)?(gt=!0,un.delete(Ot)):$t.has(Ot)&&It.decRefCount()<=0&&($t.delete(Ot),gt=!0),gt&&(yield Promise.all(It.container.getProviders().map(dn=>dn.delete())),It.isDeleted=!0)})).apply(this,arguments)}function se(It,gt,Ot){var dn;let bn=null!==(dn=In[It])&&void 0!==dn?dn:It;Ot&&(bn+=`-${Ot}`);const $n=bn.match(/\s|\//),Bn=gt.match(/\s|\//);if($n||Bn){const zn=[`Unable to register library "${bn}" with version "${gt}":`];return $n&&zn.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),$n&&Bn&&zn.push("and"),Bn&&zn.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void xt.warn(zn.join(" "))}On(new k.uA(`${bn}-version`,()=>({library:bn,version:gt}),"VERSION"))}function de(It,gt){if(null!==It&&"function"!=typeof It)throw Dr.create("invalid-log-argument");(0,ae.Ey)(It,gt)}function Pe(It){(0,ae.He)(It)}const mt="firebase-heartbeat-database",et=1,qt="firebase-heartbeat-store";let _n=null;function qn(){return _n||(_n=function xe(It,gt,{blocked:Ot,upgrade:dn,blocking:bn,terminated:$n}={}){const Bn=indexedDB.open(It,gt),zn=Ae(Bn);return dn&&Bn.addEventListener("upgradeneeded",Xn=>{dn(Ae(Bn.result),Xn.oldVersion,Xn.newVersion,Ae(Bn.transaction),Xn)}),Ot&&Bn.addEventListener("blocked",Xn=>Ot(Xn.oldVersion,Xn.newVersion,Xn)),zn.then(Xn=>{$n&&Xn.addEventListener("close",()=>$n()),bn&&Xn.addEventListener("versionchange",xn=>bn(xn.oldVersion,xn.newVersion,xn))}).catch(()=>{}),zn}(mt,et,{upgrade:(It,gt)=>{if(0===gt)try{It.createObjectStore(qt)}catch(Ot){console.warn(Ot)}}}).catch(It=>{throw Dr.create("idb-open",{originalErrorMessage:It.message})})),_n}function Rr(){return(Rr=(0,l.A)(function*(It){try{const Ot=(yield qn()).transaction(qt),dn=yield Ot.objectStore(qt).get(gn(It));return yield Ot.done,dn}catch(gt){if(gt instanceof G.g)xt.warn(gt.message);else{const Ot=Dr.create("idb-get",{originalErrorMessage:null==gt?void 0:gt.message});xt.warn(Ot.message)}}})).apply(this,arguments)}function zr(It,gt){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.A)(function*(It,gt){try{const dn=(yield qn()).transaction(qt,"readwrite");yield dn.objectStore(qt).put(gt,gn(It)),yield dn.done}catch(Ot){if(Ot instanceof G.g)xt.warn(Ot.message);else{const dn=Dr.create("idb-set",{originalErrorMessage:null==Ot?void 0:Ot.message});xt.warn(dn.message)}}})).apply(this,arguments)}function gn(It){return`${It.name}!${It.options.appId}`}class Ai{constructor(gt){this.container=gt,this._heartbeatsCache=null;const Ot=this.container.getProvider("app").getImmediate();this._storage=new tr(Ot),this._heartbeatsCachePromise=this._storage.read().then(dn=>(this._heartbeatsCache=dn,dn))}triggerHeartbeat(){var gt=this;return(0,l.A)(function*(){var Ot,dn;const $n=gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bn=Mi();if((null!=(null===(Ot=gt._heartbeatsCache)||void 0===Ot?void 0:Ot.heartbeats)||(gt._heartbeatsCache=yield gt._heartbeatsCachePromise,null!=(null===(dn=gt._heartbeatsCache)||void 0===dn?void 0:dn.heartbeats)))&&gt._heartbeatsCache.lastSentHeartbeatDate!==Bn&&!gt._heartbeatsCache.heartbeats.some(zn=>zn.date===Bn))return gt._heartbeatsCache.heartbeats.push({date:Bn,agent:$n}),gt._heartbeatsCache.heartbeats=gt._heartbeatsCache.heartbeats.filter(zn=>{const Xn=new Date(zn.date).valueOf();return Date.now()-Xn<=2592e6}),gt._storage.overwrite(gt._heartbeatsCache)})()}getHeartbeatsHeader(){var gt=this;return(0,l.A)(function*(){var Ot;if(null===gt._heartbeatsCache&&(yield gt._heartbeatsCachePromise),null==(null===(Ot=gt._heartbeatsCache)||void 0===Ot?void 0:Ot.heartbeats)||0===gt._heartbeatsCache.heartbeats.length)return"";const dn=Mi(),{heartbeatsToSend:bn,unsentEntries:$n}=function _i(It,gt=1024){const Ot=[];let dn=It.slice();for(const bn of It){const $n=Ot.find(Bn=>Bn.agent===bn.agent);if($n){if($n.dates.push(bn.date),Ti(Ot)>gt){$n.dates.pop();break}}else if(Ot.push({agent:bn.agent,dates:[bn.date]}),Ti(Ot)>gt){Ot.pop();break}dn=dn.slice(1)}return{heartbeatsToSend:Ot,unsentEntries:dn}}(gt._heartbeatsCache.heartbeats),Bn=(0,G.Uj)(JSON.stringify({version:2,heartbeats:bn}));return gt._heartbeatsCache.lastSentHeartbeatDate=dn,$n.length>0?(gt._heartbeatsCache.heartbeats=$n,yield gt._storage.overwrite(gt._heartbeatsCache)):(gt._heartbeatsCache.heartbeats=[],gt._storage.overwrite(gt._heartbeatsCache)),Bn})()}}function Mi(){return(new Date).toISOString().substring(0,10)}class tr{constructor(gt){this.app=gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,G.zW)()&&(0,G.eX)().then(()=>!0).catch(()=>!1)})()}read(){var gt=this;return(0,l.A)(function*(){if(yield gt._canUseIndexedDBPromise){const dn=yield function Qn(It){return Rr.apply(this,arguments)}(gt.app);return null!=dn&&dn.heartbeats?dn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(gt){var Ot=this;return(0,l.A)(function*(){var dn;if(yield Ot._canUseIndexedDBPromise){const $n=yield Ot.read();return zr(Ot.app,{lastSentHeartbeatDate:null!==(dn=gt.lastSentHeartbeatDate)&&void 0!==dn?dn:$n.lastSentHeartbeatDate,heartbeats:gt.heartbeats})}})()}add(gt){var Ot=this;return(0,l.A)(function*(){var dn;if(yield Ot._canUseIndexedDBPromise){const $n=yield Ot.read();return zr(Ot.app,{lastSentHeartbeatDate:null!==(dn=gt.lastSentHeartbeatDate)&&void 0!==dn?dn:$n.lastSentHeartbeatDate,heartbeats:[...$n.heartbeats,...gt.heartbeats]})}})()}}function Ti(It){return(0,G.Uj)(JSON.stringify({version:2,heartbeats:It})).length}!function Qr(It){On(new k.uA("platform-logger",gt=>new be(gt),"PRIVATE")),On(new k.uA("heartbeat",gt=>new Ai(gt),"PRIVATE")),se(qe,Nt,It),se(qe,Nt,"esm2017"),se("fire-js","")}("")},1362:(rn,ot,S)=>{"use strict";S.d(ot,{h1:()=>je,uA:()=>ae});var l=S(467),k=S(1076);class ae{constructor(ye,X,Ne){this.name=ye,this.instanceFactory=X,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const G="[DEFAULT]";class Ee{constructor(ye,X){this.name=ye,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const X=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(X)){const Ne=new k.cY;if(this.instancesDeferred.set(X,Ne),this.isInitialized(X)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:X});Ue&&Ne.resolve(Ue)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(ye){var X;const Ne=this.normalizeInstanceIdentifier(null==ye?void 0:ye.identifier),Ue=null!==(X=null==ye?void 0:ye.optional)&&void 0!==X&&X;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Fe){if(Ue)return null;throw Fe}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function ie(ce){return"EAGER"===ce.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[X,Ne]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(X);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ue});Ne.resolve(Fe)}catch{}}}}clearInstance(ye=G){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,l.A)(function*(){const X=Array.from(ye.instances.values());yield Promise.all([...X.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...X.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=G){return this.instances.has(ye)}getOptions(ye=G){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:X={}}=ye,Ne=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Ne,options:X});for(const[Fe,Ce]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Fe)&&Ce.resolve(Ue);return Ue}onInit(ye,X){var Ne;const Ue=this.normalizeInstanceIdentifier(X),Fe=null!==(Ne=this.onInitCallbacks.get(Ue))&&void 0!==Ne?Ne:new Set;Fe.add(ye),this.onInitCallbacks.set(Ue,Fe);const Ce=this.instances.get(Ue);return Ce&&ye(Ce,Ue),()=>{Fe.delete(ye)}}invokeOnInitCallbacks(ye,X){const Ne=this.onInitCallbacks.get(X);if(Ne)for(const Ue of Ne)try{Ue(ye,X)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:X={}}){let Ne=this.instances.get(ye);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=ye,ce===G?void 0:ce),options:X}),this.instances.set(ye,Ne),this.instancesOptions.set(ye,X),this.invokeOnInitCallbacks(Ne,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Ne)}catch{}var ce;return Ne||null}normalizeInstanceIdentifier(ye=G){return this.component?this.component.multipleInstances?ye:G:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const X=this.getProvider(ye.name);if(X.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);X.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const X=new Ee(ye,this);return this.providers.set(ye,X),X}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,ot,S)=>{"use strict";S.d(ot,{$b:()=>k,Ey:()=>ce,He:()=>je,Vy:()=>ie});const l=[];var k=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(k||{});const ae={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},G=k.INFO,Ee={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},oe=(ye,X,...Ne)=>{if(X<ye.logLevel)return;const Ue=(new Date).toISOString(),Fe=Ee[X];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Fe](`[${Ue}]  ${ye.name}:`,...Ne)};class ie{constructor(X){this.name=X,this._logLevel=G,this._logHandler=oe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in k))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?ae[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...X),this._logHandler(this,k.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...X),this._logHandler(this,k.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,k.INFO,...X),this._logHandler(this,k.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,k.WARN,...X),this._logHandler(this,k.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...X),this._logHandler(this,k.ERROR,...X)}}function je(ye){l.forEach(X=>{X.setLogLevel(ye)})}function ce(ye,X){for(const Ne of l){let Ue=null;X&&X.level&&(Ue=ae[X.level]),Ne.userLogHandler=null===ye?null:(Fe,Ce,...Xe)=>{const Re=Xe.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ce>=(null!=Ue?Ue:Fe.logLevel)&&ye({level:k[Ce].toLowerCase(),message:Re,args:Xe,type:Fe.name})}}}},7157:(rn,ot,S)=>{"use strict";S.d(ot,{Yq:()=>or,TS:()=>un,sR:()=>$t,el:()=>Ti,Sb:()=>Ze,QE:()=>dn,CF:()=>at,Rg:()=>gn,p4:()=>bn,jM:()=>rr,q9:()=>vn,Kb:()=>go,CE:()=>Qr,pF:()=>It,fL:()=>Bn,YV:()=>Mi,er:()=>$n,z3:()=>zn});var l=S(467),k=S(4438),ae=S(4964),G=S(177);class Ee{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,W){const _e=this.m.get(De);return void 0!==_e?_e:W}getBoolean(De,W=!1){const _e=this.m.get(De);return void 0===_e?W:"string"==typeof _e?"true"===_e:!!_e}getNumber(De,W){const _e=parseFloat(this.m.get(De));return isNaN(_e)?void 0!==W?W:NaN:_e}set(De,W){this.m.set(De,W)}}const oe=new Ee,Ue=pe=>Ce(pe),Ce=(pe=window)=>{if(typeof pe>"u")return[];pe.Ionic=pe.Ionic||{};let De=pe.Ionic.platforms;return null==De&&(De=pe.Ionic.platforms=Xe(pe),De.forEach(W=>pe.document.documentElement.classList.add(`plt-${W}`))),De},Xe=pe=>{const De=oe.get("platform");return Object.keys(bt).filter(W=>{const _e=null==De?void 0:De[W];return"function"==typeof _e?_e(pe):bt[W](pe)})},Me=pe=>!!(Nt(pe,/iPad/i)||Nt(pe,/Macintosh/i)&&$(pe)),Ae=pe=>Nt(pe,/android|sink/i),$=pe=>xt(pe,"(any-pointer:coarse)"),ne=pe=>K(pe)||be(pe),K=pe=>!!(pe.cordova||pe.phonegap||pe.PhoneGap),be=pe=>{const De=pe.Capacitor;return!(null==De||!De.isNative)},Nt=(pe,De)=>De.test(pe.navigator.userAgent),xt=(pe,De)=>{var W;return null===(W=pe.matchMedia)||void 0===W?void 0:W.call(pe,De).matches},bt={ipad:Me,iphone:pe=>Nt(pe,/iPhone/i),ios:pe=>Nt(pe,/iPhone|iPod/i)||Me(pe),android:Ae,phablet:pe=>{const De=pe.innerWidth,W=pe.innerHeight,_e=Math.min(De,W),ht=Math.max(De,W);return _e>390&&_e<520&&ht>620&&ht<800},tablet:pe=>{const De=pe.innerWidth,W=pe.innerHeight,_e=Math.min(De,W),ht=Math.max(De,W);return Me(pe)||(pe=>Ae(pe)&&!Nt(pe,/mobile/i))(pe)||_e>460&&_e<820&&ht>780&&ht<1400},cordova:K,capacitor:be,electron:pe=>Nt(pe,/electron/i),pwa:pe=>{var De;return!!(null!==(De=pe.matchMedia)&&void 0!==De&&De.call(pe,"(display-mode: standalone)").matches||pe.navigator.standalone)},mobile:$,mobileweb:pe=>$(pe)&&!ne(pe),desktop:pe=>!$(pe),hybrid:ne};var Te=S(6031),me=S(1656),ct=S(1413),Ie=S(3726),We=S(4412),Be=S(4572),tt=S(7673),$e=S(1635),ft=S(5964),Gt=S(5558),Bt=S(3294),Yt=S(4341);const jt=["tabsInner"];let vt=(()=>{class pe{constructor(W,_e){this.doc=W,this.backButton=new ct.B,this.keyboardDidShow=new ct.B,this.keyboardDidHide=new ct.B,this.pause=new ct.B,this.resume=new ct.B,this.resize=new ct.B,_e.run(()=>{var ht;let Ut;this.win=W.defaultView,this.backButton.subscribeWithPriority=function(sn,hn){return this.subscribe(An=>An.register(sn,Vn=>_e.run(()=>hn(Vn))))},Dn(this.pause,W,"pause",_e),Dn(this.resume,W,"resume",_e),Dn(this.backButton,W,"ionBackButton",_e),Dn(this.resize,this.win,"resize",_e),Dn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",_e),Dn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",_e),this._readyPromise=new Promise(sn=>{Ut=sn}),null!==(ht=this.win)&&void 0!==ht&&ht.cordova?W.addEventListener("deviceready",()=>{Ut("cordova")},{once:!0}):Ut("dom")})}is(W){return((pe,De)=>("string"==typeof pe&&(De=pe,pe=void 0),Ue(pe).includes(De)))(this.win,W)}platforms(){return Ue(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(W){return Zt(this.win.location.href,W)}isLandscape(){return!this.isPortrait()}isPortrait(){var W,_e;return null===(W=(_e=this.win).matchMedia)||void 0===W?void 0:W.call(_e,"(orientation: portrait)").matches}testUserAgent(W){const _e=this.win.navigator;return!!(null!=_e&&_e.userAgent&&_e.userAgent.indexOf(W)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return pe.\u0275fac=function(W){return new(W||pe)(k.KVO(G.qQ),k.KVO(k.SKi))},pe.\u0275prov=k.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Zt=(pe,De)=>{De=De.replace(/[[\]\\]/g,"\\$&");const _e=new RegExp("[\\?&]"+De+"=([^&#]*)").exec(pe);return _e?decodeURIComponent(_e[1].replace(/\+/g," ")):null},Dn=(pe,De,W,_e)=>{De&&De.addEventListener(W,ht=>{_e.run(()=>{pe.next(null!=ht?ht.detail:void 0)})})};let vn=(()=>{class pe{constructor(W,_e,ht,Ut){this.location=_e,this.serializer=ht,this.router=Ut,this.direction=ln,this.animated=In,this.guessDirection="forward",this.lastNavId=-1,Ut&&Ut.events.subscribe(sn=>{if(sn instanceof ae.Z){const hn=sn.restoredState?sn.restoredState.navigationId:sn.id;this.guessDirection=hn<this.lastNavId?"back":"forward",this.guessAnimation=sn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?sn.id:hn}}),W.backButton.subscribeWithPriority(0,sn=>{this.pop(),sn()})}navigateForward(W,_e={}){return this.setDirection("forward",_e.animated,_e.animationDirection,_e.animation),this.navigate(W,_e)}navigateBack(W,_e={}){return this.setDirection("back",_e.animated,_e.animationDirection,_e.animation),this.navigate(W,_e)}navigateRoot(W,_e={}){return this.setDirection("root",_e.animated,_e.animationDirection,_e.animation),this.navigate(W,_e)}back(W={animated:!0,animationDirection:"back"}){return this.setDirection("back",W.animated,W.animationDirection,W.animation),this.location.back()}pop(){var W=this;return(0,l.A)(function*(){let _e=W.topOutlet;for(;_e;){if(yield _e.pop())return!0;_e=_e.parentOutlet}return!1})()}setDirection(W,_e,ht,Ut){this.direction=W,this.animated=Sn(W,_e,ht),this.animationBuilder=Ut}setTopOutlet(W){this.topOutlet=W}consumeTransition(){let _e,W="root";const ht=this.animationBuilder;return"auto"===this.direction?(W=this.guessDirection,_e=this.guessAnimation):(_e=this.animated,W=this.direction),this.direction=ln,this.animated=In,this.animationBuilder=void 0,{direction:W,animation:_e,animationBuilder:ht}}navigate(W,_e){if(Array.isArray(W))return this.router.navigate(W,_e);{const ht=this.serializer.parse(W.toString());return void 0!==_e.queryParams&&(ht.queryParams={..._e.queryParams}),void 0!==_e.fragment&&(ht.fragment=_e.fragment),this.router.navigateByUrl(ht,_e)}}}return pe.\u0275fac=function(W){return new(W||pe)(k.KVO(vt),k.KVO(G.aZ),k.KVO(ae.Sd),k.KVO(ae.Ix,8))},pe.\u0275prov=k.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const Sn=(pe,De,W)=>{if(!1!==De){if(void 0!==W)return W;if("forward"===pe||"back"===pe)return pe;if("root"===pe&&!0===De)return"forward"}},ln="auto",In=void 0;let un=(()=>{class pe{get(W,_e){const ht=Wn();return ht?ht.get(W,_e):null}getBoolean(W,_e){const ht=Wn();return!!ht&&ht.getBoolean(W,_e)}getNumber(W,_e){const ht=Wn();return ht?ht.getNumber(W,_e):0}}return pe.\u0275fac=function(W){return new(W||pe)},pe.\u0275prov=k.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();const $t=new k.nKC("USERCONFIG"),Wn=()=>{if(typeof window<"u"){const pe=window.Ionic;if(null!=pe&&pe.config)return pe.config}return null};class Hn{constructor(De={}){this.data=De}get(De){return this.data[De]}}let or=(()=>{class pe{constructor(){this.zone=(0,k.WQX)(k.SKi),this.applicationRef=(0,k.WQX)(k.o8S)}create(W,_e,ht){return new On(W,_e,this.applicationRef,this.zone,ht)}}return pe.\u0275fac=function(W){return new(W||pe)},pe.\u0275prov=k.jDH({token:pe,factory:pe.\u0275fac}),pe})();class On{constructor(De,W,_e,ht,Ut){this.environmentInjector=De,this.injector=W,this.applicationRef=_e,this.zone=ht,this.elementReferenceKey=Ut,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(De,W,_e,ht){return this.zone.run(()=>new Promise(Ut=>{const sn={..._e};void 0!==this.elementReferenceKey&&(sn[this.elementReferenceKey]=De),Ut(ar(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,De,W,sn,ht,this.elementReferenceKey))}))}removeViewFromDom(De,W){return this.zone.run(()=>new Promise(_e=>{const ht=this.elRefMap.get(W);if(ht){ht.destroy(),this.elRefMap.delete(W);const Ut=this.elEventsMap.get(W);Ut&&(Ut(),this.elEventsMap.delete(W))}_e()}))}}const ar=(pe,De,W,_e,ht,Ut,sn,hn,An,Vn,Kr)=>{const At=k.zZn.create({providers:Pn(An),parent:W}),H=(0,k.a0P)(hn,{environmentInjector:De,elementInjector:At}),Y=H.instance,ze=H.location.nativeElement;if(An&&(Kr&&void 0!==Y[Kr]&&console.error(`[Ionic Error]: ${Kr} is a reserved property when using ${sn.tagName.toLowerCase()}. Rename or remove the "${Kr}" property from ${hn.name}.`),Object.assign(Y,An)),Vn)for(const st of Vn)ze.classList.add(st);const Le=pn(pe,Y,ze);return sn.appendChild(ze),_e.attachView(H.hostView),ht.set(ze,H),Ut.set(ze,Le),ze},Or=[Te.L,Te.a,Te.b,Te.c,Te.d],pn=(pe,De,W)=>pe.run(()=>{const _e=Or.filter(ht=>"function"==typeof De[ht]).map(ht=>{const Ut=sn=>De[ht](sn.detail);return W.addEventListener(ht,Ut),()=>W.removeEventListener(ht,Ut)});return()=>_e.forEach(ht=>ht())}),kr=new k.nKC("NavParamsToken"),Pn=pe=>[{provide:kr,useValue:pe},{provide:Hn,useFactory:Gn,deps:[kr]}],Gn=pe=>new Hn(pe),Dr=(pe,De)=>{const W=pe.prototype;De.forEach(_e=>{Object.defineProperty(W,_e,{get(){return this.el[_e]},set(ht){this.z.runOutsideAngular(()=>this.el[_e]=ht)}})})},mr=(pe,De)=>{const W=pe.prototype;De.forEach(_e=>{W[_e]=function(){const ht=arguments;return this.z.runOutsideAngular(()=>this.el[_e].apply(this.el,ht))}})},lr=(pe,De,W)=>{W.forEach(_e=>pe[_e]=(0,Ie.R)(De,_e))};function yr(pe){return function(W){const{defineCustomElementFn:_e,inputs:ht,methods:Ut}=pe;return void 0!==_e&&_e(),ht&&Dr(W,ht),Ut&&mr(W,Ut),W}}const Lr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ri=["present","dismiss","onDidDismiss","onWillDismiss"];let at=(()=>{let pe=class{constructor(W,_e,ht){this.z=ht,this.isCmpOpen=!1,this.el=_e.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,W.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,W.detectChanges()}),lr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(k.gRc),k.rXU(k.aKT),k.rXU(k.SKi))},pe.\u0275dir=k.FsC({type:pe,selectors:[["ion-popover"]],contentQueries:function(W,_e,ht){if(1&W&&k.wni(ht,k.C4Q,5),2&W){let Ut;k.mGM(Ut=k.lsd())&&(_e.template=Ut.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),pe=(0,$e.Cg)([yr({inputs:Lr,methods:ri})],pe),pe})();const Je=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Tt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ze=(()=>{let pe=class{constructor(W,_e,ht){this.z=ht,this.isCmpOpen=!1,this.el=_e.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,W.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,W.detectChanges()}),lr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(k.gRc),k.rXU(k.aKT),k.rXU(k.SKi))},pe.\u0275dir=k.FsC({type:pe,selectors:[["ion-modal"]],contentQueries:function(W,_e,ht){if(1&W&&k.wni(ht,k.C4Q,5),2&W){let Ut;k.mGM(Ut=k.lsd())&&(_e.template=Ut.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),pe=(0,$e.Cg)([yr({inputs:Je,methods:Tt})],pe),pe})();const de=(pe,De)=>((pe=pe.filter(W=>W.stackId!==De.stackId)).push(De),pe),et=(pe,De)=>{const W=pe.createUrlTree(["."],{relativeTo:De});return pe.serializeUrl(W)},qt=(pe,De)=>!De||pe.stackId!==De.stackId,_n=(pe,De)=>{if(!pe)return;const W=qn(De);for(let _e=0;_e<W.length;_e++){if(_e>=pe.length)return W[_e];if(W[_e]!==pe[_e])return}},qn=pe=>pe.split("/").map(De=>De.trim()).filter(De=>""!==De),Qn=pe=>{pe&&(pe.ref.destroy(),pe.unlistenEvents())};class Rr{constructor(De,W,_e,ht,Ut,sn){this.containerEl=W,this.router=_e,this.navCtrl=ht,this.zone=Ut,this.location=sn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==De?qn(De):void 0}createView(De,W){var _e;const ht=et(this.router,W),Ut=null==De||null===(_e=De.location)||void 0===_e?void 0:_e.nativeElement,sn=pn(this.zone,De.instance,Ut);return{id:this.nextId++,stackId:_n(this.tabsPrefix,ht),unlistenEvents:sn,element:Ut,ref:De,url:ht}}getExistingView(De){const W=et(this.router,De),_e=this.views.find(ht=>ht.url===W);return _e&&_e.ref.changeDetectorRef.reattach(),_e}setActive(De){var W,_e;const ht=this.navCtrl.consumeTransition();let{direction:Ut,animation:sn,animationBuilder:hn}=ht;const An=this.activeView,Vn=qt(De,An);Vn&&(Ut="back",sn=void 0);const Kr=this.views.slice();let At;const H=this.router;H.getCurrentNavigation?At=H.getCurrentNavigation():null!==(W=H.navigations)&&void 0!==W&&W.value&&(At=H.navigations.value),null!==(_e=At)&&void 0!==_e&&null!==(_e=_e.extras)&&void 0!==_e&&_e.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Y=this.views.includes(De),ze=this.insertView(De,Ut);Y||De.ref.changeDetectorRef.detectChanges();const Le=De.animationBuilder;return void 0===hn&&"back"===Ut&&!Vn&&void 0!==Le&&(hn=Le),An&&(An.animationBuilder=hn),this.zone.runOutsideAngular(()=>this.wait(()=>(An&&An.ref.changeDetectorRef.detach(),De.ref.changeDetectorRef.reattach(),this.transition(De,An,sn,this.canGoBack(1),!1,hn).then(()=>zr(De,ze,Kr,this.location,this.zone)).then(()=>({enteringView:De,direction:Ut,animation:sn,tabSwitch:Vn})))))}canGoBack(De,W=this.getActiveStackId()){return this.getStack(W).length>De}pop(De,W=this.getActiveStackId()){return this.zone.run(()=>{const _e=this.getStack(W);if(_e.length<=De)return Promise.resolve(!1);const ht=_e[_e.length-De-1];let Ut=ht.url;const sn=ht.savedData;if(sn){var hn;const Vn=sn.get("primary");null!=Vn&&null!==(hn=Vn.route)&&void 0!==hn&&null!==(hn=hn._routerState)&&void 0!==hn&&hn.snapshot.url&&(Ut=Vn.route._routerState.snapshot.url)}const{animationBuilder:An}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ut,{...ht.savedExtras,animation:An}).then(()=>!0)})}startBackTransition(){const De=this.activeView;if(De){const W=this.getStack(De.stackId),_e=W[W.length-2],ht=_e.animationBuilder;return this.wait(()=>this.transition(_e,De,"back",this.canGoBack(2),!0,ht))}return Promise.resolve()}endBackTransition(De){De?(this.skipTransition=!0,this.pop(1)):this.activeView&&kn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(De){const W=this.getStack(De);return W.length>0?W[W.length-1]:void 0}getRootUrl(De){const W=this.getStack(De);return W.length>0?W[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Qn),this.activeView=void 0,this.views=[]}getStack(De){return this.views.filter(W=>W.stackId===De)}insertView(De,W){return this.activeView=De,this.views=((pe,De,W)=>"root"===W?de(pe,De):"forward"===W?((pe,De)=>(pe.indexOf(De)>=0?pe=pe.filter(_e=>_e.stackId!==De.stackId||_e.id<=De.id):pe.push(De),pe))(pe,De):((pe,De)=>pe.indexOf(De)>=0?pe.filter(_e=>_e.stackId!==De.stackId||_e.id<=De.id):de(pe,De))(pe,De))(this.views,De,W),this.views.slice()}transition(De,W,_e,ht,Ut,sn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(W===De)return Promise.resolve(!1);const hn=De?De.element:void 0,An=W?W.element:void 0,Vn=this.containerEl;return hn&&hn!==An&&(hn.classList.add("ion-page"),hn.classList.add("ion-page-invisible"),hn.parentElement!==Vn&&Vn.appendChild(hn),Vn.commit)?Vn.commit(hn,An,{duration:void 0===_e?0:void 0,direction:_e,showGoBack:ht,progressAnimation:Ut,animationBuilder:sn}):Promise.resolve(!1)}wait(De){var W=this;return(0,l.A)(function*(){void 0!==W.runningTask&&(yield W.runningTask,W.runningTask=void 0);const _e=W.runningTask=De();return _e.finally(()=>W.runningTask=void 0),_e})()}}const zr=(pe,De,W,_e,ht)=>"function"==typeof requestAnimationFrame?new Promise(Ut=>{requestAnimationFrame(()=>{kn(pe,De,W,_e,ht),Ut()})}):Promise.resolve(),kn=(pe,De,W,_e,ht)=>{ht.run(()=>W.filter(Ut=>!De.includes(Ut)).forEach(Qn)),De.forEach(Ut=>{const hn=_e.path().split("?")[0].split("#")[0];if(Ut!==pe&&Ut.url!==hn){const An=Ut.element;An.setAttribute("aria-hidden","true"),An.classList.add("ion-page-hidden"),Ut.ref.changeDetectorRef.detach()}})};let gn=(()=>{class pe{constructor(W,_e,ht,Ut,sn,hn,An,Vn){this.parentOutlet=Vn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new We.t(null),this.activated=null,this._activatedRoute=null,this.name=ae.Xk,this.stackWillChange=new k.bkB,this.stackDidChange=new k.bkB,this.activateEvents=new k.bkB,this.deactivateEvents=new k.bkB,this.parentContexts=(0,k.WQX)(ae.Zp),this.location=(0,k.WQX)(k.c1b),this.environmentInjector=(0,k.WQX)(k.uvJ),this.inputBinder=(0,k.WQX)(Ur,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,k.WQX)(un),this.navCtrl=(0,k.WQX)(vn),this.nativeEl=Ut.nativeElement,this.name=W||ae.Xk,this.tabsPrefix="true"===_e?et(sn,An):void 0,this.stackCtrl=new Rr(this.tabsPrefix,this.nativeEl,sn,this.navCtrl,hn,ht),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(W){this.nativeEl.animation=W}set animated(W){this.nativeEl.animated=W}set swipeGesture(W){this._swipeGesture=W,this.nativeEl.swipeHandler=W?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:_e=>this.stackCtrl.endBackTransition(_e)}:void 0}ngOnDestroy(){var W;this.stackCtrl.destroy(),null===(W=this.inputBinder)||void 0===W||W.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const W=this.getContext();null!=W&&W.route&&this.activateWith(W.route,W.injector)}new Promise(W=>(0,me.c)(this.nativeEl,W)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(W,_e){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const _e=this.getContext();this.activatedView.savedData=new Map(_e.children.contexts);const ht=this.activatedView.savedData.get("primary");if(ht&&_e.route&&(ht.route={..._e.route}),this.activatedView.savedExtras={},_e.route){const Ut=_e.route.snapshot;this.activatedView.savedExtras.queryParams=Ut.queryParams,this.activatedView.savedExtras.fragment=Ut.fragment}}const W=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(W)}}activateWith(W,_e){var ht;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=W;let Ut,sn=this.stackCtrl.getExistingView(W);if(sn){Ut=this.activated=sn.ref;const Vn=sn.savedData;Vn&&(this.getContext().children.contexts=Vn),this.updateActivatedRouteProxy(Ut.instance,W)}else{var hn;const Vn=W._futureSnapshot,Kr=this.parentContexts.getOrCreateContext(this.name).children,At=new We.t(null),H=this.createActivatedRouteProxy(At,W),Y=new vi(H,Kr,this.location.injector),ze=null!==(hn=Vn.routeConfig.component)&&void 0!==hn?hn:Vn.component;Ut=this.activated=this.location.createComponent(ze,{index:this.location.length,injector:Y,environmentInjector:null!=_e?_e:this.environmentInjector}),At.next(Ut.instance),sn=this.stackCtrl.createView(this.activated,W),this.proxyMap.set(Ut.instance,H),this.currentActivatedRoute$.next({component:Ut.instance,activatedRoute:W})}null===(ht=this.inputBinder)||void 0===ht||ht.bindActivatedRouteToOutletComponent(this),this.activatedView=sn,this.navCtrl.setTopOutlet(this);const An=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:sn,tabSwitch:qt(sn,An)}),this.stackCtrl.setActive(sn).then(Vn=>{this.activateEvents.emit(Ut.instance),this.stackDidChange.emit(Vn)})}canGoBack(W=1,_e){return this.stackCtrl.canGoBack(W,_e)}pop(W=1,_e){return this.stackCtrl.pop(W,_e)}getLastUrl(W){const _e=this.stackCtrl.getLastUrl(W);return _e?_e.url:void 0}getLastRouteView(W){return this.stackCtrl.getLastUrl(W)}getRootView(W){return this.stackCtrl.getRootUrl(W)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(W,_e){const ht=new ae.nX;return ht._futureSnapshot=_e._futureSnapshot,ht._routerState=_e._routerState,ht.snapshot=_e.snapshot,ht.outlet=_e.outlet,ht.component=_e.component,ht._paramMap=this.proxyObservable(W,"paramMap"),ht._queryParamMap=this.proxyObservable(W,"queryParamMap"),ht.url=this.proxyObservable(W,"url"),ht.params=this.proxyObservable(W,"params"),ht.queryParams=this.proxyObservable(W,"queryParams"),ht.fragment=this.proxyObservable(W,"fragment"),ht.data=this.proxyObservable(W,"data"),ht}proxyObservable(W,_e){return W.pipe((0,ft.p)(ht=>!!ht),(0,Gt.n)(ht=>this.currentActivatedRoute$.pipe((0,ft.p)(Ut=>null!==Ut&&Ut.component===ht),(0,Gt.n)(Ut=>Ut&&Ut.activatedRoute[_e]),(0,Bt.F)())))}updateActivatedRouteProxy(W,_e){const ht=this.proxyMap.get(W);if(!ht)throw new Error("Could not find activated route proxy for view");ht._futureSnapshot=_e._futureSnapshot,ht._routerState=_e._routerState,ht.snapshot=_e.snapshot,ht.outlet=_e.outlet,ht.component=_e.component,this.currentActivatedRoute$.next({component:W,activatedRoute:_e})}}return pe.\u0275fac=function(W){return new(W||pe)(k.kS0("name"),k.kS0("tabs"),k.rXU(G.aZ),k.rXU(k.aKT),k.rXU(ae.Ix),k.rXU(k.SKi),k.rXU(ae.nX),k.rXU(pe,12))},pe.\u0275dir=k.FsC({type:pe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),pe})();class vi{constructor(De,W,_e){this.route=De,this.childContexts=W,this.parent=_e}get(De,W){return De===ae.nX?this.route:De===ae.Zp?this.childContexts:this.parent.get(De,W)}}const Ur=new k.nKC("");let Ai=(()=>{class pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(W){this.unsubscribeFromRouteData(W),this.subscribeToRouteData(W)}unsubscribeFromRouteData(W){var _e;null===(_e=this.outletDataSubscriptions.get(W))||void 0===_e||_e.unsubscribe(),this.outletDataSubscriptions.delete(W)}subscribeToRouteData(W){const{activatedRoute:_e}=W,ht=(0,Be.z)([_e.queryParams,_e.params,_e.data]).pipe((0,Gt.n)(([Ut,sn,hn],An)=>(hn={...Ut,...sn,...hn},0===An?(0,tt.of)(hn):Promise.resolve(hn)))).subscribe(Ut=>{if(!W.isActivated||!W.activatedComponentRef||W.activatedRoute!==_e||null===_e.component)return void this.unsubscribeFromRouteData(W);const sn=(0,k.HJs)(_e.component);if(sn)for(const{templateName:hn}of sn.inputs)W.activatedComponentRef.setInput(hn,Ut[hn]);else this.unsubscribeFromRouteData(W)});this.outletDataSubscriptions.set(W,ht)}}return pe.\u0275fac=function(W){return new(W||pe)},pe.\u0275prov=k.jDH({token:pe,factory:pe.\u0275fac}),pe})();const Mi=()=>({provide:Ur,useFactory:_i,deps:[ae.Ix]});function _i(pe){return null!=pe&&pe.componentInputBindingEnabled?new Ai:null}const tr=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Ti=(()=>{let pe=class{constructor(W,_e,ht,Ut,sn,hn){this.routerOutlet=W,this.navCtrl=_e,this.config=ht,this.r=Ut,this.z=sn,hn.detach(),this.el=this.r.nativeElement}onClick(W){var _e;const ht=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(_e=this.routerOutlet)&&void 0!==_e&&_e.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),W.preventDefault()):null!=ht&&(this.navCtrl.navigateBack(ht,{animation:this.routerAnimation}),W.preventDefault())}};return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(gn,8),k.rXU(vn),k.rXU(un),k.rXU(k.aKT),k.rXU(k.SKi),k.rXU(k.gRc))},pe.\u0275dir=k.FsC({type:pe,hostBindings:function(W,_e){1&W&&k.bIt("click",function(Ut){return _e.onClick(Ut)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),pe=(0,$e.Cg)([yr({inputs:tr})],pe),pe})(),Qr=(()=>{class pe{constructor(W,_e,ht,Ut,sn){this.locationStrategy=W,this.navCtrl=_e,this.elementRef=ht,this.router=Ut,this.routerLink=sn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var W;if(null!==(W=this.routerLink)&&void 0!==W&&W.urlTree){const _e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=_e}}onClick(W){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),W.preventDefault()}}return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(G.hb),k.rXU(vn),k.rXU(k.aKT),k.rXU(ae.Ix),k.rXU(ae.Wk,8))},pe.\u0275dir=k.FsC({type:pe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(W,_e){1&W&&k.bIt("click",function(Ut){return _e.onClick(Ut)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.OA$]}),pe})(),It=(()=>{class pe{constructor(W,_e,ht,Ut,sn){this.locationStrategy=W,this.navCtrl=_e,this.elementRef=ht,this.router=Ut,this.routerLink=sn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var W;if(null!==(W=this.routerLink)&&void 0!==W&&W.urlTree){const _e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=_e}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(G.hb),k.rXU(vn),k.rXU(k.aKT),k.rXU(ae.Ix),k.rXU(ae.Wk,8))},pe.\u0275dir=k.FsC({type:pe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(W,_e){1&W&&k.bIt("click",function(){return _e.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[k.OA$]}),pe})();const gt=["animated","animation","root","rootParams","swipeGesture"],Ot=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let dn=(()=>{let pe=class{constructor(W,_e,ht,Ut,sn,hn){this.z=sn,hn.detach(),this.el=W.nativeElement,W.nativeElement.delegate=Ut.create(_e,ht),lr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(k.aKT),k.rXU(k.uvJ),k.rXU(k.zZn),k.rXU(or),k.rXU(k.SKi),k.rXU(k.gRc))},pe.\u0275dir=k.FsC({type:pe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),pe=(0,$e.Cg)([yr({inputs:gt,methods:Ot})],pe),pe})(),bn=(()=>{class pe{constructor(W){this.navCtrl=W,this.ionTabsWillChange=new k.bkB,this.ionTabsDidChange=new k.bkB,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:W,tabSwitch:_e}){const ht=W.stackId;_e&&void 0!==ht&&this.ionTabsWillChange.emit({tab:ht})}onStackDidChange({enteringView:W,tabSwitch:_e}){const ht=W.stackId;_e&&void 0!==ht&&(this.tabBar&&(this.tabBar.selectedTab=ht),this.ionTabsDidChange.emit({tab:ht}))}select(W){const _e="string"==typeof W,ht=_e?W:W.detail.tab,Ut=this.outlet.getActiveStackId()===ht,sn=`${this.outlet.tabsPrefix}/${ht}`;if(_e||W.stopPropagation(),Ut){const hn=this.outlet.getActiveStackId(),An=this.outlet.getLastRouteView(hn);if((null==An?void 0:An.url)===sn)return;const Vn=this.outlet.getRootView(ht);return this.navCtrl.navigateRoot(sn,{...Vn&&sn===Vn.url&&Vn.savedExtras,animated:!0,animationDirection:"back"})}{const hn=this.outlet.getLastRouteView(ht);return this.navCtrl.navigateRoot((null==hn?void 0:hn.url)||sn,{...null==hn?void 0:hn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(W=>{const _e=W.el.getAttribute("slot");_e!==this.tabBarSlot&&(this.tabBarSlot=_e,this.relocateTabBar())})}relocateTabBar(){const W=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(W):this.tabsInner.nativeElement.after(W)}}return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(vn))},pe.\u0275dir=k.FsC({type:pe,selectors:[["ion-tabs"]],viewQuery:function(W,_e){if(1&W&&k.GBs(jt,7,k.aKT),2&W){let ht;k.mGM(ht=k.lsd())&&(_e.tabsInner=ht.first)}},hostBindings:function(W,_e){1&W&&k.bIt("ionTabButtonClick",function(Ut){return _e.select(Ut)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),pe})();const $n=pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(pe):setTimeout(pe);let Bn=(()=>{class pe{constructor(W,_e){this.injector=W,this.elementRef=_e,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(W){this.elementRef.nativeElement.value=this.lastValue=W,zn(this.elementRef)}handleValueChange(W,_e){W===this.elementRef.nativeElement&&(_e!==this.lastValue&&(this.lastValue=_e,this.onChange(_e)),zn(this.elementRef))}_handleBlurEvent(W){W===this.elementRef.nativeElement&&(this.onTouched(),zn(this.elementRef))}registerOnChange(W){this.onChange=W}registerOnTouched(W){this.onTouched=W}setDisabledState(W){this.elementRef.nativeElement.disabled=W}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let W;try{W=this.injector.get(Yt.vO)}catch{}if(!W)return;W.statusChanges&&(this.statusChanges=W.statusChanges.subscribe(()=>zn(this.elementRef)));const _e=W.control;_e&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ut=>{if(typeof _e[Ut]<"u"){const sn=_e[Ut].bind(_e);_e[Ut]=(...hn)=>{sn(...hn),zn(this.elementRef)}}})}}return pe.\u0275fac=function(W){return new(W||pe)(k.rXU(k.zZn),k.rXU(k.aKT))},pe.\u0275dir=k.FsC({type:pe,hostBindings:function(W,_e){1&W&&k.bIt("ionBlur",function(Ut){return _e._handleBlurEvent(Ut.target)})}}),pe})();const zn=pe=>{$n(()=>{const De=pe.nativeElement,W=null!=De.value&&De.value.toString().length>0,_e=Xn(De);xn(De,_e);const ht=De.closest("ion-item");ht&&xn(ht,W?[..._e,"item-has-value"]:_e)})},Xn=pe=>{const De=pe.classList,W=[];for(let _e=0;_e<De.length;_e++){const ht=De.item(_e);null!==ht&&ur(ht,"ng-")&&W.push(`ion-${ht.substring(3)}`)}return W},xn=(pe,De)=>{const W=pe.classList;W.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),W.add(...De)},ur=(pe,De)=>pe.substring(0,De.length)===De;class rr{shouldDetach(De){return!1}shouldAttach(De){return!1}store(De,W){}retrieve(De){return null}shouldReuseRoute(De,W){if(De.routeConfig!==W.routeConfig)return!1;const _e=De.params,ht=W.params,Ut=Object.keys(_e),sn=Object.keys(ht);if(Ut.length!==sn.length)return!1;for(const hn of Ut)if(ht[hn]!==_e[hn])return!1;return!0}}class go{constructor(De){this.ctrl=De}create(De){return this.ctrl.create(De||{})}dismiss(De,W,_e){return this.ctrl.dismiss(De,W,_e)}getTop(){return this.ctrl.getTop()}}},9364:(rn,ot,S)=>{"use strict";S.d(ot,{hG:()=>ze,U1:()=>ft,mC:()=>Gt,el:()=>ht,Jm:()=>ut,QW:()=>lt,b_:()=>vt,I9:()=>Zt,ME:()=>Dn,HW:()=>vn,tN:()=>Sn,W9:()=>$t,eU:()=>kr,iq:()=>Pn,KW:()=>Gn,$w:()=>lr,uz:()=>yr,he:()=>Ze,nf:()=>se,Sb:()=>An,FH:()=>Rr,KO:()=>zr,f0:()=>kn,Rg:()=>W,Jq:()=>Bn,qW:()=>zn,p4:()=>_e,IO:()=>Xn,BC:()=>rr,ai:()=>De,bv:()=>Sr,Xi:()=>kt,uR:()=>bt,N7:()=>sn,Je:()=>Ye,Gw:()=>fe,K_:()=>zt});var l=S(4438),k=S(4341),ae=S(7157),G=S(1635),Ee=S(3726),oe=S(177),ie=S(4964),Ue=(S(3503),S(1497),S(2604),S(3003),S(405),S(8436)),Fe=S(464),Xe=(S(7818),S(4133)),Me=(S(8476),S(9081));S(8221),S(9457);var xe=S(467);const He=Ue.i,$=function(){var C=(0,xe.A)(function*(re,M){if(!(typeof window>"u"))return yield He(),(0,Me.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),M)});return function(M,le){return C.apply(this,arguments)}}(),F=["*"],ne=["outlet"],K=[[["","slot","top"]],"*"],be=["[slot=top]","*"];function Ge(C,re){if(1&C&&(l.j41(0,"div",1),l.eu8(1,2),l.k0s()),2&C){const M=l.XpG();l.R7$(),l.Y8G("ngTemplateOutlet",M.template)}}let bt=(()=>{class C extends ae.fL{constructor(M,le){super(M,le)}_handleIonSelect(M){this.handleValueChange(M,M.checked)}}return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.zZn),l.rXU(l.aKT))},C.\u0275dir=l.FsC({type:C,selectors:[["ion-radio"]],hostBindings:function(M,le){1&M&&l.bIt("ionSelect",function(sr){return le._handleIonSelect(sr.target)})},features:[l.Jv_([{provide:k.kq,useExisting:C,multi:!0}]),l.Vt3]}),C})(),Ye=(()=>{class C extends ae.fL{constructor(M,le){super(M,le)}_handleChangeEvent(M){this.handleValueChange(M,M.value)}}return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.zZn),l.rXU(l.aKT))},C.\u0275dir=l.FsC({type:C,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(M,le){1&M&&l.bIt("ionChange",function(sr){return le._handleChangeEvent(sr.target)})},features:[l.Jv_([{provide:k.kq,useExisting:C,multi:!0}]),l.Vt3]}),C})(),fe=(()=>{class C extends ae.fL{constructor(M,le){super(M,le)}_handleInputEvent(M){this.handleValueChange(M,M.value)}}return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.zZn),l.rXU(l.aKT))},C.\u0275dir=l.FsC({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(M,le){1&M&&l.bIt("ionInput",function(sr){return le._handleInputEvent(sr.target)})},features:[l.Jv_([{provide:k.kq,useExisting:C,multi:!0}]),l.Vt3]}),C})();const ve=(C,re)=>{const M=C.prototype;re.forEach(le=>{Object.defineProperty(M,le,{get(){return this.el[le]},set(rt){this.z.runOutsideAngular(()=>this.el[le]=rt)},configurable:!0})})},Te=(C,re)=>{const M=C.prototype;re.forEach(le=>{M[le]=function(){const rt=arguments;return this.z.runOutsideAngular(()=>this.el[le].apply(this.el,rt))}})},me=(C,re,M)=>{M.forEach(le=>C[le]=(0,Ee.R)(re,le))};function Ie(C){return function(M){const{defineCustomElementFn:le,inputs:rt,methods:sr}=C;return void 0!==le&&le(),rt&&ve(M,rt),sr&&Te(M,sr),M}}let ft=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-app"]],ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({})],C),C})(),Gt=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-avatar"]],ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({})],C),C})(),ut=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],C),C})(),lt=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["collapse"]})],C),C})(),vt=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],C),C})(),Zt=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["mode"]})],C),C})(),Dn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode","translucent"]})],C),C})(),vn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode"]})],C),C})(),Sn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode"]})],C),C})(),$t=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],C),C})(),kr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["collapse","mode","translucent"]})],C),C})(),Pn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],C),C})(),Gn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["alt","src"]})],C),C})(),lr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],C),C})(),yr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],C),C})(),Ze=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode","position"]})],C),C})(),se=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],C),C})(),Rr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["buffer","color","mode","reversed","type","value"]})],C),C})(),zr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionFocus","ionBlur"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],C),C})(),kn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement,me(this,this.el,["ionChange"])}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["allowEmptySelection","compareWith","name","value"]})],C),C})(),Bn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode","selectedTab","translucent"]})],C),C})(),zn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],C),C})(),Xn=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode"]})],C),C})(),rr=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","size"]})],C),C})(),De=(()=>{let C=class{constructor(M,le,rt){this.z=rt,M.detach(),this.el=le.nativeElement}};return C.\u0275fac=function(M){return new(M||C)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C=(0,G.Cg)([Ie({inputs:["color","mode"]})],C),C})(),W=(()=>{class C extends ae.Rg{constructor(M,le,rt,sr,ir,Pi,li,mi){super(M,le,rt,sr,ir,Pi,li,mi),this.parentOutlet=mi}}return C.\u0275fac=function(M){return new(M||C)(l.kS0("name"),l.kS0("tabs"),l.rXU(oe.aZ),l.rXU(l.aKT),l.rXU(ie.Ix),l.rXU(l.SKi),l.rXU(ie.nX),l.rXU(C,12))},C.\u0275dir=l.FsC({type:C,selectors:[["ion-router-outlet"]],features:[l.Vt3]}),C})(),_e=(()=>{class C extends ae.p4{}return C.\u0275fac=(()=>{let re;return function(le){return(re||(re=l.xGo(C)))(le||C)}})(),C.\u0275cmp=l.VBU({type:C,selectors:[["ion-tabs"]],contentQueries:function(M,le,rt){if(1&M&&(l.wni(rt,Bn,5),l.wni(rt,Bn,4)),2&M){let sr;l.mGM(sr=l.lsd())&&(le.tabBar=sr.first),l.mGM(sr=l.lsd())&&(le.tabBars=sr)}},viewQuery:function(M,le){if(1&M&&l.GBs(ne,5,W),2&M){let rt;l.mGM(rt=l.lsd())&&(le.outlet=rt.first)}},features:[l.Vt3],ngContentSelectors:be,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(M,le){if(1&M){const rt=l.RV6();l.NAR(K),l.SdG(0),l.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),l.bIt("stackWillChange",function(ir){return l.eBV(rt),l.Njj(le.onStackWillChange(ir))})("stackDidChange",function(ir){return l.eBV(rt),l.Njj(le.onStackDidChange(ir))}),l.k0s()(),l.SdG(5,1)}},dependencies:[W],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),C})(),ht=(()=>{class C extends ae.el{constructor(M,le,rt,sr,ir,Pi){super(M,le,rt,sr,ir,Pi)}}return C.\u0275fac=function(M){return new(M||C)(l.rXU(W,8),l.rXU(ae.q9),l.rXU(ae.TS),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc))},C.\u0275cmp=l.VBU({type:C,selectors:[["ion-back-button"]],features:[l.Vt3],ngContentSelectors:F,decls:1,vars:0,template:function(M,le){1&M&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0}),C})(),sn=(()=>{class C extends ae.CE{}return C.\u0275fac=(()=>{let re;return function(le){return(re||(re=l.xGo(C)))(le||C)}})(),C.\u0275dir=l.FsC({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.Vt3]}),C})(),An=(()=>{class C extends ae.Sb{}return C.\u0275fac=(()=>{let re;return function(le){return(re||(re=l.xGo(C)))(le||C)}})(),C.\u0275cmp=l.VBU({type:C,selectors:[["ion-modal"]],features:[l.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(M,le){1&M&&l.DNE(0,Ge,2,1,"div",0),2&M&&l.Y8G("ngIf",le.isCmpOpen||le.keepContentsMounted)},dependencies:[oe.bT,oe.T3],encapsulation:2,changeDetection:0}),C})();const Kr={provide:k.cz,useExisting:(0,l.Rfq)(()=>At),multi:!0};let At=(()=>{class C extends k.zX{}return C.\u0275fac=(()=>{let re;return function(le){return(re||(re=l.xGo(C)))(le||C)}})(),C.\u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,le){2&M&&l.BMQ("max",le._enabled?le.max:null)},features:[l.Jv_([Kr]),l.Vt3]}),C})();const H={provide:k.cz,useExisting:(0,l.Rfq)(()=>Y),multi:!0};let Y=(()=>{class C extends k.VZ{}return C.\u0275fac=(()=>{let re;return function(le){return(re||(re=l.xGo(C)))(le||C)}})(),C.\u0275dir=l.FsC({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,le){2&M&&l.BMQ("min",le._enabled?le.min:null)},features:[l.Jv_([H]),l.Vt3]}),C})(),ze=(()=>{class C extends ae.Kb{constructor(){super(Xe.a)}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),kt=(()=>{class C extends ae.Kb{constructor(){super(Xe.l)}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Jt=(()=>{class C extends ae.Kb{constructor(){super(Xe.m),this.angularDelegate=(0,l.WQX)(ae.Yq),this.injector=(0,l.WQX)(l.zZn),this.environmentInjector=(0,l.WQX)(l.uvJ)}create(M){return super.create({...M,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac}),C})();class tn extends ae.Kb{constructor(){super(Xe.c),this.angularDelegate=(0,l.WQX)(ae.Yq),this.injector=(0,l.WQX)(l.zZn),this.environmentInjector=(0,l.WQX)(l.uvJ)}create(re){return super.create({...re,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let zt=(()=>{class C extends ae.Kb{constructor(){super(Xe.t)}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const Rn=(C,re,M)=>()=>{const le=re.defaultView;if(le&&typeof window<"u"){(0,Fe.s)({...C,_zoneGate:sr=>M.run(sr)});const rt="__zone_symbol__addEventListener"in re.body?"__zone_symbol__addEventListener":"addEventListener";return function Ve(){var C=[];if(typeof window<"u"){var re=window;(!re.customElements||re.Element&&(!re.Element.prototype.closest||!re.Element.prototype.matches||!re.Element.prototype.remove||!re.Element.prototype.getRootNode))&&C.push(S.e(7278).then(S.t.bind(S,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||re.NodeList&&!re.NodeList.prototype.forEach||!re.fetch||!function(){try{var le=new URL("b","http://a");return le.pathname="c%20d","http://a/c%20d"===le.href&&le.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(S.e(9329).then(S.t.bind(S,7783,23)))}return Promise.all(C)}().then(()=>$(le,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ae.er,jmp:sr=>M.runOutsideAngular(sr),ael(sr,ir,Pi,li){sr[rt](ir,Pi,li)},rel(sr,ir,Pi,li){sr.removeEventListener(ir,Pi,li)}}))}};let Sr=(()=>{class C{static forRoot(M){return{ngModule:C,providers:[{provide:ae.sR,useValue:M},{provide:l.hnV,useFactory:Rn,multi:!0,deps:[ae.sR,oe.qQ,l.SKi]},(0,ae.YV)()]}}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275mod=l.$C({type:C}),C.\u0275inj=l.G2t({providers:[ae.Yq,Jt,tn],imports:[oe.MD]}),C})()},2214:(rn,ot,S)=>{"use strict";S.d(ot,{Dk:()=>l.getApps});var l=S(7852);(0,l.registerVersion)("firebase","10.11.0","app")},7935:(rn,ot,S)=>{"use strict";S.d(ot,{A:()=>l.A});var l=S(3345);l.A.registerVersion("firebase","10.11.0","app-compat")},509:(rn,ot,S)=>{"use strict";S.r(ot);var l=S(467),k=S(3345),ae=S(7852),G=S(1076),Ee=S(8041),oe=S(1635),ie=S(1362);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ce=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xe=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new G.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new Ee.Vy("@firebase/auth");function Ae(v,...f){Oe.logLevel<=Ee.$b.ERROR&&Oe.error(`Auth (${ae.SDK_VERSION}): ${v}`,...f)}function Ve(v,...f){throw ne(v,...f)}function xe(v,...f){return ne(v,...f)}function He(v,f,p){const I=Object.assign(Object.assign({},Xe()),{[f]:p});return new G.FA("auth","Firebase",I).create(f,{appName:v.name})}function $(v){return He(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F(v,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ve(v,"argument-error"),He(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ne(v,...f){if("string"!=typeof v){const p=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(p,...I)}return Re.create(v,...f)}function K(v,f,...p){if(!v)throw ne(f,...p)}function be(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Ae(f),new Error(f)}function Ge(v,f){v||be(f)}function qe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Nt(){return"http:"===xt()||"https:"===xt()}function xt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class fe{constructor(f,p){this.shortDelay=f,this.longDelay=p,Ge(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,G.jZ)()||(0,G.lV)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,G.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ve(v,f){Ge(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Te{static initialize(f,p,I){this.fetchImpl=f,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=new fe(3e4,6e4);function Ie(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function We(v,f,p,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,l.A)(function*(v,f,p,I,L={}){return tt(v,L,(0,l.A)(function*(){let Z={},Ke={};I&&("GET"===f?Ke=I:Z={body:JSON.stringify(I)});const pt=(0,G.Am)(Object.assign({key:v.config.apiKey},Ke)).slice(1),Vt=yield v._getAdditionalHeaders();return Vt["Content-Type"]="application/json",v.languageCode&&(Vt["X-Firebase-Locale"]=v.languageCode),Te.fetch()(Bt(v,v.config.apiHost,p,pt),Object.assign({method:f,headers:Vt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function tt(v,f,p){return $e.apply(this,arguments)}function $e(){return($e=(0,l.A)(function*(v,f,p){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},me),f);try{const L=new jt(v),Z=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const Ke=yield Z.json();if("needConfirmation"in Ke)throw yt(v,"account-exists-with-different-credential",Ke);if(Z.ok&&!("errorMessage"in Ke))return Ke;{const pt=Z.ok?Ke.errorMessage:Ke.error.message,[Vt,En]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw yt(v,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===Vt)throw yt(v,"email-already-in-use",Ke);if("USER_DISABLED"===Vt)throw yt(v,"user-disabled",Ke);const Fn=I[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw He(v,Fn,En);Ve(v,Fn)}}catch(L){if(L instanceof G.g)throw L;Ve(v,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function ft(v,f,p,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.A)(function*(v,f,p,I,L={}){const Z=yield We(v,f,p,I,L);return"mfaPendingCredential"in Z&&Ve(v,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Bt(v,f,p,I){const L=`${f}${p}?${I}`;return v.config.emulator?ve(v.config,L):`${v.config.apiScheme}://${L}`}function Yt(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(xe(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yt(v,f,p){const I={appName:v.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const L=xe(v,f,I);return L.customData._tokenResponse=p,L}function ut(v){return void 0!==v&&void 0!==v.getResponse}function lt(v){return void 0!==v&&void 0!==v.enterprise}class vt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return Yt(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Dn(){return(Dn=(0,l.A)(function*(v){return(yield We(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vn(v,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.A)(function*(v,f){return We(v,"GET","/v2/recaptchaConfig",Ie(v,f))})).apply(this,arguments)}function In(){return(In=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function $t(){return($t=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wn(v,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function or(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Or(){return(Or=(0,l.A)(function*(v,f=!1){const p=(0,G.Ku)(v),I=yield p.getIdToken(f),L=kr(I);K(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const Z="object"==typeof L.firebase?L.firebase:void 0,Ke=null==Z?void 0:Z.sign_in_provider;return{claims:L,token:I,authTime:or(pn(L.auth_time)),issuedAtTime:or(pn(L.iat)),expirationTime:or(pn(L.exp)),signInProvider:Ke||null,signInSecondFactor:(null==Z?void 0:Z.sign_in_second_factor)||null}})).apply(this,arguments)}function pn(v){return 1e3*Number(v)}function kr(v){const[f,p,I]=v.split(".");if(void 0===f||void 0===p||void 0===I)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,G.u)(p);return L?JSON.parse(L):(Ae("Failed to decode base64 JWT payload"),null)}catch(L){return Ae("Caught error parsing JWT payload as JSON",null==L?void 0:L.toString()),null}}function Pn(v){const f=kr(v);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function Gn(v,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.A)(function*(v,f,p=!1){if(p)return f;try{return yield f}catch(I){throw I instanceof G.g&&function mr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class lr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,l.A)(function*(){yield p.iteration()}),I)}iteration(){var f=this;return(0,l.A)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class yr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(v){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.A)(function*(v){var f;const p=v.auth,I=yield v.getIdToken(),L=yield Gn(v,Wn(p,{idToken:I}));K(null==L?void 0:L.users.length,p,"internal-error");const Z=L.users[0];v._notifyReloadListener(Z);const Ke=null!==(f=Z.providerUserInfo)&&void 0!==f&&f.length?Ze(Z.providerUserInfo):[],pt=function Tt(v,f){return[...v.filter(I=>!f.some(L=>L.providerId===I.providerId)),...f]}(v.providerData,Ke),Fn=!!v.isAnonymous&&!(v.email&&Z.passwordHash||null!=pt&&pt.length),yn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:pt,metadata:new yr(Z.createdAt,Z.lastLoginAt),isAnonymous:Fn};Object.assign(v,yn)})).apply(this,arguments)}function Je(){return(Je=(0,l.A)(function*(v){const f=(0,G.Ku)(v);yield Lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ze(v){return v.map(f=>{var{providerId:p}=f,I=(0,oe.Tt)(f,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function de(){return(de=(0,l.A)(function*(v,f){const p=yield tt(v,{},(0,l.A)(function*(){const I=(0,G.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:L,apiKey:Z}=v.config,Ke=Bt(v,L,"/v1/token",`key=${Z}`),pt=yield v._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(Ke,{method:"POST",headers:pt,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function mt(){return(mt=(0,l.A)(function*(v,f){return We(v,"POST","/v2/accounts:revokeToken",Ie(v,f))})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):Pn(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}updateFromIdToken(f){K(0!==f.length,"internal-error");const p=Pn(f);this.updateTokensAndExpiration(f,null,p)}getToken(f,p=!1){var I=this;return(0,l.A)(function*(){return p||!I.accessToken||I.isExpired?(K(I.refreshToken,f,"user-token-expired"),I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var I=this;return(0,l.A)(function*(){const{accessToken:L,refreshToken:Z,expiresIn:Ke}=yield function se(v,f){return de.apply(this,arguments)}(f,p);I.updateTokensAndExpiration(L,Z,Number(Ke))})()}updateTokensAndExpiration(f,p,I){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,p){const{refreshToken:I,accessToken:L,expirationTime:Z}=p,Ke=new et;return I&&(K("string"==typeof I,"internal-error",{appName:f}),Ke.refreshToken=I),L&&(K("string"==typeof L,"internal-error",{appName:f}),Ke.accessToken=L),Z&&(K("number"==typeof Z,"internal-error",{appName:f}),Ke.expirationTime=Z),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return be("not implemented")}}function qt(v,f){K("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class _n{constructor(f){var{uid:p,auth:I,stsTokenManager:L}=f,Z=(0,oe.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new yr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,l.A)(function*(){const I=yield Gn(p,p.stsTokenManager.getToken(p.auth,f));return K(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(f){return function ar(v){return Or.apply(this,arguments)}(this,f)}reload(){return function at(v){return Je.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new _n(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var I=this;return(0,l.A)(function*(){let L=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),L=!0),p&&(yield Lr(I)),yield I.auth._persistUserIfCurrent(I),L&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,l.A)(function*(){if((0,ae._isFirebaseServerApp)(f.auth.app))return Promise.reject($(f.auth));const p=yield f.getIdToken();return yield Gn(f,function ln(v,f){return In.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var I,L,Z,Ke,pt,Vt,En,Fn;const yn=null!==(I=p.displayName)&&void 0!==I?I:void 0,ni=null!==(L=p.email)&&void 0!==L?L:void 0,Ds=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,Ac=null!==(Ke=p.photoURL)&&void 0!==Ke?Ke:void 0,Mh=null!==(pt=p.tenantId)&&void 0!==pt?pt:void 0,md=null!==(Vt=p._redirectEventId)&&void 0!==Vt?Vt:void 0,Kf=null!==(En=p.createdAt)&&void 0!==En?En:void 0,Ph=null!==(Fn=p.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:_a,emailVerified:Dl,isAnonymous:xh,providerData:Nh,stsTokenManager:Oh}=p;K(_a&&Oh,f,"internal-error");const $a=et.fromJSON(this.name,Oh);K("string"==typeof _a,f,"internal-error"),qt(yn,f.name),qt(ni,f.name),K("boolean"==typeof Dl,f,"internal-error"),K("boolean"==typeof xh,f,"internal-error"),qt(Ds,f.name),qt(Ac,f.name),qt(Mh,f.name),qt(md,f.name),qt(Kf,f.name),qt(Ph,f.name);const Tc=new _n({uid:_a,auth:f,email:ni,emailVerified:Dl,displayName:yn,isAnonymous:xh,photoURL:Ac,phoneNumber:Ds,tenantId:Mh,stsTokenManager:$a,createdAt:Kf,lastLoginAt:Ph});return Nh&&Array.isArray(Nh)&&(Tc.providerData=Nh.map(qf=>Object.assign({},qf))),md&&(Tc._redirectEventId=md),Tc}static _fromIdTokenResponse(f,p,I=!1){return(0,l.A)(function*(){const L=new et;L.updateFromServerResponse(p);const Z=new _n({uid:p.localId,auth:f,stsTokenManager:L,isAnonymous:I});return yield Lr(Z),Z})()}static _fromGetAccountInfoResponse(f,p,I){return(0,l.A)(function*(){const L=p.users[0];K(void 0!==L.localId,"internal-error");const Z=void 0!==L.providerUserInfo?Ze(L.providerUserInfo):[],Ke=!(L.email&&L.passwordHash||null!=Z&&Z.length),pt=new et;pt.updateFromIdToken(I);const Vt=new _n({uid:L.localId,auth:f,stsTokenManager:pt,isAnonymous:Ke}),En={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Z,metadata:new yr(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash||null!=Z&&Z.length)};return Object.assign(Vt,En),Vt})()}}const qn=new Map;function Qn(v){Ge(v instanceof Function,"Expected a class definition");let f=qn.get(v);return f?(Ge(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,qn.set(v,f),f)}const zr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(p,I){var L=this;return(0,l.A)(function*(){L.storage[p]=I})()}_get(p){var I=this;return(0,l.A)(function*(){const L=I.storage[p];return void 0===L?null:L})()}_remove(p){var I=this;return(0,l.A)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return v.type="NONE",v})();function kn(v,f,p){return`firebase:${v}:${f}:${p}`}class gn{constructor(f,p,I){this.persistence=f,this.auth=p,this.userKey=I;const{config:L,name:Z}=this.auth;this.fullUserKey=kn(this.userKey,L.apiKey,Z),this.fullPersistenceKey=kn("persistence",L.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.A)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?_n._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,l.A)(function*(){if(p.persistence===f)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,I="authUser"){return(0,l.A)(function*(){if(!p.length)return new gn(Qn(zr),f,I);const L=(yield Promise.all(p.map(function(){var En=(0,l.A)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return En.apply(this,arguments)}}()))).filter(En=>En);let Z=L[0]||Qn(zr);const Ke=kn(I,f.config.apiKey,f.name);let pt=null;for(const En of p)try{const Fn=yield En._get(Ke);if(Fn){const yn=_n._fromJSON(f,Fn);En!==Z&&(pt=yn),Z=En;break}}catch{}const Vt=L.filter(En=>En._shouldAllowMigration);return Z._shouldAllowMigration&&Vt.length?(Z=Vt[0],pt&&(yield Z._set(Ke,pt.toJSON())),yield Promise.all(p.map(function(){var En=(0,l.A)(function*(Fn){if(Fn!==Z)try{yield Fn._remove(Ke)}catch{}});return function(Fn){return En.apply(this,arguments)}}())),new gn(Z,f,I)):new gn(Z,f,I)})()}}function vi(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(_i(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ur(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ti(f))return"Blackberry";if(Qr(f))return"Webos";if(Ai(f))return"Safari";if((f.includes("chrome/")||Mi(f))&&!f.includes("edge/"))return"Chrome";if(tr(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Ur(v=(0,G.ZQ)()){return/firefox\//i.test(v)}function Ai(v=(0,G.ZQ)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Mi(v=(0,G.ZQ)()){return/crios\//i.test(v)}function _i(v=(0,G.ZQ)()){return/iemobile/i.test(v)}function tr(v=(0,G.ZQ)()){return/android/i.test(v)}function Ti(v=(0,G.ZQ)()){return/blackberry/i.test(v)}function Qr(v=(0,G.ZQ)()){return/webos/i.test(v)}function It(v=(0,G.ZQ)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function bn(v=(0,G.ZQ)()){return It(v)||tr(v)||Qr(v)||Ti(v)||/windows phone/i.test(v)||_i(v)}function Bn(v,f=[]){let p;switch(v){case"Browser":p=vi((0,G.ZQ)());break;case"Worker":p=`${vi((0,G.ZQ)())}-${v}`;break;default:p=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${I}`}class zn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const I=Z=>new Promise((Ke,pt)=>{try{Ke(f(Z))}catch(Vt){pt(Vt)}});I.onAbort=p,this.queue.push(I);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,l.A)(function*(){if(p.auth.currentUser===f)return;const I=[];try{for(const L of p.queue)yield L(f),L.onAbort&&I.push(L.onAbort)}catch(L){I.reverse();for(const Z of I)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==L?void 0:L.message})}})()}}function xn(){return(xn=(0,l.A)(function*(v,f={}){return We(v,"GET","/v2/passwordPolicy",Ie(v,f))})).apply(this,arguments)}class rr{constructor(f){var p,I,L,Z;const Ke=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ke.minPasswordLength)&&void 0!==p?p:6,Ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ke.maxPasswordLength),void 0!==Ke.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ke.containsLowercaseCharacter),void 0!==Ke.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ke.containsUppercaseCharacter),void 0!==Ke.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ke.containsNumericCharacter),void 0!==Ke.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ke.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(L=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==L?L:"",this.forceUpgradeOnSignin=null!==(Z=f.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,I,L,Z,Ke,pt;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Vt),this.validatePasswordCharacterOptions(f,Vt),Vt.isValid&&(Vt.isValid=null===(p=Vt.meetsMinPasswordLength)||void 0===p||p),Vt.isValid&&(Vt.isValid=null===(I=Vt.meetsMaxPasswordLength)||void 0===I||I),Vt.isValid&&(Vt.isValid=null===(L=Vt.containsLowercaseLetter)||void 0===L||L),Vt.isValid&&(Vt.isValid=null===(Z=Vt.containsUppercaseLetter)||void 0===Z||Z),Vt.isValid&&(Vt.isValid=null===(Ke=Vt.containsNumericCharacter)||void 0===Ke||Ke),Vt.isValid&&(Vt.isValid=null===(pt=Vt.containsNonAlphanumericCharacter)||void 0===pt||pt),Vt}validatePasswordLengthOptions(f,p){const I=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=f.length>=I),L&&(p.meetsMaxPasswordLength=f.length<=L)}validatePasswordCharacterOptions(f,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let L=0;L<f.length;L++)I=f.charAt(L),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,p,I,L,Z){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Z))}}class go{constructor(f,p,I,L){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new De(this),this.idTokenSubscription=new De(this),this.beforeStateQueue=new zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(f,p){var I=this;return p&&(this._popupRedirectResolver=Qn(p)),this._initializationPromise=this.queue((0,l.A)(function*(){var L,Z;if(!I._deleted&&(I.persistenceManager=yield gn.create(I,f),!I._deleted)){if(null!==(L=I._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(Z=I.currentUser)||void 0===Z?void 0:Z.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.A)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(f){var p=this;return(0,l.A)(function*(){try{const I=yield Wn(p,{idToken:f}),L=yield _n._fromGetAccountInfoResponse(p,I,f);yield p.directlySetCurrentUser(L)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var p=this;return(0,l.A)(function*(){var I;if((0,ae._isFirebaseServerApp)(p.app)){const pt=p.app.settings.authIdToken;return pt?new Promise(Vt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(pt).then(Vt,Vt))}):p.directlySetCurrentUser(null)}const L=yield p.assertedPersistence.getCurrentUser();let Z=L,Ke=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const pt=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,Vt=null==Z?void 0:Z._redirectEventId,En=yield p.tryRedirectSignIn(f);(!pt||pt===Vt)&&null!=En&&En.user&&(Z=En.user,Ke=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ke)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(pt){Z=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(pt))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return K(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(f){var p=this;return(0,l.A)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,l.A)(function*(){try{yield Lr(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,l.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,l.A)(function*(){if((0,ae._isFirebaseServerApp)(p.app))return Promise.reject($(p));const I=f?(0,G.Ku)(f):null;return I&&K(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(f,p=!1){var I=this;return(0,l.A)(function*(){if(!I._deleted)return f&&K(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,l.A)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.A)(function*(){return(0,ae._isFirebaseServerApp)(f.app)?Promise.reject($(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var p=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject($(this)):this.queue((0,l.A)(function*(){yield p.assertedPersistence.setPersistence(Qn(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,l.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.A)(function*(){const p=yield function Xn(v){return xn.apply(this,arguments)}(f),I=new rr(p);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new G.FA("auth","Firebase",f())}onAuthStateChanged(f,p,I){return this.registerStateListener(this.authStateSubscription,f,p,I)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,I){return this.registerStateListener(this.idTokenSubscription,f,p,I)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,l.A)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),L={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=p.tenantId&&(L.tenantId=p.tenantId),yield function Pe(v,f){return mt.apply(this,arguments)}(p,L)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var I=this;return(0,l.A)(function*(){const L=yield I.getOrInitRedirectPersistenceManager(p);return null===f?L.removeCurrentUser():L.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,l.A)(function*(){if(!p.redirectPersistenceManager){const I=f&&Qn(f)||p._popupRedirectResolver;K(I,p,"argument-error"),p.redirectPersistenceManager=yield gn.create(p,[Qn(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,l.A)(function*(){var I,L;return p._isInitialized&&(yield p.queue((0,l.A)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===f?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,l.A)(function*(){if(f===p.currentUser)return p.queue((0,l.A)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,I,L){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p);let Ke=!1;const pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(pt,this,"internal-error"),pt.then(()=>{Ke||Z(this.currentUser)}),"function"==typeof p){const Vt=f.addObserver(p,I,L);return()=>{Ke=!0,Vt()}}{const Vt=f.addObserver(p);return()=>{Ke=!0,Vt()}}}directlySetCurrentUser(f){var p=this;return(0,l.A)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.A)(function*(){var p;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const L=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(I["X-Firebase-Client"]=L);const Z=yield f._getAppCheckToken();return Z&&(I["X-Firebase-AppCheck"]=Z),I})()}_getAppCheckToken(){var f=this;return(0,l.A)(function*(){var p;const I=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function dt(v,...f){Oe.logLevel<=Ee.$b.WARN&&Oe.warn(`Auth (${ae.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function pe(v){return(0,G.Ku)(v)}class De{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,G.tD)(p=>this.observer=p)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let W={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ht(v){return W.loadJS(v)}function An(v){return`__${v}${Math.floor(1e6*Math.random())}`}class At{constructor(f){this.type="recaptcha-enterprise",this.auth=pe(f)}verify(f="verify",p=!1){var I=this;return(0,l.A)(function*(){function Z(){return Z=(0,l.A)(function*(pt){if(!p){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var Vt=(0,l.A)(function*(En,Fn){vn(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yn=>{if(void 0!==yn.recaptchaKey){const ni=new vt(yn);return null==pt.tenantId?pt._agentRecaptchaConfig=ni:pt._tenantRecaptchaConfigs[pt.tenantId]=ni,En(ni.siteKey)}Fn(new Error("recaptcha Enterprise site key undefined"))}).catch(yn=>{Fn(yn)})});return function(En,Fn){return Vt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ke(pt,Vt,En){const Fn=window.grecaptcha;lt(Fn)?Fn.enterprise.ready(()=>{Fn.enterprise.execute(pt,{action:f}).then(yn=>{Vt(yn)}).catch(()=>{Vt("NO_RECAPTCHA")})}):En(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,Vt)=>{(function L(pt){return Z.apply(this,arguments)})(I.auth).then(En=>{if(!p&&lt(window.grecaptcha))Ke(En,pt,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));let Fn=function sn(){return W.recaptchaEnterpriseScript}();0!==Fn.length&&(Fn+=En),ht(Fn).then(()=>{Ke(En,pt,Vt)}).catch(yn=>{Vt(yn)})}}).catch(En=>{Vt(En)})})})()}}function H(v,f,p){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.A)(function*(v,f,p,I=!1){const L=new At(v);let Z;try{Z=yield L.verify(p)}catch{Z=yield L.verify(p,!0)}const Ke=Object.assign({},f);return Object.assign(Ke,I?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ke})).apply(this,arguments)}function ze(v,f,p,I){return Le.apply(this,arguments)}function Le(){return Le=(0,l.A)(function*(v,f,p,I){var L;if(null!==(L=v._getRecaptchaConfig())&&void 0!==L&&L.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield H(v,f,p,"getOobCode"===p);return I(v,Z)}return I(v,f).catch(function(){var Z=(0,l.A)(function*(Ke){if("auth/missing-recaptcha-token"===Ke.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pt=yield H(v,f,p,"getOobCode"===p);return I(v,pt)}return Promise.reject(Ke)});return function(Ke){return Z.apply(this,arguments)}}())}),Le.apply(this,arguments)}function Qt(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function zt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class cr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,p){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function dr(v,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:resetPassword",Ie(v,f))})).apply(this,arguments)}function re(){return(re=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function M(v,f){return le.apply(this,arguments)}function le(){return(le=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function sr(){return(sr=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:update",Ie(v,f))})).apply(this,arguments)}function ir(v,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPassword",Ie(v,f))})).apply(this,arguments)}function li(v,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:sendOobCode",Ie(v,f))})).apply(this,arguments)}function Li(){return(Li=(0,l.A)(function*(v,f){return li(v,f)})).apply(this,arguments)}function Ea(v,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.A)(function*(v,f){return li(v,f)})).apply(this,arguments)}function ss(v,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.A)(function*(v,f){return li(v,f)})).apply(this,arguments)}function uo(){return(uo=(0,l.A)(function*(v,f){return li(v,f)})).apply(this,arguments)}function Xo(){return(Xo=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,f))})).apply(this,arguments)}function Qo(){return(Qo=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,f))})).apply(this,arguments)}class Lo extends cr{constructor(f,p,I,L=null){super("password",I),this._email=f,this._password=p,this._tenantId=L}static _fromEmailAndPassword(f,p){return new Lo(f,p,"password")}static _fromEmailAndCode(f,p,I=null){return new Lo(f,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,l.A)(function*(){switch(p.signInMethod){case"password":return ze(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ir);case"emailLink":return function as(v,f){return Xo.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ve(f,"internal-error")}})()}_linkToIdToken(f,p){var I=this;return(0,l.A)(function*(){switch(I.signInMethod){case"password":return ze(f,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M);case"emailLink":return function Bs(v,f){return Qo.apply(this,arguments)}(f,{idToken:p,email:I._email,oobCode:I._password});default:Ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Xi(v,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithIdp",Ie(v,f))})).apply(this,arguments)}class Qi extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Qi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ve("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:L}=p,Z=(0,oe.Tt)(p,["providerId","signInMethod"]);if(!I||!L)return null;const Ke=new Qi(I,L);return Ke.idToken=Z.idToken||void 0,Ke.accessToken=Z.accessToken||void 0,Ke.secret=Z.secret,Ke.nonce=Z.nonce,Ke.pendingToken=Z.pendingToken||null,Ke}_getIdTokenResponse(f){return Xi(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Xi(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Xi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,G.Am)(p)}return f}}function ws(){return(ws=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:sendVerificationCode",Ie(v,f))})).apply(this,arguments)}function Vi(){return(Vi=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,f))})).apply(this,arguments)}function ls(){return(ls=(0,l.A)(function*(v,f){const p=yield ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,f));if(p.temporaryProof)throw yt(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const qa={USER_NOT_FOUND:"user-not-found"};function vu(){return(vu=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),qa)})).apply(this,arguments)}class co extends cr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new co({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new co({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function wi(v,f){return Vi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Da(v,f){return ls.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function us(v,f){return vu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:I,verificationCode:L}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:I,code:L}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:I,phoneNumber:L,temporaryProof:Z}=f;return I||p||L||Z?new co({verificationId:p,verificationCode:I,phoneNumber:L,temporaryProof:Z}):null}}class Yi{constructor(f){var p,I,L,Z,Ke,pt;const Vt=(0,G.I9)((0,G.hp)(f)),En=null!==(p=Vt.apiKey)&&void 0!==p?p:null,Fn=null!==(I=Vt.oobCode)&&void 0!==I?I:null,yn=function bs(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Vt.mode)&&void 0!==L?L:null);K(En&&Fn&&yn,"argument-error"),this.apiKey=En,this.operation=yn,this.code=Fn,this.continueUrl=null!==(Z=Vt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ke=Vt.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(pt=Vt.tenantId)&&void 0!==pt?pt:null}static parseLink(f){const p=function xi(v){const f=(0,G.I9)((0,G.hp)(v)).link,p=f?(0,G.I9)((0,G.hp)(f)).deep_link_id:null,I=(0,G.I9)((0,G.hp)(v)).deep_link_id;return(I?(0,G.I9)((0,G.hp)(I)).link:null)||I||p||f||v}(f);try{return new Yi(p)}catch{return null}}}let zi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,I){return Lo._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const L=Yi.parseLink(I);return K(L,"argument-error"),Lo._fromEmailAndCode(p,L.code,L.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ui{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class yi extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class jn extends yi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return K("providerId"in p&&"signInMethod"in p,"argument-error"),Qi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return jn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return jn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:L,pendingToken:Z,nonce:Ke,providerId:pt}=f;if(!I&&!L&&!p&&!Z||!pt)return null;try{return new jn(pt)._credential({idToken:p,accessToken:I,nonce:Ke,pendingToken:Z})}catch{return null}}}let Zo=(()=>{class v extends yi{constructor(){super("facebook.com")}static credential(p){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),$s=(()=>{class v extends yi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:L}=p;if(!I&&!L)return null;try{return v.credential(I,L)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ia=(()=>{class v extends yi{constructor(){super("github.com")}static credential(p){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Jo extends cr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Xi(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Xi(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Xi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:L,pendingToken:Z}=p;return I&&L&&Z&&I===L?new Jo(I,Z):null}static _create(f,p){return new Jo(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends Ui{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return bi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Jo.fromJSON(f);return K(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:I}=f;if(!p||!I)return null;try{return Jo._create(I,p)}catch{return null}}}let es=(()=>{class v extends yi{constructor(){super("twitter.com")}static credential(p,I){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:L}=p;if(!I||!L)return null;try{return v.credential(I,L)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function oa(v,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signUp",Ie(v,f))})).apply(this,arguments)}class Ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,I,L=!1){return(0,l.A)(function*(){const Z=yield _n._fromIdTokenResponse(f,I,L),Ke=Bo(I);return new Ni({user:Z,providerId:Ke,_tokenResponse:I,operationType:p})})()}static _forOperation(f,p,I){return(0,l.A)(function*(){yield f._updateTokensIfNecessary(I,!0);const L=Bo(I);return new Ni({user:f,providerId:L,_tokenResponse:I,operationType:p})})()}}function Bo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function js(){return(js=(0,l.A)(function*(v){var f;if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const p=pe(v);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Ni({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield oa(p,{returnSecureToken:!0}),L=yield Ni._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(L.user),L})).apply(this,arguments)}class cs extends G.g{constructor(f,p,I,L){var Z;super(p.code,p.message),this.operationType=I,this.user=L,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:f.name,tenantId:null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,p,I,L){return new cs(f,p,I,L)}}function sa(v,f,p,I){return("reauthenticate"===f?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?cs._fromErrorAndOperation(v,Z,f,I):Z})}function B(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ue(){return ue=(0,l.A)(function*(v,f){const p=(0,G.Ku)(v);yield Wt(!0,p,f);const{providerUserInfo:I}=yield function un(v,f){return $t.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),L=B(I||[]);return p.providerData=p.providerData.filter(Z=>L.has(Z.providerId)),L.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),ue.apply(this,arguments)}function U(v,f){return he.apply(this,arguments)}function he(){return(he=(0,l.A)(function*(v,f,p=!1){const I=yield Gn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),p);return Ni._forOperation(v,"link",I)})).apply(this,arguments)}function Wt(v,f,p){return an.apply(this,arguments)}function an(){return(an=(0,l.A)(function*(v,f,p){yield Lr(f);const L=!1===v?"provider-already-linked":"no-such-provider";K(B(f.providerData).has(p)===v,f.auth,L)})).apply(this,arguments)}function Yr(v,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.A)(function*(v,f,p=!1){const{auth:I}=v;if((0,ae._isFirebaseServerApp)(I.app))return Promise.reject($(I));const L="reauthenticate";try{const Z=yield Gn(v,sa(I,L,f,v),p);K(Z.idToken,I,"internal-error");const Ke=kr(Z.idToken);K(Ke,I,"internal-error");const{sub:pt}=Ke;return K(v.uid===pt,I,"user-mismatch"),Ni._forOperation(v,L,Z)}catch(Z){throw"auth/user-not-found"===(null==Z?void 0:Z.code)&&Ve(I,"user-mismatch"),Z}})).apply(this,arguments)}function bo(v,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.A)(function*(v,f,p=!1){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I="signIn",L=yield sa(v,I,f),Z=yield Ni._fromIdTokenResponse(v,I,L);return p||(yield v._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Rs(v,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.A)(function*(v,f){return bo(pe(v),f)})).apply(this,arguments)}function Ul(v,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.A)(function*(v,f){const p=(0,G.Ku)(v);return yield Wt(!1,p,f.providerId),U(p,f)})).apply(this,arguments)}function Gs(v,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.A)(function*(v,f){return Yr((0,G.Ku)(v),f)})).apply(this,arguments)}function $o(){return($o=(0,l.A)(function*(v,f){return ft(v,"POST","/v1/accounts:signInWithCustomToken",Ie(v,f))})).apply(this,arguments)}function hr(){return hr=(0,l.A)(function*(v,f){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const p=pe(v),I=yield function Qa(v,f){return $o.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),L=yield Ni._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(L.user),L}),hr.apply(this,arguments)}class Ar{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ii._fromServerResponse(f,p):"totpInfo"in p?So._fromServerResponse(f,p):Ve(f,"internal-error")}}class ii extends Ar{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ii(p)}}class So extends Ar{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new So(p)}}function ci(v,f,p){var I;K((null===(I=p.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),K(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(K(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(K(p.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Ws(v){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.A)(function*(v){const f=pe(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Br(){return(Br=(0,l.A)(function*(v,f,p){const I=pe(v),L={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&ci(I,L,p),yield ze(I,L,"getOobCode",Ea)})).apply(this,arguments)}function ds(){return ds=(0,l.A)(function*(v,f,p){yield dr((0,G.Ku)(v),{oobCode:f,newPassword:p}).catch(function(){var I=(0,l.A)(function*(L){throw"auth/password-does-not-meet-requirements"===L.code&&Ws(v),L});return function(L){return I.apply(this,arguments)}}())}),ds.apply(this,arguments)}function hs(){return hs=(0,l.A)(function*(v,f){yield function rt(v,f){return sr.apply(this,arguments)}((0,G.Ku)(v),{oobCode:f})}),hs.apply(this,arguments)}function Ya(v,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.A)(function*(v,f){const p=(0,G.Ku)(v),I=yield dr(p,{oobCode:f}),L=I.requestType;switch(K(L,p,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(I.mfaInfo,p,"internal-error");default:K(I.email,p,"internal-error")}let Z=null;return I.mfaInfo&&(Z=Ar._fromServerResponse(pe(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Z},operation:L}})).apply(this,arguments)}function Ta(){return(Ta=(0,l.A)(function*(v,f){const{data:p}=yield Ya((0,G.Ku)(v),f);return p.email})).apply(this,arguments)}function eo(){return(eo=(0,l.A)(function*(v,f,p){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I=pe(v),Ke=yield ze(I,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oa).catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&Ws(v),Vt}),pt=yield Ni._fromIdTokenResponse(I,"signIn",Ke);return yield I._updateCurrentUser(pt.user),pt})).apply(this,arguments)}function vo(){return(vo=(0,l.A)(function*(v,f,p){const I=pe(v),L={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Z(Ke,pt){K(pt.handleCodeInApp,I,"argument-error"),pt&&ci(I,Ke,pt)})(L,p),yield ze(I,L,"getOobCode",ss)})).apply(this,arguments)}function Ks(){return(Ks=(0,l.A)(function*(v,f,p){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I=(0,G.Ku)(v),L=zi.credentialWithLink(f,p||qe());return K(L._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Rs(I,L)})).apply(this,arguments)}function Ra(){return(Ra=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:createAuthUri",Ie(v,f))})).apply(this,arguments)}function ho(){return ho=(0,l.A)(function*(v,f){const I={identifier:f,continueUri:Nt()?qe():"http://localhost"},{signinMethods:L}=yield function Sa(v,f){return Ra.apply(this,arguments)}((0,G.Ku)(v),I);return L||[]}),ho.apply(this,arguments)}function Ja(){return Ja=(0,l.A)(function*(v,f){const p=(0,G.Ku)(v),L={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ci(p.auth,L,f);const{email:Z}=yield function na(v,f){return Li.apply(this,arguments)}(p.auth,L);Z!==v.email&&(yield v.reload())}),Ja.apply(this,arguments)}function yu(){return yu=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};p&&ci(I.auth,Z,p);const{email:Ke}=yield function To(v,f){return uo.apply(this,arguments)}(I.auth,Z);Ke!==v.email&&(yield v.reload())}),yu.apply(this,arguments)}function Ro(){return(Ro=(0,l.A)(function*(v,f){return We(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function fs(){return fs=(0,l.A)(function*(v,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const I=(0,G.Ku)(v),Z={idToken:yield I.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},Ke=yield Gn(I,function el(v,f){return Ro.apply(this,arguments)}(I.auth,Z));I.displayName=Ke.displayName||null,I.photoURL=Ke.photoUrl||null;const pt=I.providerData.find(({providerId:Vt})=>"password"===Vt);pt&&(pt.displayName=I.displayName,pt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ke)}),fs.apply(this,arguments)}function ps(v,f,p){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,l.A)(function*(v,f,p){const{auth:I}=v,Z={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(Z.email=f),p&&(Z.password=p);const Ke=yield Gn(v,function C(v,f){return re.apply(this,arguments)}(I,Z));yield v._updateTokensIfNecessary(Ke,!0)}),Mo.apply(this,arguments)}class V{constructor(f,p,I={}){this.isNewUser=f,this.providerId=p,this.profile=I}}class q extends V{constructor(f,p,I,L){super(f,p,I),this.username=L}}class N extends V{constructor(f,p){super(f,"facebook.com",p)}}class J extends q{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ke extends V{constructor(f,p){super(f,"google.com",p)}}class it extends q{constructor(f,p,I){super(f,"twitter.com",p,I)}}function wt(v){const{user:f,_tokenResponse:p}=v;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function D(v){var f,p;if(!v)return null;const{providerId:I}=v,L=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Z=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const Ke=null===(p=null===(f=kr(v.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(Ke)return new V(Z,"anonymous"!==Ke&&"custom"!==Ke?Ke:null)}if(!I)return null;switch(I){case"facebook.com":return new N(Z,L);case"github.com":return new J(Z,L);case"google.com":return new ke(Z,L);case"twitter.com":return new it(Z,L,v.screenName||null);case"custom":case"anonymous":return new V(Z,null);default:return new V(Z,I,L)}}(p)}class Zr{constructor(f,p,I){this.type=f,this.credential=p,this.user=I}static _fromIdtoken(f,p){return new Zr("enroll",f,p)}static _fromMfaPendingCredential(f){return new Zr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,I;if(null!=f&&f.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Zr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return Zr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class $i{constructor(f,p,I){this.session=f,this.hints=p,this.signInResolver=I}static _fromError(f,p){const I=pe(f),L=p.customData._serverResponse,Z=(L.mfaInfo||[]).map(pt=>Ar._fromServerResponse(I,pt));K(L.mfaPendingCredential,I,"internal-error");const Ke=Zr._fromMfaPendingCredential(L.mfaPendingCredential);return new $i(Ke,Z,function(){var pt=(0,l.A)(function*(Vt){const En=yield Vt._process(I,Ke);delete L.mfaInfo,delete L.mfaPendingCredential;const Fn=Object.assign(Object.assign({},L),{idToken:En.idToken,refreshToken:En.refreshToken});switch(p.operationType){case"signIn":const yn=yield Ni._fromIdTokenResponse(I,p.operationType,Fn);return yield I._updateCurrentUser(yn.user),yn;case"reauthenticate":return K(p.user,I,"internal-error"),Ni._forOperation(p.user,p.operationType,Fn);default:Ve(I,"internal-error")}});return function(Vt){return pt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,l.A)(function*(){return p.signInResolver(f)})()}}class Na{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>Ar._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Na(f)}getSession(){var f=this;return(0,l.A)(function*(){return Zr._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var I=this;return(0,l.A)(function*(){const L=f,Z=yield I.getSession(),Ke=yield Gn(I.user,L._process(I.user.auth,Z,p));return yield I.user._updateTokensIfNecessary(Ke),I.user.reload()})()}unenroll(f){var p=this;return(0,l.A)(function*(){const I="string"==typeof f?f:f.uid,L=yield p.user.getIdToken();try{const Z=yield Gn(p.user,function Un(v,f){return We(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(v,f))}(p.user.auth,{idToken:L,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ke})=>Ke!==I),yield p.user._updateTokensIfNecessary(Z),yield p.user.reload()}catch(Z){throw Z}})()}}const gr=new WeakMap,jr="__sak";class mn{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(jr,"1"),this.storage.removeItem(jr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fo=(()=>{class v extends mn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Po(){const v=(0,G.ZQ)();return Ai(v)||It(v)}()&&function $n(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const L=this.storage.getItem(I),Z=this.localCache[I];L!==Z&&p(I,Z,L)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((pt,Vt,En)=>{this.notifyListeners(pt,En)});const L=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(L);if(p.newValue!==pt)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!I)return}const Z=()=>{const pt=this.storage.getItem(L);!I&&this.localCache[L]===pt||this.notifyListeners(L,pt)},Ke=this.storage.getItem(L);!function dn(){return(0,G.lT)()&&10===document.documentMode}()||Ke===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,I){this.localCache[p]=I;const L=this.listeners[p];if(L)for(const Z of Array.from(L))Z(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var L=()=>super._set,Z=this;return(0,l.A)(function*(){yield L().call(Z,p,I),Z.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,L=this;return(0,l.A)(function*(){const Z=yield I().call(L,p);return L.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var I=()=>super._remove,L=this;return(0,l.A)(function*(){yield I().call(L,p),delete L.localCache[p]})()}}return v.type="LOCAL",v})(),Kn=(()=>{class v extends mn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return v.type="SESSION",v})();let Oa=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(Z=>Z.isListeningto(p));if(I)return I;const L=new v(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,l.A)(function*(){const L=p,{eventId:Z,eventType:Ke,data:pt}=L.data,Vt=I.handlersMap[Ke];if(null==Vt||!Vt.size)return;L.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ke});const En=Array.from(Vt).map(function(){var yn=(0,l.A)(function*(ni){return ni(L.origin,pt)});return function(ni){return yn.apply(this,arguments)}}()),Fn=yield function Yu(v){return Promise.all(v.map(function(){var f=(0,l.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return f.apply(this,arguments)}}()))}(En);L.ports[0].postMessage({status:"done",eventId:Z,eventType:Ke,response:Fn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function oi(v="",f=10){let p="";for(let I=0;I<f;I++)p+=Math.floor(10*Math.random());return v+p}class $l{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,I=50){var L=this;return(0,l.A)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Ke,pt;return new Promise((Vt,En)=>{const Fn=oi("",20);Z.port1.start();const yn=setTimeout(()=>{En(new Error("unsupported_event"))},I);pt={messageChannel:Z,onMessage(ni){const Ds=ni;if(Ds.data.eventId===Fn)switch(Ds.data.status){case"ack":clearTimeout(yn),Ke=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),Vt(Ds.data.response);break;default:clearTimeout(yn),clearTimeout(Ke),En(new Error("invalid_response"))}}},L.handlers.add(pt),Z.port1.addEventListener("message",pt.onMessage),L.target.postMessage({eventType:f,eventId:Fn,data:p},[Z.port2])}).finally(()=>{pt&&L.removeMessageHandler(pt)})})()}}function fi(){return window}function rs(){return typeof fi().WorkerGlobalScope<"u"&&"function"==typeof fi().importScripts}function _t(){return(_t=(0,l.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jl="firebaseLocalStorageDb",Ho="firebaseLocalStorage",qc="fbase_key";class ms{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Fa(v,f){return v.transaction([Ho],f?"readwrite":"readonly").objectStore(Ho)}function Zu(){const v=indexedDB.open(jl,1);return new Promise((f,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(Ho,{keyPath:qc})}catch(L){p(L)}}),v.addEventListener("success",(0,l.A)(function*(){const I=v.result;I.objectStoreNames.contains(Ho)?f(I):(I.close(),yield function Hl(){const v=indexedDB.deleteDatabase(jl);return new ms(v).toPromise()}(),f(yield Zu()))}))})}function Ju(v,f,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.A)(function*(v,f,p){const I=Fa(v,!0).put({[qc]:f,value:p});return new ms(I).toPromise()})).apply(this,arguments)}function Gl(){return(Gl=(0,l.A)(function*(v,f){const p=Fa(v,!1).get(f),I=yield new ms(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ih(v,f){const p=Fa(v,!0).delete(f);return new ms(p).toPromise()}const b=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.A)(function*(){return p.db||(p.db=yield Zu()),p.db})()}_withRetries(p){var I=this;return(0,l.A)(function*(){let L=0;for(;;)try{const Z=yield I._openDb();return yield p(Z)}catch(Z){if(L++>3)throw Z;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.A)(function*(){return rs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.A)(function*(){p.receiver=Oa._getInstance(function qi(){return rs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,l.A)(function*(L,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function(L,Z){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,l.A)(function*(L,Z){return["keyChanged"]});return function(L,Z){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.A)(function*(){var I,L;if(p.activeServiceWorker=yield function Ki(){return _t.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new $l(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(I=Z[0])&&void 0!==I&&I.fulfilled&&null!==(L=Z[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,l.A)(function*(){if(I.sender&&I.activeServiceWorker&&function ka(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const p=yield Zu();return yield Ju(p,jr,"1"),yield ih(p,jr),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,l.A)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var L=this;return(0,l.A)(function*(){return L._withPendingWrite((0,l.A)(function*(){return yield L._withRetries(Z=>Ju(Z,p,I)),L.localCache[p]=I,L.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,l.A)(function*(){const L=yield I._withRetries(Z=>function ec(v,f){return Gl.apply(this,arguments)}(Z,p));return I.localCache[p]=L,L})()}_remove(p){var I=this;return(0,l.A)(function*(){return I._withPendingWrite((0,l.A)(function*(){return yield I._withRetries(L=>ih(L,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.A)(function*(){const I=yield p._withRetries(Ke=>{const pt=Fa(Ke,!1).getAll();return new ms(pt).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const L=[],Z=new Set;if(0!==I.length)for(const{fbase_key:Ke,value:pt}of I)Z.add(Ke),JSON.stringify(p.localCache[Ke])!==JSON.stringify(pt)&&(p.notifyListeners(Ke,pt),L.push(Ke));for(const Ke of Object.keys(p.localCache))p.localCache[Ke]&&!Z.has(Ke)&&(p.notifyListeners(Ke,null),L.push(Ke));return L})()}notifyListeners(p,I){this.localCache[p]=I;const L=this.listeners[p];if(L)for(const Z of Array.from(L))Z(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Xt=1e12;class St{constructor(f){this.auth=f,this.counter=Xt,this._widgets=new Map}render(f,p){const I=this.counter;return this._widgets.set(I,new wn(f,this.auth.name,p||{})),this.counter++,I}reset(f){var p;const I=f||Xt;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Xt))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,l.A)(function*(){var I;return null===(I=p._widgets.get(f||Xt))||void 0===I||I.execute(),""})()}}class wn{constructor(f,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof f?document.getElementById(f):f;K(L,"argument-error",{appName:p}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fr(v){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pi=An("rcb"),Hr=new fe(3e4,6e4);class to{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return K(function Xs(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&ut(fi().grecaptcha)?Promise.resolve(fi().grecaptcha):new Promise((I,L)=>{const Z=fi().setTimeout(()=>{L(xe(f,"network-request-failed"))},Hr.get());fi()[pi]=()=>{fi().clearTimeout(Z),delete fi()[pi];const pt=fi().grecaptcha;if(!pt||!ut(pt))return void L(xe(f,"internal-error"));const Vt=pt.render;pt.render=(En,Fn)=>{const yn=Vt(En,Fn);return this.counter++,yn},this.hostLanguage=p,I(pt)},ht(`${function Ut(){return W.recaptchaV2Script}()}?${(0,G.Am)({onload:pi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Z),L(xe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=fi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rl{load(f){return(0,l.A)(function*(){return new St(f)})()}clearedOneInstance(){}}const il="recaptcha",zl={theme:"light",type:"image"};class ol{constructor(f,p,I=Object.assign({},zl)){this.parameters=I,this.type=il,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pe(f),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof p?document.getElementById(p):p;K(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rl:new to,this.validateStartingState()}verify(){var f=this;return(0,l.A)(function*(){f.assertNotDestroyed();const p=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(p)||new Promise(Z=>{const Ke=pt=>{pt&&(f.tokenChangeListeners.delete(Ke),Z(pt))};f.tokenChangeListeners.add(Ke),f.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof f)f(p);else if("string"==typeof f){const I=fi()[f];"function"==typeof I&&I(p)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.A)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.A)(function*(){K(Nt()&&!rs(),f.auth,"internal-error"),yield function Xc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Zt(v){return Dn.apply(this,arguments)}(f.auth);K(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ca{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=co._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Qc(){return(Qc=(0,l.A)(function*(v,f,p){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I=pe(v),L=yield ji(I,f,(0,G.Ku)(p));return new ca(L,Z=>Rs(I,Z))})).apply(this,arguments)}function tc(){return(tc=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);yield Wt(!1,I,"phone");const L=yield ji(I.auth,f,(0,G.Ku)(p));return new ca(L,Z=>Ul(I,Z))})).apply(this,arguments)}function Iu(){return(Iu=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);if((0,ae._isFirebaseServerApp)(I.auth.app))return Promise.reject($(I.auth));const L=yield ji(I.auth,f,(0,G.Ku)(p));return new ca(L,Z=>Gs(I,Z))})).apply(this,arguments)}function ji(v,f,p){return sh.apply(this,arguments)}function sh(){return sh=(0,l.A)(function*(v,f,p){var I;const L=yield p.verify();try{let Z;if(K("string"==typeof L,v,"argument-error"),K(p.type===il,v,"argument-error"),Z="string"==typeof f?{phoneNumber:f}:f,"session"in Z){const Ke=Z.session;if("phoneNumber"in Z)return K("enroll"===Ke.type,v,"internal-error"),(yield function Nn(v,f){return We(v,"POST","/v2/accounts/mfaEnrollment:start",Ie(v,f))}(v,{idToken:Ke.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{K("signin"===Ke.type,v,"internal-error");const pt=(null===(I=Z.multiFactorHint)||void 0===I?void 0:I.uid)||Z.multiFactorUid;return K(pt,v,"missing-multi-factor-info"),(yield function A(v,f){return We(v,"POST","/v2/accounts/mfaSignIn:start",Ie(v,f))}(v,{mfaPendingCredential:Ke.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ke}=yield function Yo(v,f){return ws.apply(this,arguments)}(v,{phoneNumber:Z.phoneNumber,recaptchaToken:L});return Ke}}finally{p._reset()}}),sh.apply(this,arguments)}function Eu(){return(Eu=(0,l.A)(function*(v,f){const p=(0,G.Ku)(v);if((0,ae._isFirebaseServerApp)(p.auth.app))return Promise.reject($(p.auth));yield U(p,f)})).apply(this,arguments)}let Gr=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=pe(p)}verifyPhoneNumber(p,I){return ji(this.auth,p,(0,G.Ku)(I))}static credential(p,I){return co._fromVerification(p,I)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:L}=p;return I&&L?co._fromTokenResponse(I,L):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Si(v,f){return f?Qn(f):(K(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class no extends cr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Xi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Xi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Xi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Wr(v){return bo(v.auth,new no(v),v.bypassAuthState)}function Wl(v){const{auth:f,user:p}=v;return K(p,f,"internal-error"),Yr(p,new no(v),v.bypassAuthState)}function po(v){return No.apply(this,arguments)}function No(){return(No=(0,l.A)(function*(v){const{auth:f,user:p}=v;return K(p,f,"internal-error"),U(p,new no(v),v.bypassAuthState)})).apply(this,arguments)}class nc{constructor(f,p,I,L,Z=!1){this.auth=f,this.resolver=I,this.user=L,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,l.A)(function*(I,L){f.pendingPromise={resolve:I,reject:L};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Z){f.reject(Z)}});return function(I,L){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,l.A)(function*(){const{urlResponse:I,sessionId:L,postBody:Z,tenantId:Ke,error:pt,type:Vt}=f;if(pt)return void p.reject(pt);const En={auth:p.auth,requestUri:I,sessionId:L,tenantId:Ke||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Vt)(En))}catch(Fn){p.reject(Fn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Wr;case"linkViaPopup":case"linkViaRedirect":return po;case"reauthViaPopup":case"reauthViaRedirect":return Wl;default:Ve(this.auth,"internal-error")}}resolve(f){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pg=new fe(2e3,1e4);function Yc(){return(Yc=(0,l.A)(function*(v,f,p){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject(xe(v,"operation-not-supported-in-this-environment"));const I=pe(v);F(v,f,Ui);const L=Si(I,p);return new da(I,"signInViaPopup",f,L).executeNotNull()})).apply(this,arguments)}function Ii(){return(Ii=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);if((0,ae._isFirebaseServerApp)(I.auth.app))return Promise.reject(xe(I.auth,"operation-not-supported-in-this-environment"));F(I.auth,f,Ui);const L=Si(I.auth,p);return new da(I.auth,"reauthViaPopup",f,L,I).executeNotNull()})).apply(this,arguments)}function sl(){return(sl=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);F(I.auth,f,Ui);const L=Si(I.auth,p);return new da(I.auth,"linkViaPopup",f,L,I).executeNotNull()})).apply(this,arguments)}let da=(()=>{class v extends nc{constructor(p,I,L,Z,Ke){super(p,I,Z,Ke),this.provider=L,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.A)(function*(){const I=yield p.execute();return K(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,l.A)(function*(){Ge(1===p.filter.length,"Popup operations only handle one event");const I=oi();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(L=>{p.reject(L)}),p.resolver._isIframeWebStorageSupported(p.auth,L=>{L||p.reject(xe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,L;this.pollId=null!==(L=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Pg.get())};p()}}return v.currentPopupAction=null,v})();const al="pendingRedirect",Kl=new Map;class is extends nc{constructor(f,p,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,l.A)(function*(){let I=Kl.get(p.auth._key());if(!I){try{const Z=(yield function Zn(v,f){return ql.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;I=()=>Promise.resolve(Z)}catch(L){I=()=>Promise.reject(L)}Kl.set(p.auth._key(),I)}return p.bypassAuthState||Kl.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,I=this;return(0,l.A)(function*(){if("signInViaRedirect"===f.type)return p().call(I,f);if("unknown"!==f.type){if(f.eventId){const L=yield I.auth._redirectUserForId(f.eventId);if(L)return I.user=L,p().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function ql(){return(ql=(0,l.A)(function*(v,f){const p=xs(f),I=Zc(v);if(!(yield I._isAvailable()))return!1;const L="true"===(yield I._get(p));return yield I._remove(p),L})).apply(this,arguments)}function La(v,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.A)(function*(v,f){return Zc(v)._set(xs(f),"true")})).apply(this,arguments)}function ha(v,f){Kl.set(v._key(),f)}function Zc(v){return Qn(v._redirectPersistence)}function xs(v){return kn(al,v.config.apiKey,v.name)}function ah(v,f,p){return function Jc(v,f,p){return Ua.apply(this,arguments)}(v,f,p)}function Ua(){return(Ua=(0,l.A)(function*(v,f,p){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I=pe(v);F(v,f,Ui),yield I._initializationPromise;const L=Si(I,p);return yield La(L,I),L._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function lh(v,f,p){return function ic(v,f,p){return Lt.apply(this,arguments)}(v,f,p)}function Lt(){return(Lt=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);if(F(I.auth,f,Ui),(0,ae._isFirebaseServerApp)(I.auth.app))return Promise.reject($(I.auth));yield I.auth._initializationPromise;const L=Si(I.auth,p);yield La(L,I.auth);const Z=yield sc(I);return L._openRedirect(I.auth,f,"reauthViaRedirect",Z)})).apply(this,arguments)}function br(v,f,p){return function oc(v,f,p){return ll.apply(this,arguments)}(v,f,p)}function ll(){return(ll=(0,l.A)(function*(v,f,p){const I=(0,G.Ku)(v);F(I.auth,f,Ui),yield I.auth._initializationPromise;const L=Si(I.auth,p);yield Wt(!1,I,f.providerId),yield La(L,I.auth);const Z=yield sc(I);return L._openRedirect(I.auth,f,"linkViaRedirect",Z)})).apply(this,arguments)}function ed(){return(ed=(0,l.A)(function*(v,f){return yield pe(v)._initializationPromise,ul(v,f,!1)})).apply(this,arguments)}function ul(v,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.A)(function*(v,f,p=!1){if((0,ae._isFirebaseServerApp)(v.app))return Promise.reject($(v));const I=pe(v),L=Si(I,f),Ke=yield new is(I,L,p).execute();return Ke&&!p&&(delete Ke.user._redirectEventId,yield I._persistUserIfCurrent(Ke.user),yield I._setRedirectUser(null,f)),Ke})).apply(this,arguments)}function sc(v){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.A)(function*(v){const f=oi(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Ei{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(p=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function pa(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yo(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var I;if(f.error&&!yo(f)){const L=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(xe(this.auth,L))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const I=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fa(f))}saveEventToCache(f){this.cachedEventUids.add(fa(f)),this.lastProcessedEventTime=Date.now()}}function fa(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function yo({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Xl(v){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.A)(function*(v,f={}){return We(v,"GET","/v1/projects",f)})).apply(this,arguments)}const ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^https?/;function cl(){return(cl=(0,l.A)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Xl(v);for(const p of f)try{if(uh(p))return}catch{}Ve(v,"unauthorized-domain")})).apply(this,arguments)}function uh(v){const f=qe(),{protocol:p,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const Ke=new URL(v);return""===Ke.hostname&&""===I?"chrome-extension:"===p&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&Ke.hostname===I}if(!xr.test(p))return!1;if(ga.test(v))return I===v;const L=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(I)}const ac=new fe(3e4,6e4);function lc(){const v=fi().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let dl=null;const ch=new fe(5e3,15e3),dh="__/auth/iframe",Lf="emulator/auth/iframe",Uf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bf(v){const f=v.config;K(f.authDomain,v,"auth-domain-config-required");const p=f.emulator?ve(f,Lf):`https://${v.config.authDomain}/${dh}`,I={apiKey:f.apiKey,appName:v.name,v:ae.SDK_VERSION},L=hh.get(v.config.apiHost);L&&(I.eid=L);const Z=v._getFrameworks();return Z.length&&(I.fw=Z.join(",")),`${p}?${(0,G.Am)(I).slice(1)}`}function fh(){return fh=(0,l.A)(function*(v){const f=yield function Vf(v){return dl=dl||function uc(v){return new Promise((f,p)=>{var I,L,Z;function Ke(){lc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{lc(),p(xe(v,"network-request-failed"))},timeout:ac.get()})}if(null!==(L=null===(I=fi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==L&&L.Iframe)f(gapi.iframes.getContext());else{if(null===(Z=fi().gapi)||void 0===Z||!Z.load){const pt=An("iframefcb");return fi()[pt]=()=>{gapi.load?Ke():p(xe(v,"network-request-failed"))},ht(`${function hn(){return W.gapiScript}()}?onload=${pt}`).catch(Vt=>p(Vt))}Ke()}}).catch(f=>{throw dl=null,f})}(v),dl}(v),p=fi().gapi;return K(p,v,"internal-error"),f.open({where:document.body,url:Bf(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uf,dontclear:!0},I=>new Promise(function(){var L=(0,l.A)(function*(Z,Ke){yield I.restyle({setHideOnLeave:!1});const pt=xe(v,"network-request-failed"),Vt=fi().setTimeout(()=>{Ke(pt)},ch.get());function En(){fi().clearTimeout(Vt),Z(I)}I.ping(En).then(En,()=>{Ke(pt)})});return function(Z,Ke){return L.apply(this,arguments)}}()))}),fh.apply(this,arguments)}const Oo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gh="__/auth/handler",ys="emulator/auth/handler",Zs=encodeURIComponent("fac");function hl(v,f,p,I,L,Z){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.A)(function*(v,f,p,I,L,Z){K(v.config.authDomain,v,"auth-domain-config-required"),K(v.config.apiKey,v,"invalid-api-key");const Ke={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:I,v:ae.SDK_VERSION,eventId:L};if(f instanceof Ui){f.setDefaultLanguage(v.languageCode),Ke.providerId=f.providerId||"",(0,G.Im)(f.getCustomParameters())||(Ke.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fn,yn]of Object.entries(Z||{}))Ke[Fn]=yn}if(f instanceof yi){const Fn=f.getScopes().filter(yn=>""!==yn);Fn.length>0&&(Ke.scopes=Fn.join(","))}v.tenantId&&(Ke.tid=v.tenantId);const pt=Ke;for(const Fn of Object.keys(pt))void 0===pt[Fn]&&delete pt[Fn];const Vt=yield v._getAppCheckToken(),En=Vt?`#${Zs}=${encodeURIComponent(Vt)}`:"";return`${function Cu({config:v}){return v.emulator?ve(v,ys):`https://${v.authDomain}/${gh}`}(v)}?${(0,G.Am)(pt).slice(1)}${En}`})).apply(this,arguments)}const Js="webStorageSupport",rd=class Io{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kn,this._completeRedirectFn=ul,this._overrideRedirectResult=ha}_openPopup(f,p,I,L){var Z=this;return(0,l.A)(function*(){var Ke;Ge(null===(Ke=Z.eventManagers[f._key()])||void 0===Ke?void 0:Ke.manager,"_initialize() not called before _openPopup()");const pt=yield hl(f,p,I,qe(),L);return function nd(v,f,p,I=500,L=600){const Z=Math.max((window.screen.availHeight-L)/2,0).toString(),Ke=Math.max((window.screen.availWidth-I)/2,0).toString();let pt="";const Vt=Object.assign(Object.assign({},Oo),{width:I.toString(),height:L.toString(),top:Z,left:Ke}),En=(0,G.ZQ)().toLowerCase();p&&(pt=Mi(En)?"_blank":p),Ur(En)&&(f=f||"http://localhost",Vt.scrollbars="yes");const Fn=Object.entries(Vt).reduce((ni,[Ds,Ac])=>`${ni}${Ds}=${Ac},`,"");if(function Ot(v=(0,G.ZQ)()){var f;return It(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(En)&&"_self"!==pt)return function ph(v,f){const p=document.createElement("a");p.href=v,p.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(f||"",pt),new dc(null);const yn=window.open(f||"",pt,Fn);K(yn,v,"popup-blocked");try{yn.focus()}catch{}return new dc(yn)}(f,pt,oi())})()}_openRedirect(f,p,I,L){var Z=this;return(0,l.A)(function*(){return yield Z._originValidation(f),function Fi(v){fi().location.href=v}(yield hl(f,p,I,qe(),L)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:L,promise:Z}=this.eventManagers[p];return L?Promise.resolve(L):(Ge(Z,"If manager is not set, promise should be"),Z)}const I=this.initAndGetManager(f);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(f){var p=this;return(0,l.A)(function*(){const I=yield function td(v){return fh.apply(this,arguments)}(f),L=new Ei(f);return I.register("authEvent",Z=>(K(null==Z?void 0:Z.authEvent,f,"invalid-auth-event"),{status:L.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:L},p.iframes[f._key()]=I,L})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Js,{type:Js},L=>{var Z;const Ke=null===(Z=null==L?void 0:L[0])||void 0===Z?void 0:Z[Js];void 0!==Ke&&p(!!Ke),Ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ei(v){return cl.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return bn()||Ai()||It()}};class hc{constructor(f){this.factorId=f}_process(f,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,I);case"signin":return this._finalizeSignIn(f,p.credential);default:return be("unexpected MultiFactorSessionType")}}}class Du extends hc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Du(f)}_finalizeEnroll(f,p,I){return function ki(v,f){return We(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(v,f))}(f,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function x(v,f){return We(v,"POST","/v2/accounts/mfaSignIn:finalize",Ie(v,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ma=(()=>{class v{constructor(){}static assertion(p){return Du._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var mh="@firebase/auth";class gl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,l.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ml(){return window}(0,G.XA)("authIdTokenMaxAge"),function _e(v){W=v}({loadJS:v=>new Promise((f,p)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=L=>{const Z=xe("internal-error");Z.customData=L,p(Z)},I.type="text/javascript",I.charset="UTF-8",function od(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ko(v){(0,ae._registerComponent)(new ie.uA("auth",(f,{options:p})=>{const I=f.getProvider("app").getImmediate(),L=f.getProvider("heartbeat"),Z=f.getProvider("app-check-internal"),{apiKey:Ke,authDomain:pt}=I.options;K(Ke&&!Ke.includes(":"),"invalid-api-key",{appName:I.name});const Vt={apiKey:Ke,authDomain:pt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bn(v)},En=new go(I,L,Z,Vt);return function nn(v,f){const p=(null==f?void 0:f.persistence)||[],I=(Array.isArray(p)?p:[p]).map(Qn);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(En,p),En},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,I)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ie.uA("auth-internal",f=>{const p=pe(f.getProvider("auth").getImmediate());return new gl(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(mh,"1.7.1",function wv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,ae.registerVersion)(mh,"1.7.1","esm2017")}("Browser");function Os(){return Os=(0,l.A)(function*(v,f,p){var I;const{BuildInfo:L}=ml();Ge(f.sessionId,"AuthEvent did not contain a session ID");const Z=yield function xg(v){return mc.apply(this,arguments)}(f.sessionId),Ke={};return It()?Ke.ibi=L.packageName:tr()?Ke.apn=L.packageName:Ve(v,"operation-not-supported-in-this-environment"),L.displayName&&(Ke.appDisplayName=L.displayName),Ke.sessionId=Z,hl(v,p,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,Ke)}),Os.apply(this,arguments)}function eu(){return(eu=(0,l.A)(function*(v){const{BuildInfo:f}=ml(),p={};It()?p.iosBundleId=f.packageName:tr()?p.androidPackageName=f.packageName:Ve(v,"operation-not-supported-in-this-environment"),yield Xl(v,p)})).apply(this,arguments)}function Ba(){return(Ba=(0,l.A)(function*(v,f,p){const{cordova:I}=ml();let L=()=>{};try{yield new Promise((Z,Ke)=>{let pt=null;function Vt(){var yn;Z();const ni=null===(yn=I.plugins.browsertab)||void 0===yn?void 0:yn.close;"function"==typeof ni&&ni(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function En(){pt||(pt=window.setTimeout(()=>{Ke(xe(v,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===(null==document?void 0:document.visibilityState)&&En()}f.addPassiveListener(Vt),document.addEventListener("resume",En,!1),tr()&&document.addEventListener("visibilitychange",Fn,!1),L=()=>{f.removePassiveListener(Vt),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",Fn,!1),pt&&window.clearTimeout(pt)}})}finally{L()}})).apply(this,arguments)}function mc(){return(mc=(0,l.A)(function*(v){const f=function tu(v){if(Ge(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),p=new Uint8Array(f);for(let I=0;I<v.length;I++)p[I]=v.charCodeAt(I);return p}(v),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ih extends Ei{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.A)(function*(){yield f.initPromise})()}}function Is(v){return ad.apply(this,arguments)}function ad(){return(ad=(0,l.A)(function*(v){const f=yield _l()._get(yl(v));return f&&(yield _l()._remove(yl(v))),f})).apply(this,arguments)}function Tu(){const v=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function _l(){return Qn(fo)}function yl(v){return kn("authEvent",v.config.apiKey,v.name)}function Il(v){if(null==v||!v.includes("?"))return{};const[f,...p]=v.split("?");return(0,G.I9)(p.join("?"))}const wu=class Ng{constructor(){this._redirectPersistence=Kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ul,this._overrideRedirectResult=ha}_initialize(f){var p=this;return(0,l.A)(function*(){const I=f._key();let L=p.eventManagers.get(I);return L||(L=new Ih(f),p.eventManagers.set(I,L),p.attachCallbackListeners(f,L)),L})()}_openPopup(f){Ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,I,L){var Z=this;return(0,l.A)(function*(){!function yh(v){var f,p,I,L,Z,Ke,pt,Vt,En,Fn;const yn=ml();K("function"==typeof(null===(f=null==yn?void 0:yn.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof(null===(p=null==yn?void 0:yn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(Z=null===(L=null===(I=null==yn?void 0:yn.cordova)||void 0===I?void 0:I.plugins)||void 0===L?void 0:L.browsertab)||void 0===Z?void 0:Z.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Vt=null===(pt=null===(Ke=null==yn?void 0:yn.cordova)||void 0===Ke?void 0:Ke.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Fn=null===(En=null==yn?void 0:yn.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===Fn?void 0:Fn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ke=yield Z._initialize(f);yield Ke.initialized(),Ke.resetRedirect(),function rc(){Kl.clear()}(),yield Z._originValidation(f);const pt=function nu(v,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Tu(),postBody:null,tenantId:v.tenantId,error:xe(v,"no-auth-event")}}(f,I,L);yield function vc(v,f){return _l()._set(yl(v),f)}(f,pt);const Vt=yield function Ir(v,f,p){return Os.apply(this,arguments)}(f,pt,p),En=yield function sd(v){const{cordova:f}=ml();return new Promise(p=>{f.plugins.browsertab.isAvailable(I=>{let L=null;I?f.plugins.browsertab.openUrl(v):L=f.InAppBrowser.open(v,function gt(v=(0,G.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(L)})})}(Vt);return function _h(v,f,p){return Ba.apply(this,arguments)}(f,Ke,En)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function vh(v){return eu.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:I,handleOpenURL:L,BuildInfo:Z}=ml(),Ke=setTimeout((0,l.A)(function*(){yield Is(f),p.onEvent(_c())}),500),pt=function(){var Fn=(0,l.A)(function*(yn){clearTimeout(Ke);const ni=yield Is(f);let Ds=null;ni&&null!=yn&&yn.url&&(Ds=function Eh(v,f){var p,I;const L=function ld(v){const f=Il(v),p=f.link?decodeURIComponent(f.link):void 0,I=Il(p).link,L=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Il(L).link||L||I||p||v}(f);if(L.includes("/__/auth/callback")){const Z=Il(L),Ke=Z.firebaseError?function Er(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(Z.firebaseError)):null,pt=null===(I=null===(p=null==Ke?void 0:Ke.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],Vt=pt?xe(pt):null;return Vt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:L,postBody:null}}return null}(ni,yn.url)),p.onEvent(Ds||_c())});return function(ni){return Fn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,pt);const Vt=L,En=`${Z.packageName.toLowerCase()}://`;ml().handleOpenURL=function(){var Fn=(0,l.A)(function*(yn){if(yn.toLowerCase().startsWith(En)&&pt({url:yn}),"function"==typeof Vt)try{Vt(yn)}catch(ni){console.error(ni)}});return function(yn){return Fn.apply(this,arguments)}}()}};function _c(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}function iu(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function ou(v=(0,G.ZQ)()){return!("file:"!==iu()&&"ionic:"!==iu()&&"capacitor:"!==iu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function zf(){try{const v=self.localStorage,f=oi();if(v)return v.setItem(f,"1"),v.removeItem(f),!function dd(v=(0,G.ZQ)()){return function cd(){return(0,G.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Dh(v=(0,G.ZQ)()){return/Edge\/\d+/.test(v)}(v)}()||(0,G.zW)()}catch{return Ah()&&(0,G.zW)()}return!1}function Ah(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gi(){return(function Gf(){return"http:"===iu()||"https:"===iu()}()||(0,G.sr)()||ou())&&!function Ch(){return(0,G.lV)()||(0,G.Ll)()}()&&zf()&&!Ah()}function Nr(){return ou()&&typeof document<"u"}function Fo(){return(Fo=(0,l.A)(function*(){return!!Nr()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const zo={LOCAL:"local",NONE:"none",SESSION:"session"},hd=K,Ic="persistence";function bu(v){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.A)(function*(v){yield v._initializationPromise;const f=Su(),p=kn(Ic,v.config.apiKey,v.name);f&&f.setItem(p,v._getPersistence())})).apply(this,arguments)}function Su(){var v;try{return(null===(v=function wh(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Cc=K;class El{constructor(){this.browserResolver=Qn(rd),this.cordovaResolver=Qn(wu),this.underlyingResolver=null,this._redirectPersistence=Kn,this._completeRedirectFn=ul,this._overrideRedirectResult=ha}_initialize(f){var p=this;return(0,l.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,I,L){var Z=this;return(0,l.A)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openPopup(f,p,I,L)})()}_openRedirect(f,p,I,L){var Z=this;return(0,l.A)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openRedirect(f,p,I,L)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.A)(function*(){if(f.underlyingResolver)return;const p=yield function Th(){return Fo.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Wf(v){return v.unwrap()}function bv(v){return bh(v)}function bh(v){const{_tokenResponse:f}=v instanceof G.g?v.customData:v;if(!f)return null;if(!(v instanceof G.g)&&"temporaryProof"in f&&"phoneNumber"in f)return Gr.credentialFromResult(v);const p=f.providerId;if(!p||p===ce.PASSWORD)return null;let I;switch(p){case ce.GOOGLE:I=$s;break;case ce.FACEBOOK:I=Zo;break;case ce.GITHUB:I=ia;break;case ce.TWITTER:I=es;break;default:const{oauthIdToken:L,oauthAccessToken:Z,oauthTokenSecret:Ke,pendingToken:pt,nonce:Vt}=f;return Z||Ke||L||pt?pt?p.startsWith("saml.")?Jo._create(p,pt):Qi._fromParams({providerId:p,signInMethod:p,pendingToken:pt,idToken:L,accessToken:Z}):new jn(p).credential({idToken:L,accessToken:Z,rawNonce:Vt}):null}return v instanceof G.g?I.credentialFromError(v):I.credentialFromResult(v)}function ro(v,f){return f.catch(p=>{throw p instanceof G.g&&function kg(v,f){var p;const I=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Fg(v,function la(v,f){var p;const I=(0,G.Ku)(v),L=f;return K(f.customData.operationType,I,"argument-error"),K(null===(p=L.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),$i._fromError(I,L)}(v,f));else if(I){const L=bh(f),Z=f;L&&(Z.credential=L,Z.tenantId=I.tenantId||void 0,Z.email=I.email||void 0,Z.phoneNumber=I.phoneNumber||void 0)}}(v,p),p}).then(p=>{const L=p.user;return{operationType:p.operationType,credential:bv(p),additionalUserInfo:wt(p),user:Es.getOrCreate(L)}})}function su(v,f){return fd.apply(this,arguments)}function fd(){return(fd=(0,l.A)(function*(v,f){const p=yield f;return{verificationId:p.verificationId,confirm:I=>ro(v,p.confirm(I))}})).apply(this,arguments)}class Fg{constructor(f,p){this.resolver=p,this.auth=function Og(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ro(Wf(this.auth),this.resolver.resolveSignIn(f))}}class Es{constructor(f){this._delegate=f,this.multiFactor=function $r(v){const f=(0,G.Ku)(v);return gr.has(f)||gr.set(f,Na._fromUser(f)),gr.get(f)}(f)}static getOrCreate(f){return Es.USER_MAP.has(f)||Es.USER_MAP.set(f,new Es(f)),Es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,l.A)(function*(){return ro(p.auth,Ul(p._delegate,f))})()}linkWithPhoneNumber(f,p){var I=this;return(0,l.A)(function*(){return su(I.auth,function Qs(v,f,p){return tc.apply(this,arguments)}(I._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,l.A)(function*(){return ro(p.auth,function Ys(v,f,p){return sl.apply(this,arguments)}(p._delegate,f,El))})()}linkWithRedirect(f){var p=this;return(0,l.A)(function*(){return yield bu(pe(p.auth)),br(p._delegate,f,El)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,l.A)(function*(){return ro(p.auth,Gs(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return su(this.auth,function kf(v,f,p){return Iu.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return ro(this.auth,function Va(v,f,p){return Ii.apply(this,arguments)}(this._delegate,f,El))}reauthenticateWithRedirect(f){var p=this;return(0,l.A)(function*(){return yield bu(pe(p.auth)),lh(p._delegate,f,El)})()}sendEmailVerification(f){return function Pa(v,f){return Ja.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,l.A)(function*(){return yield function P(v,f){return ue.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Qu(v,f){const p=(0,G.Ku)(v);return(0,ae._isFirebaseServerApp)(p.auth.app)?Promise.reject($(p.auth)):ps(p,f,null)}(this._delegate,f)}updatePassword(f){return function di(v,f){return ps((0,G.Ku)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Fr(v,f){return Eu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function xa(v,f){return fs.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Bl(v,f,p){return yu.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const io=K;let Sh=(()=>{class v{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=p.options;io(L,"invalid-api-key",{appName:p.name}),io(L,"invalid-api-key",{appName:p.name});const Z=typeof window<"u"?El:void 0;this._delegate=I.initialize({options:{persistence:Ci(L,p.name),popupRedirectResolver:Z}}),this._delegate._updateErrorMap(Ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function Jt(v,f,p){const I=pe(v);K(I._canInitEmulator,I,"emulator-config-failed"),K(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const L=!(null==p||!p.disableWarnings),Z=Qt(f),{host:Ke,port:pt}=function tn(v){const f=Qt(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(I);if(L){const Z=L[1];return{host:Z,port:zt(I.substr(Z.length+1))}}{const[Z,Ke]=I.split(":");return{host:Z,port:zt(Ke)}}}(f);I.config.emulator={url:`${Z}//${Ke}${null===pt?"":`:${pt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ke,port:pt,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Rn(){function v(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,I)}applyActionCode(p){return function jo(v,f){return hs.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ya(this._delegate,p)}confirmPasswordReset(p,I){return function Kc(v,f,p){return ds.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var L=this;return(0,l.A)(function*(){return ro(L._delegate,function Ms(v,f,p){return eo.apply(this,arguments)}(L._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ma(v,f){return ho.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Za(v,f){const p=Yi.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,l.A)(function*(){io(Gi(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function Jr(v,f){return ed.apply(this,arguments)}(p._delegate,El);return I?ro(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Hf(v,f){pe(v)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,I,L){const{next:Z,error:Ke,complete:pt}=pd(p,I,L);return this._delegate.onAuthStateChanged(Z,Ke,pt)}onIdTokenChanged(p,I,L){const{next:Z,error:Ke,complete:pt}=pd(p,I,L);return this._delegate.onIdTokenChanged(Z,Ke,pt)}sendSignInLinkToEmail(p,I){return function wa(v,f,p){return vo.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function aa(v,f,p){return Br.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,l.A)(function*(){let L;switch(function va(v,f){hd(Object.values(zo).includes(f),v,"invalid-persistence-type"),(0,G.lV)()?hd(f!==zo.SESSION,v,"unsupported-persistence-type"):(0,G.Ll)()?hd(f===zo.NONE,v,"unsupported-persistence-type"):Ah()?hd(f===zo.NONE||f===zo.LOCAL&&(0,G.zW)(),v,"unsupported-persistence-type"):hd(f===zo.NONE||zf(),v,"unsupported-persistence-type")}(I._delegate,p),p){case zo.SESSION:L=Kn;break;case zo.LOCAL:L=(yield Qn(b)._isAvailable())?b:fo;break;case zo.NONE:L=zr;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ro(this._delegate,function Xa(v){return js.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ro(this._delegate,Rs(this._delegate,p))}signInWithCustomToken(p){return ro(this._delegate,function _u(v,f){return hr.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return ro(this._delegate,function Bi(v,f,p){return(0,ae._isFirebaseServerApp)(v.app)?Promise.reject($(v)):Rs((0,G.Ku)(v),zi.credential(f,p)).catch(function(){var I=(0,l.A)(function*(L){throw"auth/password-does-not-meet-requirements"===L.code&&Ws(v),L});return function(L){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return ro(this._delegate,function ba(v,f,p){return Ks.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return su(this._delegate,function oh(v,f,p){return Qc.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,l.A)(function*(){return io(Gi(),I._delegate,"operation-not-supported-in-this-environment"),ro(I._delegate,function si(v,f,p){return Yc.apply(this,arguments)}(I._delegate,p,El))})()}signInWithRedirect(p){var I=this;return(0,l.A)(function*(){return io(Gi(),I._delegate,"operation-not-supported-in-this-environment"),yield bu(I._delegate),ah(I._delegate,p,El)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Xu(v,f){return Ta.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=zo,v})();function pd(v,f,p){let I=v;"function"!=typeof v&&({next:I,error:f,complete:p}=v);const L=I;return{next:Ke=>L(Ke&&Es.getOrCreate(Ke)),error:f,complete:p}}function Ci(v,f){const p=function Ec(v,f){const p=Su();if(!p)return[];const I=kn(Ic,v,f);switch(p.getItem(I)){case zo.NONE:return[zr];case zo.LOCAL:return[b,Kn];case zo.SESSION:return[Kn];default:return[]}}(v,f);if(typeof self<"u"&&!p.includes(b)&&p.push(b),typeof window<"u")for(const I of[fo,Kn])p.includes(I)||p.push(I);return p.includes(zr)||p.push(zr),p}class Dc{constructor(){this.providerId="phone",this._delegate=new Gr(Wf(k.A.auth()))}static credential(f,p){return Gr.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Dc.PHONE_SIGN_IN_METHOD=Gr.PHONE_SIGN_IN_METHOD,Dc.PROVIDER_ID=Gr.PROVIDER_ID;const gd=K;class Rh{constructor(f,p,I=k.A.app()){var L;gd(null===(L=I.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ol(I.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cs(v){v.INTERNAL.registerComponent(new ie.uA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Sh(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zi,FacebookAuthProvider:Zo,GithubAuthProvider:ia,GoogleAuthProvider:$s,OAuthProvider:jn,SAMLAuthProvider:bi,PhoneAuthProvider:Dc,PhoneMultiFactorGenerator:ma,RecaptchaVerifier:Rh,TwitterAuthProvider:es,Auth:Sh,AuthCredential:cr,Error:G.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.6")}(k.A)},2246:(rn,ot,S)=>{"use strict";var ce,l=S(3345),k=S(467),ae=S(7852),G=S(1362),Ee=S(8041),oe=S(1076),ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={},ye=ye||{},X=ie||self;function Ne(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ue(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ce="closure_uid_"+(1e9*Math.random()>>>0),Xe=0;function Re(i,e,r){return i.call.apply(i.bind,arguments)}function Me(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Oe(i,e,r){return(Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:Me).apply(null,arguments)}function dt(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ae(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,u,d){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return e.prototype[u].apply(s,g)}}function Ve(){this.s=this.s,this.o=this.o}Ve.prototype.s=!1,Ve.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fe(i){Object.prototype.hasOwnProperty.call(i,Ce)&&i[Ce]||(i[Ce]=++Xe)}(this)},Ve.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function $(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function F(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(Ne(s)){const u=i.length||0,d=s.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=s[g]}else i.push(s)}}function ne(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};X.addEventListener("test",r,e),X.removeEventListener("test",r,e)}catch{}return i}();function be(i){return/^[\s\xa0]*$/.test(i)}function Ge(){var i=X.navigator;return i&&(i=i.userAgent)?i:""}function qe(i){return-1!=Ge().indexOf(i)}function Nt(i){return Nt[" "](i),i}Nt[" "]=function(){};var Ie,i,bt=qe("Opera"),Ye=qe("Trident")||qe("MSIE"),fe=qe("Edge"),ve=fe||Ye,Te=qe("Gecko")&&!(-1!=Ge().toLowerCase().indexOf("webkit")&&!qe("Edge"))&&!(qe("Trident")||qe("MSIE"))&&!qe("Edge"),me=-1!=Ge().toLowerCase().indexOf("webkit")&&!qe("Edge");function ct(){var i=X.document;return i?i.documentMode:void 0}e:{var We="",Be=(i=Ge(),Te?/rv:([^\);]+)(\)|;)/.exec(i):fe?/Edge\/([\d\.]+)/.exec(i):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):me?/WebKit\/(\S+)/.exec(i):bt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Be&&(We=Be?Be[1]:""),Ye){var tt=ct();if(null!=tt&&tt>parseFloat(We)){Ie=String(tt);break e}}Ie=We}var Gt=X.document&&Ye&&(ct()||parseInt(Ie,10))||void 0;function Bt(i,e){if(ne.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Te){e:{try{Nt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Yt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bt.$.h.call(this)}}Ae(Bt,ne);var Yt={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function ut(i,e,r,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=u,this.key=++yt,this.fa=this.ia=!1}function lt(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function vt(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function Dn(i){const e={};for(const r in i)e[r]=i[r];return e}const vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sn(i,e){let r,s;for(let u=1;u<arguments.length;u++){for(r in s=arguments[u],s)i[r]=s[r];for(let d=0;d<vn.length;d++)r=vn[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function ln(i){this.src=i,this.g={},this.h=0}function In(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],u=He(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(lt(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function un(i,e,r,s){for(var u=0;u<i.length;++u){var d=i[u];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return u}return-1}ln.prototype.add=function(i,e,r,s,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=un(i,e,s,u);return-1<g?(e=i[g],r||(e.ia=!1)):((e=new ut(e,this.src,d,!!s,u)).ia=r,i.push(e)),e};var $t="closure_lm_"+(1e6*Math.random()|0),Wn={};function Hn(i,e,r,s,u){if(s&&s.once)return ar(i,e,r,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Hn(i,e[d],r,s,u);return null}return r=mr(r),i&&i[jt]?i.O(e,r,Ue(s)?!!s.capture:!!s,u):or(i,e,r,!1,s,u)}function or(i,e,r,s,u,d){if(!e)throw Error("Invalid event type");var g=Ue(u)?!!u.capture:!!u,w=Gn(i);if(w||(i[$t]=w=new ln(i)),(r=w.add(e,r,s,g,d)).proxy)return r;if(s=function On(){const e=Pn;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)K||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(kr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function ar(i,e,r,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)ar(i,e[d],r,s,u);return null}return r=mr(r),i&&i[jt]?i.P(e,r,Ue(s)?!!s.capture:!!s,u):or(i,e,r,!0,s,u)}function Or(i,e,r,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Or(i,e[d],r,s,u);else s=Ue(s)?!!s.capture:!!s,r=mr(r),i&&i[jt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=un(d=i.g[e],r,s,u))&&(lt(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Gn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=un(e,r,s,u)),(r=-1<i?e[i]:null)&&pn(r))}function pn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[jt])In(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(kr(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=Gn(e))?(In(r,i),0==r.h&&(r.src=null,e[$t]=null)):lt(i)}}}function kr(i){return i in Wn?Wn[i]:Wn[i]="on"+i}function Pn(i,e){if(i.fa)i=!0;else{e=new Bt(e,this);var r=i.listener,s=i.la||i.src;i.ia&&pn(i),i=r.call(s,e)}return i}function Gn(i){return(i=i[$t])instanceof ln?i:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(i){return"function"==typeof i?i:(i[Dr]||(i[Dr]=function(e){return i.handleEvent(e)}),i[Dr])}function lr(){Ve.call(this),this.i=new ln(this),this.S=this,this.J=null}function yr(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new ne(e,i);else if(e instanceof ne)e.target=e.target||i;else{var u=e;Sn(e=new ne(s,i),u)}if(u=!0,r)for(var d=r.length-1;0<=d;d--){var g=e.g=r[d];u=Lr(g,s,!0,e)&&u}if(u=Lr(g=e.g=i,s,!0,e)&&u,u=Lr(g,s,!1,e)&&u,r)for(d=0;d<r.length;d++)u=Lr(g=e.g=r[d],s,!1,e)&&u}function Lr(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==r){var w=g.listener,R=g.la||g.src;g.ia&&In(i.i,g),u=!1!==w.call(R,s)&&u}}return u&&!s.defaultPrevented}Ae(lr,Ve),lr.prototype[jt]=!0,lr.prototype.removeEventListener=function(i,e,r,s){Or(this,i,e,r,s)},lr.prototype.N=function(){if(lr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)lt(r[s]);delete i.g[e],i.h--}}this.J=null},lr.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},lr.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var ri=X.JSON.stringify;function Je(){var i=qt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ze=new class at{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new se,i=>i.reset());class se{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function de(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function Pe(i){X.setTimeout(()=>{throw i},0)}let mt,et=!1,qt=new class Tt{constructor(){this.h=this.g=null}add(e,r){const s=Ze.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},_n=()=>{const i=X.Promise.resolve(void 0);mt=()=>{i.then(qn)}};var qn=()=>{for(var i;i=Je();){try{i.h.call(i.g)}catch(r){Pe(r)}var e=Ze;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}et=!1};function Qn(i,e){lr.call(this),this.h=i||1,this.g=e||X,this.j=Oe(this.qb,this),this.l=Date.now()}function Rr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function zr(i,e,r){if("function"==typeof i)r&&(i=Oe(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Oe(i.handleEvent,i)}return 2147483647<Number(e)?-1:X.setTimeout(i,e||0)}function kn(i){i.g=zr(()=>{i.g=null,i.i&&(i.i=!1,kn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ae(Qn,lr),(ce=Qn.prototype).ga=!1,ce.T=null,ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yr(this,"tick"),this.ga&&(Rr(this),this.start()))}},ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.N=function(){Qn.$.N.call(this),Rr(this),delete this.g};class gn extends Ve{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(i){Ve.call(this),this.h=i,this.g={}}Ae(vi,Ve);var Ur=[];function Ai(i,e,r,s){Array.isArray(r)||(r&&(Ur[0]=r.toString()),r=Ur);for(var u=0;u<r.length;u++){var d=Hn(e,r[u],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Mi(i){vt(i.g,function(e,r){this.g.hasOwnProperty(r)&&pn(e)},i),i.g={}}function _i(){this.g=!0}function Qr(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gt(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return ri(r)}catch{return e}}(i,r)+(s?" "+s:"")})}vi.prototype.N=function(){vi.$.N.call(this),Mi(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_i.prototype.Ea=function(){this.g=!1},_i.prototype.info=function(){};var Ot={},dn=null;function bn(){return dn=dn||new lr}function $n(i){ne.call(this,Ot.Ta,i)}function Bn(i){const e=bn();yr(e,new $n(e))}function zn(i,e){ne.call(this,Ot.STAT_EVENT,i),this.stat=e}function Xn(i){const e=bn();yr(e,new zn(e,i))}function xn(i,e){ne.call(this,Ot.Ua,i),this.size=e}function ur(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){i()},e)}Ot.Ta="serverreachability",Ae($n,ne),Ot.STAT_EVENT="statevent",Ae(zn,ne),Ot.Ua="timingevent",Ae(xn,ne);var rr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},go={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pe(){}function W(){}pe.prototype.h=null;var sn,_e={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ht(){ne.call(this,"d")}function Ut(){ne.call(this,"c")}function hn(){}function An(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new vi(this),this.P=Kr,this.V=new Qn(i=ve?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}Ae(ht,ne),Ae(Ut,ne),Ae(hn,pe),hn.prototype.g=function(){return new XMLHttpRequest},hn.prototype.i=function(){return{}},sn=new hn;var Kr=45e3,At={},H={};function Y(i,e,r){i.L=1,i.A=Pi(M(e)),i.u=r,i.S=!0,ze(i,null)}function ze(i,e){i.G=Date.now(),kt(i),i.B=M(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Bs(r.i,"t",s),i.o=0,r=i.l.J,i.h=new Vn,i.g=$o(i.l,r?e:null,!i.u),0<i.O&&(i.M=new gn(Oe(i.Pa,i,i.g),i.O)),Ai(i.U,i.g,"readystatechange",i.nb),e=i.I?Dn(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Bn(),function tr(i,e,r,s,u,d){i.info(function(){if(i.g)if(d)for(var g="",w=d.split("&"),R=0;R<w.length;R++){var j=w[R].split("=");if(1<j.length){var te=j[0];j=j[1];var we=te.split("_");g=2<=we.length&&"type"==we[1]?g+(te+"=")+j+"&":g+(te+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Le(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function st(i,e,r){let u,s=!0;for(;!i.J&&i.o<r.length;){if(u=Pt(i,r),u==H){4==e&&(i.s=4,Xn(14),s=!1),Qr(i.j,i.m,null,"[Incomplete Response]");break}if(u==At){i.s=4,Xn(15),Qr(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Qr(i.j,i.m,u,null),zt(i,u)}Le(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,Xn(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),mo(e),e.M=!0,Xn(11))):(Qr(i.j,i.m,r,"[Invalid Chunked Response]"),tn(i),Qt(i))}function Pt(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?H:(r=Number(e.substring(r,s)),isNaN(r)?At:(s+=1)+r>e.length?H:(e=e.slice(s,s+r),i.o=s+r,e))}function kt(i){i.Y=Date.now()+i.P,nn(i,i.P)}function nn(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=ur(Oe(i.lb,i),e)}function Jt(i){i.C&&(X.clearTimeout(i.C),i.C=null)}function Qt(i){0==i.l.H||i.J||Ul(i.l,i)}function tn(i){Jt(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Rr(i.V),Mi(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function zt(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||ws(r.i,i)))if(!i.K&&ws(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;Hs(r),P(r)}bo(r),Xn(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&0==r.A&&!r.v&&(r.v=ur(Oe(r.ib,r),6e3));if(1>=Yo(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Gs(r,11)}else if((i.K||r.g==i)&&Hs(r),!be(e))for(u=r.Ja.g.parse(e),e=0;e<u.length;e++){let j=u[e];if(r.V=j[0],j=j[1],2==r.H)if("c"==j[0]){r.K=j[1],r.pa=j[2];const te=j[3];null!=te&&(r.ra=te,r.l.info("VER="+r.ra));const we=j[4];null!=we&&(r.Ga=we,r.l.info("SVER="+r.Ga));const nt=j[5];null!=nt&&"number"==typeof nt&&0<nt&&(r.L=s=1.5*nt,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Rt=i.g;if(Rt){const fn=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fn){var d=s.i;d.g||-1==fn.indexOf("spdy")&&-1==fn.indexOf("quic")&&-1==fn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(wi(d,d.h),d.h=null))}if(s.F){const Tn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(s.Da=Tn,ir(s.I,s.F,Tn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=i;if((s=r).wa=Qa(s,s.J?s.pa:null,s.Y),g.K){Vi(s.i,g);var w=g,R=s.L;R&&w.setTimeout(R),w.C&&(Jt(w),kt(w)),s.g=g}else Wi(s);0<r.j.length&&U(r)}else"stop"!=j[0]&&"close"!=j[0]||Gs(r,7);else 3==r.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Gs(r,7):B(r):"noop"!=j[0]&&r.h&&r.h.Aa(j),r.A=0)}Bn()}catch{}}function dr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ne(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function cr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ne(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function Rn(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ne(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),u=s.length,d=0;d<u;d++)e.call(void 0,s[d],r&&r[d],i)}(ce=An.prototype).setTimeout=function(i){this.P=i},ce.nb=function(i){i=i.target;const e=this.M;e&&3==Zi(i)?e.l():this.Pa(i)},ce.Pa=function(i){try{if(i==this.g)e:{const te=Zi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||ve||this.g&&(this.h.h||this.g.ja()||Ni(this.g)))){this.J||4!=te||7==e||Bn(),Jt(this);var r=this.g.da();this.ca=r;t:if(Le(this)){var s=Ni(this.g);i="";var u=s.length,d=4==Zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Qt(this);var g="";break t}this.h.i=new X.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function Ti(i,e,r,s,u,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+d+" "+g})}(this.j,this.v,this.B,this.m,this.W,te,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,R=this.g;if((w=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(w)){var j=w;break t}}j=null}if(!(r=j)){this.i=!1,this.s=3,Xn(12),tn(this),Qt(this);break e}Qr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,r)}this.S?(st(this,te,g),ve&&this.i&&3==te&&(Ai(this.U,this.V,"tick",this.mb),this.V.start())):(Qr(this.j,this.m,g,null),zt(this,g)),4==te&&tn(this),this.i&&!this.J&&(4==te?Ul(this.l,this):(this.i=!1,kt(this)))}else(function Bo(i){const e={};i=(i.g&&2<=Zi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(be(i[s]))continue;var r=de(i[s]);const u=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[u]||[];e[u]=d,d.push(r)}!function Zt(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,Xn(12)):(this.s=0,Xn(13)),tn(this),Qt(this)}}}catch{}},ce.mb=function(){if(this.g){var i=Zi(this.g),e=this.g.ja();this.o<e.length&&(Jt(this),st(this,i,e),this.i&&4!=i&&kt(this))}},ce.cancel=function(){this.J=!0,tn(this)},ce.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function It(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Bn(),Xn(17)),tn(this),this.s=2,Qt(this)):nn(this,this.Y-i)};var Sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof re){this.h=i.h,le(this,i.j),this.s=i.s,this.g=i.g,rt(this,i.m),this.l=i.l;var e=i.i,r=new To;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),sr(this,r),this.o=i.o}else i&&(e=String(i).match(Sr))?(this.h=!1,le(this,e[1]||"",!0),this.s=li(e[2]||""),this.g=li(e[3]||"",!0),rt(this,e[4]),this.l=li(e[5]||"",!0),sr(this,e[6]||"",!0),this.o=li(e[7]||"")):(this.h=!1,this.i=new To(null,this.h))}function M(i){return new re(i)}function le(i,e,r){i.j=r?li(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function rt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function sr(i,e,r){e instanceof To?(i.i=e,function Lo(i,e){e&&!i.j&&(uo(i),i.i=null,i.g.forEach(function(r,s){var u=s.toLowerCase();s!=u&&(as(this,s),Bs(this,u,r))},i)),i.j=e}(i.i,i.h)):(r||(e=mi(e,ss)),i.i=new To(e,i.h))}function ir(i,e,r){i.i.set(e,r)}function Pi(i){return ir(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function li(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function mi(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,na),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function na(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}re.prototype.toString=function(){var i=[],e=this.j;e&&i.push(mi(e,Li,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(mi(e,Li,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(mi(r,"/"==r.charAt(0)?ui:Ea,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",mi(r,Yn)),i.join("")};var Li=/[#\/\?@]/g,Ea=/[#\?:]/g,ui=/[#\?]/g,ss=/[#\?@]/g,Yn=/#/g;function To(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function uo(i){i.g||(i.g=new Map,i.h=0,i.i&&function C(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),u=null;if(0<=s){var d=i[r].substring(0,s);u=i[r].substring(s+1)}else d=i[r];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function as(i,e){uo(i),e=Qo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Xo(i,e){return uo(i),e=Qo(i,e),i.g.has(e)}function Bs(i,e,r){as(i,e),0<r.length&&(i.i=null,i.g.set(Qo(i,e),$(r)),i.h+=r.length)}function Qo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(ce=To.prototype).add=function(i,e){uo(this),this.i=null,i=Qo(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ce.forEach=function(i,e){uo(this),this.g.forEach(function(r,s){r.forEach(function(u){i.call(e,u,s,this)},this)},this)},ce.ta=function(){uo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const u=i[s];for(let d=0;d<u.length;d++)r.push(e[s])}return r},ce.Z=function(i){uo(this);let e=[];if("string"==typeof i)Xo(this,i)&&(e=e.concat(this.g.get(Qo(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},ce.set=function(i,e){return uo(this),this.i=null,Xo(this,i=Qo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var u=d;""!==g[s]&&(u+="="+encodeURIComponent(String(g[s]))),i.push(u)}}return this.i=i.join("&")};var Xi=class{constructor(i,e){this.g=i,this.map=e}};function ra(i){this.l=i||Ca,i=X.PerformanceNavigationTiming?0<(i=X.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ca=10;function Qi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Yo(i){return i.h?1:i.g?i.g.size:0}function ws(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function wi(i,e){i.g?i.g.add(e):i.h=e}function Vi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Da(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return $(i.i)}ra.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ls=class{stringify(i){return X.JSON.stringify(i,void 0)}parse(i){return X.JSON.parse(i,void 0)}};function qa(){this.g=new ls}function us(i,e,r){const s=r||"";try{dr(i,function(u,d){let g=u;Ue(u)&&(g=ri(u)),e.push(s+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function co(i,e,r,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function bs(i){this.l=i.ec||null,this.j=i.ob||!1}function xi(i,e){lr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ae(bs,pe),bs.prototype.g=function(){return new xi(this.l,this.j)},bs.prototype.i=function(i){return function(){return i}}({}),Ae(xi,lr);var Yi=0;function wo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function zi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ui(i)}function Ui(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ce=xi.prototype).open=function(i,e){if(this.readyState!=Yi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ui(this)},ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zi(this)),this.readyState=Yi},ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?zi(this):Ui(this),3==this.readyState&&wo(this)}},ce.Za=function(i){this.g&&(this.response=this.responseText=i,zi(this))},ce.Ya=function(i){this.g&&(this.response=i,zi(this))},ce.ka=function(){this.g&&zi(this)},ce.setRequestHeader=function(i,e){this.v.append(i,e)},ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var yi=X.JSON.parse;function jn(i){lr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zo,this.L=this.M=!1}Ae(jn,lr);var Zo="",$s=/^https?$/i,ia=["POST","PUT"];function Jo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Uo(i),es(i)}function Uo(i){i.F||(i.F=!0,yr(i,"complete"),yr(i,"error"))}function bi(i){if(i.h&&typeof ye<"u"&&(!i.C[1]||4!=Zi(i)||2!=i.da()))if(i.v&&4==Zi(i))zr(i.La,0,i);else if(yr(i,"readystatechange"),4==Zi(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var u=String(i.I).match(Sr)[1]||null;!u&&X.self&&X.self.location&&(u=X.self.location.protocol.slice(0,-1)),s=!$s.test(u?u.toLowerCase():"")}r=s}if(r)yr(i,"complete"),yr(i,"success");else{i.m=6;try{var d=2<Zi(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",Uo(i)}}finally{es(i)}}}function es(i,e){if(i.g){oa(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||yr(i,"ready");try{r.onreadystatechange=s}catch{}}}function oa(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(X.clearTimeout(i.A),i.A=null)}function Zi(i){return i.g?i.g.readyState:0}function Ni(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Zo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(i){let e="";return vt(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function js(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Xa(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):ir(i,e,r))}function cs(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function sa(i){this.Ga=0,this.j=[],this.l=new _i,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cs("baseRetryDelayMs",5e3,i),this.hb=cs("retryDelaySeedMs",1e4,i),this.eb=cs("forwardChannelMaxRetries",2,i),this.xa=cs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ra(i&&i.concurrentRequestLimit),this.Ja=new qa,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function B(i){if(ue(i),3==i.H){var e=i.W++,r=M(i.I);if(ir(r,"SID",i.K),ir(r,"RID",e),ir(r,"TYPE","terminate"),an(i,r),(e=new An(i,i.l,e)).L=2,e.A=Pi(M(r)),r=!1,X.navigator&&X.navigator.sendBeacon)try{r=X.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&X.Image&&((new Image).src=e.A,r=!0),r||(e.g=$o(e.l,null),e.g.ha(e.A)),e.G=Date.now(),kt(e)}zs(i)}function P(i){i.g&&(mo(i),i.g.cancel(),i.g=null)}function ue(i){P(i),i.u&&(X.clearTimeout(i.u),i.u=null),Hs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&X.clearTimeout(i.m),i.m=null)}function U(i){if(!Qi(i.i)&&!i.m){i.m=!0;var e=i.Na;mt||_n(),et||(mt(),et=!0),qt.add(e,i),i.C=0}}function Wt(i,e){var r;r=e?e.m:i.W++;const s=M(i.I);ir(s,"SID",i.K),ir(s,"RID",r),ir(s,"AID",i.V),an(i,s),i.o&&i.s&&js(s,i.o,i.s),r=new An(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Yr(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),wi(i.i,r),Y(r,s,e)}function an(i,e){i.na&&vt(i.na,function(r,s){ir(e,s,r)}),i.h&&dr({},function(r,s){ir(e,s,r)})}function Yr(i,e,r){r=Math.min(i.j.length,r);var s=i.h?Oe(i.h.Va,i.h,i):null;e:{var u=i.j;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=u[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let w=!0;for(let R=0;R<r;R++){let j=u[R].g;const te=u[R].map;if(j-=d,0>j)d=Math.max(0,u[R].g-100),w=!1;else try{us(te,g,"req"+j+"_")}catch{s&&s(te)}}if(w){s=g.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function Wi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;mt||_n(),et||(mt(),et=!0),qt.add(e,i),i.A=0}}function bo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ur(Oe(i.Ma,i),Aa(i,i.A)),i.A++,0))}function mo(i){null!=i.B&&(X.clearTimeout(i.B),i.B=null)}function Rs(i){i.g=new An(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=M(i.wa);ir(e,"RID","rpc"),ir(e,"SID",i.K),ir(e,"AID",i.V),ir(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&ir(e,"TO",i.qa),ir(e,"TYPE","xmlhttp"),an(i,e),i.o&&i.s&&js(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=Pi(M(e)),r.u=null,r.S=!0,ze(r,i)}function Hs(i){null!=i.v&&(X.clearTimeout(i.v),i.v=null)}function Ul(i,e){var r=null;if(i.g==e){Hs(i),mo(i),i.g=null;var s=2}else{if(!ws(i.i,e))return;r=e.F,Vi(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var u=i.C;yr(s=bn(),new xn(s,r)),U(i)}else Wi(i);else if(3==(u=e.s)||0==u&&0<e.ca||!(1==s&&function he(i,e){return!(Yo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ur(Oe(i.Na,i,e),Aa(i,i.C)),i.C++,0)))}(i,e)||2==s&&bo(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:Gs(i,5);break;case 4:Gs(i,10);break;case 3:Gs(i,6);break;default:Gs(i,2)}}function Aa(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Gs(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=Oe(i.pb,i);r||(r=new re("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||le(r,"https"),Pi(r)),function vu(i,e){const r=new _i;if(X.Image){const s=new Image;s.onload=dt(co,r,s,"TestLoadImage: loaded",!0,e),s.onerror=dt(co,r,s,"TestLoadImage: error",!1,e),s.onabort=dt(co,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=dt(co,r,s,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else Xn(2);i.H=0,i.h&&i.h.za(e),zs(i),ue(i)}function zs(i){if(i.H=0,i.ma=[],i.h){const e=Da(i.i);(0!=e.length||0!=i.j.length)&&(F(i.ma,e),F(i.ma,i.j),i.i.i.length=0,$(i.j),i.j.length=0),i.h.ya()}}function Qa(i,e,r){var s=r instanceof re?M(r):new re(r);if(""!=s.g)e&&(s.g=e+"."+s.g),rt(s,s.m);else{var u=X.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new re(null);s&&le(d,s),e&&(d.g=e),u&&rt(d,u),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&ir(s,r,e),ir(s,"VER",i.ra),an(i,s),s}function $o(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(i.Ha&&!i.va?new bs({ob:r}):i.va)).Oa(i.J),e}function _u(){}function hr(){if(Ye&&!(10<=Number(Gt)))throw Error("Environmental error: no available transport.")}function Ar(i,e){lr.call(this),this.g=new sa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!be(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ci(this)}function ii(i){ht.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function So(){Ut.call(this),this.status=1}function ci(i){this.g=i}function Ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function aa(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(u=0;16>u;++u)s[u]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],g=(e=i.g[0])+(d^(r=i.g[1])&((u=i.g[2])^d))+s[0]+3614090360&4294967295;g=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=r+(g<<7&4294967295|g>>>25))+((g=d+(u^e&(r^u))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(u^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(u^e&(r^u))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(u^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(u^e&(r^u))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(u^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(u^e&(r^u))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=u+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^u&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(u^d&(r^u))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^u&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(u^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^d&(r^u))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^u&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(u^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^d&(r^u))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^u&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(u^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(u^d&(r^u))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^u&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=u+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(u^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^u^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^u)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=u+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^u)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=u+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^u)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=u+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^u^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^u)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=u+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(u^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(u^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(u^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=u+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=r+((g=e+(u^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((u=d+((g=u+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+d&4294967295}function Br(i,e){this.h=e;for(var r=[],s=!0,u=i.length-1;0<=u;u--){var d=0|i[u];s&&d==e||(r[u]=d,s=!1)}this.g=r}(ce=jn.prototype).Oa=function(i){this.M=i},ce.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sn.g(),this.C=function De(i){return i.h||(i.h=i.i())}(this.u?this.u:sn),this.g.onreadystatechange=Oe(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Jo(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)r.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),u=X.FormData&&i instanceof X.FormData,!(0<=He(ia,e))||s||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of r)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oa(this),0<this.B&&((this.L=function Ss(i){return Ye&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oe(this.ua,this)):this.A=zr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Jo(this,d)}},ce.ua=function(){typeof ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,yr(this,"complete"),yr(this,"abort"),es(this))},ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),es(this,!0)),jn.$.N.call(this)},ce.La=function(){this.s||(this.G||this.v||this.l?bi(this):this.kb())},ce.kb=function(){bi(this)},ce.isActive=function(){return!!this.g},ce.da=function(){try{return 2<Zi(this)?this.g.status:-1}catch{return-1}},ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),yi(e)}},ce.Ia=function(){return this.m},ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=sa.prototype).ra=8,ce.H=1,ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new An(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Dn(d),Sn(d,this.U)):d=this.U),null!==this.o||this.O||(u.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Yr(this,u,e),ir(r=M(this.I),"RID",i),ir(r,"CVER",22),this.F&&ir(r,"X-HTTP-Session-Id",this.F),an(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(Xa(d)))+"&"+e:this.o&&js(r,this.o,d)),wi(this.i,u),this.bb&&ir(r,"TYPE","init"),this.P?(ir(r,"$req",e),ir(r,"SID","null"),u.aa=!0,Y(u,r,null)):Y(u,r,e),this.H=2}}else 3==this.H&&(i?Wt(this,i):0==this.j.length||Qi(this.i)||Wt(this))},ce.Ma=function(){if(this.u=null,Rs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ur(Oe(this.jb,this),i)}},ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xn(10),P(this),Rs(this))},ce.ib=function(){null!=this.v&&(this.v=null,P(this),bo(this),Xn(19))},ce.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Xn(2)):(this.l.info("Failed to ping google.com"),Xn(1))},ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(ce=_u.prototype).Ba=function(){},ce.Aa=function(){},ce.za=function(){},ce.ya=function(){},ce.isActive=function(){return!0},ce.Va=function(){},hr.prototype.g=function(i,e){return new Ar(i,e)},Ae(Ar,lr),Ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;Xn(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Qa(i,null,i.Y),U(i)},Ar.prototype.close=function(){B(this.g)},Ar.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=ri(i),i=r);e.j.push(new Xi(e.fb++,i)),3==e.H&&U(e)},Ar.prototype.N=function(){this.g.h=null,delete this.j,B(this.g),delete this.g,Ar.$.N.call(this)},Ae(ii,ht),Ae(So,Ut),Ae(ci,_u),ci.prototype.Ba=function(){yr(this.g,"a")},ci.prototype.Aa=function(i){yr(this.g,new ii(i))},ci.prototype.za=function(i){yr(this.g,new So)},ci.prototype.ya=function(){yr(this.g,"b")},Ae(Ji,function Ws(){this.blockSize=-1}),Ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ji.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,u=this.h,d=0;d<e;){if(0==u)for(;d<=r;)aa(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[u++]=i.charCodeAt(d++),u==this.blockSize){aa(this,s),u=0;break}}else for(;d<e;)if(s[u++]=i[d++],u==this.blockSize){aa(this,s),u=0;break}}this.h=u,this.i+=e},Ji.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Kc={};function ds(i){return-128<=i&&128>i?function xt(i,e){var r=Kc;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new Br([0|e],0>e?-1:0)}):new Br([0|i],0>i?-1:0)}function jo(i){if(isNaN(i)||!isFinite(i))return ts;if(0>i)return Bi(jo(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=Ya;return new Br(e,0)}var Ya=4294967296,ts=ds(0),Xu=ds(1),Ta=ds(16777216);function Ms(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function eo(i){return-1==i.h}function Bi(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new Br(r,~i.h).add(Xu)}function wa(i,e){return i.add(Bi(e))}function vo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Za(i,e){this.g=i,this.h=e}function ba(i,e){if(Ms(e))throw Error("division by zero");if(Ms(i))return new Za(ts,ts);if(eo(i))return e=ba(Bi(i),e),new Za(Bi(e.g),Bi(e.h));if(eo(e))return e=ba(i,Bi(e)),new Za(Bi(e.g),e.h);if(30<i.g.length){if(eo(i)||eo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Xu,s=e;0>=s.X(i);)r=Ks(r),s=Ks(s);var u=Sa(r,1),d=Sa(s,1);for(s=Sa(s,2),r=Sa(r,2);!Ms(s);){var g=d.add(s);0>=g.X(i)&&(u=u.add(r),d=g),s=Sa(s,1),r=Sa(r,1)}return e=wa(i,u.R(e)),new Za(u,e)}for(u=ts;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(d=jo(r)).R(e);eo(g)||0<g.X(i);)g=(d=jo(r-=s)).R(e);Ms(d)&&(d=Xu),u=u.add(d),i=wa(i,g)}return new Za(u,i)}function Ks(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Br(r,i.h)}function Sa(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,u=[],d=0;d<s;d++)u[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new Br(u,i.h)}(ce=Br.prototype).ea=function(){if(eo(this))return-Bi(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:Ya+s)*e,e*=Ya}return i},ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ms(this))return"0";if(eo(this))return"-"+Bi(this).toString(i);for(var e=jo(Math.pow(i,6)),r=this,s="";;){var u=ba(r,e).g,d=((0<(r=wa(r,u.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(Ms(r=u))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ce.X=function(i){return eo(i=wa(this,i))?-1:Ms(i)?0:1},ce.abs=function(){return eo(this)?Bi(this):this},ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,u=0;u<=e;u++){var d=s+(65535&this.D(u))+(65535&i.D(u)),g=(d>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=g>>>16,r[u]=(g&=65535)<<16|(d&=65535)}return new Br(r,-2147483648&r[r.length-1]?-1:0)},ce.R=function(i){if(Ms(this)||Ms(i))return ts;if(eo(this))return eo(i)?Bi(this).R(Bi(i)):Bi(Bi(this).R(i));if(eo(i))return Bi(this.R(Bi(i)));if(0>this.X(Ta)&&0>i.X(Ta))return jo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var d=this.D(s)>>>16,g=65535&this.D(s),w=i.D(u)>>>16,R=65535&i.D(u);r[2*s+2*u]+=g*R,vo(r,2*s+2*u),r[2*s+2*u+1]+=d*R,vo(r,2*s+2*u+1),r[2*s+2*u+1]+=g*w,vo(r,2*s+2*u+1),r[2*s+2*u+2]+=d*w,vo(r,2*s+2*u+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Br(r,0)},ce.gb=function(i){return ba(this,i).h},ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new Br(r,this.h&i.h)},ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new Br(r,this.h|i.h)},ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new Br(r,this.h^i.h)},hr.prototype.createWebChannel=hr.prototype.g,Ar.prototype.send=Ar.prototype.u,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,go.COMPLETE="complete",W.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",lr.prototype.listen=lr.prototype.O,jn.prototype.listenOnce=jn.prototype.P,jn.prototype.getLastError=jn.prototype.Sa,jn.prototype.getLastErrorCode=jn.prototype.Ia,jn.prototype.getStatus=jn.prototype.da,jn.prototype.getResponseJson=jn.prototype.Wa,jn.prototype.getResponseText=jn.prototype.ja,jn.prototype.send=jn.prototype.ha,jn.prototype.setWithCredentials=jn.prototype.Oa,Ji.prototype.digest=Ji.prototype.l,Ji.prototype.reset=Ji.prototype.reset,Ji.prototype.update=Ji.prototype.j,Br.prototype.add=Br.prototype.add,Br.prototype.multiply=Br.prototype.R,Br.prototype.modulo=Br.prototype.gb,Br.prototype.compare=Br.prototype.X,Br.prototype.toNumber=Br.prototype.ea,Br.prototype.toString=Br.prototype.toString,Br.prototype.getBits=Br.prototype.D,Br.fromNumber=jo,Br.fromString=function hs(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Bi(hs(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=jo(Math.pow(e,8)),s=ts,u=0;u<i.length;u+=8){var d=Math.min(8,i.length-u),g=parseInt(i.substring(u,u+d),e);8>d?(d=jo(Math.pow(e,d)),s=s.R(d).add(jo(g))):s=(s=s.R(r)).add(jo(g))}return s};var Ra=je.createWebChannelTransport=function(){return new hr},Ma=je.getStatEventTarget=function(){return bn()},ho=je.ErrorCode=rr,Pa=je.EventType=go,Ja=je.Event=Ot,Bl=je.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},el=(je.FetchXmlHttpFactory=bs,je.WebChannel=W),Ro=je.XhrIo=jn,xa=je.Md5=Ji,fs=je.Integer=Br;const Qu="@firebase/firestore";class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let ps="10.11.0";const Mo=new Ee.Vy("@firebase/firestore");function D(){return Mo.logLevel}function q(i,...e){if(Mo.logLevel<=Ee.$b.DEBUG){const r=e.map(ke);Mo.debug(`Firestore (${ps}): ${i}`,...r)}}function N(i,...e){if(Mo.logLevel<=Ee.$b.ERROR){const r=e.map(ke);Mo.error(`Firestore (${ps}): ${i}`,...r)}}function J(i,...e){if(Mo.logLevel<=Ee.$b.WARN){const r=e.map(ke);Mo.warn(`Firestore (${ps}): ${i}`,...r)}}function ke(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function it(i="Unexpected state"){const e=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: `+i;throw N(e),new Error(e)}function wt(i,e){i||it()}function Kt(i,e){return i}const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends oe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Mr{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(di.UNAUTHENTICATED))}shutdown(){}}class ns{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Pr{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const d=j=>this.i!==u?(u=this.i,r(j)):Promise.resolve();let g=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new nr,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const j=g;e.enqueueRetryable((0,k.A)(function*(){yield j.promise,yield d(s.currentUser)}))},R=j=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(j=>R(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?R(j):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new nr)}},0),w()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt("string"==typeof s.accessToken),new Mr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new di(e)}}class en{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=di.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ln{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new en(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,q("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?u(d):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(wt("string"==typeof r.token),this.R=r.token,new qr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $i(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class la{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=$i(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[d]%62))}return s}}function Nn(i,e){return i<e?-1:i>e?1:0}function ki(i,e,r){return i.length===e.length&&i.every((s,u)=>r(s,e[u]))}function gs(i){return i+"\0"}class Mn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Mt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Mt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Mt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Mn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Mn(0,0))}static max(){return new Un(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Na{constructor(e,r,s){void 0===r?r=0:r>e.length&&it(),void 0===s?s=e.length-r:s>e.length-r&&it(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Na.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const d=e.get(u),g=r.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class gr extends Na{construct(e,r,s){return new gr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new gr(r)}static emptyPath(){return new gr([])}}const $r=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Na{construct(e,r,s){return new jr(e,r,s)}static isValidIdentifier(e){return $r.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const d=()=>{if(0===s.length)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Mt(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Mt(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,u+=2}else"`"===w?(g=!g,u++):"."!==w||g?(s+=w,u++):(d(),u++)}if(d(),g)throw new Mt(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(r)}static emptyPath(){return new jr([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(gr.fromString(e))}static fromName(e){return new mn(gr.fromString(e).popFirst(5))}static empty(){return new mn(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new gr(e.slice()))}}class Po{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function tl(i){return i.fields.find(e=>2===e.kind)}function qs(i){return i.fields.filter(e=>2!==e.kind)}Po.UNKNOWN_ID=-1;class fo{constructor(e,r){this.fieldPath=e,this.kind=r}}class Kn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Kn(0,oi.min())}}function Yu(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=Un.fromTimestamp(1e9===s?new Mn(r+1,0):new Mn(r,s));return new oi(u,mn.empty(),e)}function Oa(i){return new oi(i.readTime,i.key,-1)}class oi{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new oi(Un.min(),mn.empty(),-1)}static max(){return new oi(Un.max(),mn.empty(),-1)}}function $l(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=mn.comparator(i.documentKey,e.documentKey),0!==r?r:Nn(i.largestBatchId,e.largestBatchId))}const fi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rs(i){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,k.A)(function*(i){if(i.code!==Ct.FAILED_PRECONDITION||i.message!==fi)throw i;q("LocalStore","Unexpectedly lost primary lease")}),Ki.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new _t((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof _t?r:_t.resolve(r)}catch(r){return _t.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):_t.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):_t.reject(r)}static resolve(e){return new _t((r,s)=>{r(e)})}static reject(e){return new _t((r,s)=>{s(e)})}static waitFor(e){return new _t((r,s)=>{let u=0,d=0,g=!1;e.forEach(w=>{++u,w.next(()=>{++d,g&&d===u&&r()},R=>s(R))}),g=!0,d===u&&r()})}static or(e){let r=_t.resolve(!1);for(const s of e)r=r.next(u=>u?_t.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,d)=>{s.push(r.call(this,u,d))}),this.waitFor(s)}static mapArray(e,r){return new _t((s,u)=>{const d=e.length,g=new Array(d);let w=0;for(let R=0;R<d;R++){const j=R;r(e[j]).next(te=>{g[j]=te,++w,w===d&&s(g)},te=>u(te))}})}static doWhile(e,r){return new _t((s,u)=>{const d=()=>{!0===e()?r().next(()=>{d()},u):s()};d()})}}class ka{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new nr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _o(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Hl(s.target.error);this.V.reject(new _o(e,u))}}static open(e,r,s,u){try{return new ka(r,e.transaction(u,s))}catch(d){throw new _o(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new qc(r)}}class qi{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===qi.S((0,oe.ZQ)())&&N("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),ms(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,oe.zW)())return!1;if(qi.C())return!0;const e=(0,oe.ZQ)(),r=qi.S(e),s=0<r&&r<10,u=qi.v(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,k.A)(function*(){return r.db||(q("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{u(new _o(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const w=g.target.error;u("VersionError"===w.name?new Mt(Ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Mt(Ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new _o(e,w))},d.onupgradeneeded=g=>{q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.N(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.L&&(r.db.onversionchange=s=>r.L(s)),r.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var d=this;return(0,k.A)(function*(){const g="readonly"===r;let w=0;for(;;){++w;try{d.db=yield d.O(e);const R=ka.open(d.db,e,g?"readonly":"readwrite",s),j=u(R).next(te=>(R.g(),te)).catch(te=>(R.abort(te),_t.reject(te))).toPromise();return j.catch(()=>{}),yield R.m,j}catch(R){const j=R,te="FirebaseError"!==j.name&&w<3;if(q("SimpleDb","Transaction failed with error:",j.message,"Retrying:",te),d.close(),!te)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ms(this.k.delete())}}class _o extends Mt{constructor(e,r){super(Ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ho(i){return"IndexedDbTransactionError"===i.name}class qc{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(q("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ms(s)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),ms(this.store.add(e))}get(e){return ms(this.store.get(e)).next(r=>(void 0===r&&(r=null),q("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),ms(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),ms(this.store.count())}W(e,r){const s=this.options(e,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const d=u.getAll(s.range);return new _t((g,w)=>{d.onerror=R=>{w(R.target.error)},d.onsuccess=R=>{g(R.target.result)}})}{const d=this.cursor(s),g=[];return this.G(d,(w,R)=>{g.push(R)}).next(()=>g)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new _t((u,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}H(e,r){q("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const u=this.cursor(s);return this.G(u,(d,g,w)=>w.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.G(u,r)}Z(e){const r=this.cursor({});return new _t((s,u)=>{r.onerror=d=>{const g=Hl(d.target.error);u(g)},r.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(w=>{w?g.continue():s()}):s()}})}G(e,r){const s=[];return new _t((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const w=g.target.result;if(!w)return void u();const R=new jl(w),j=r(w.primaryKey,w.value,R);if(j instanceof _t){const te=j.catch(we=>(R.done(),_t.reject(we)));s.push(te)}R.isDone?u():null===R.$?w.continue():w.continue(R.$)}}).next(()=>_t.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ms(i){return new _t((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=Hl(s.target.error);r(u)}})}let Fa=!1;function Hl(i){const e=qi.S((0,oe.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fa||(Fa=!0,setTimeout(()=>{throw s},0)),s}}return i}class Zu{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,k.A)(function*(){r.task=null;try{q("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Ho(s)?q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield rs(s)}yield r.ee(6e4)}))}}class Ju{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,k.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let u=r,d=!0;return _t.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return q("IndexBackfiller",`Processing collection: ${g}`),this.re(e,g,u).next(w=>{u-=w,s.add(g)});d=!1})).next(()=>r-u)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(u,d)).next(w=>(q("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(e,r,w))).next(()=>g.size)}))}ie(e,r){let s=e;return r.changes.forEach((u,d)=>{const g=Oa(d);$l(g,s)>0&&(s=g)}),new oi(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Go=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function ec(i){return null==i}function Gl(i){return 0===i&&1/i==-1/0}function ih(i){return"number"==typeof i&&Number.isInteger(i)&&!Gl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function xo(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=T(e)),e=y(i.get(r),e);return T(e)}function y(i,e){let r=e;const s=i.length;for(let u=0;u<s;u++){const d=i.charAt(u);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function T(i){return i+"\x01\x01"}function b(i){const e=i.length;if(wt(e>=2),2===e)return wt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),gr.emptyPath();const r=e-2,s=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&it(),i.charAt(g+1)){case"\x01":const w=i.substring(d,g);let R;0===u.length?R=w:(u+=w,R=u,u=""),s.push(R);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:it()}d=g+2}return new gr(s)}const A=["userId","batchId"];function x(i,e){return[i,xo(e)]}function ee(i,e,r){return[i,xo(e),r]}const ge={},Dt=["prefixPath","collectionGroup","readTime","documentId"],Xt=["prefixPath","collectionGroup","documentId"],St=["collectionGroup","readTime","prefixPath","documentId"],wn=["canonicalId","targetId"],fr=["targetId","path"],pi=["path","targetId"],Hr=["collectionId","parent"],to=["indexId","uid"],Xs=["uid","sequenceNumber"],rl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],il=["indexId","uid","orderedDocumentKey"],zl=["userId","collectionPath","documentId"],ol=["userId","collectionPath","largestBatchId"],Xc=["userId","collectionGroup","largestBatchId"],ca=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oh=[...ca,"documentOverlays"],Qc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qs=Qc,tc=[...Qs,"indexConfiguration","indexState","indexEntries"],kf=tc;class Iu extends Fi{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function ji(i,e){const r=Kt(i);return qi.M(r.ae,e)}function sh(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Fr(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Eu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Gr{constructor(e,r){this.comparator=e,this.root=r||no.EMPTY}insert(e,r){return new Gr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Si(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Si(this.root,e,this.comparator,!1)}getReverseIterator(){return new Si(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Si(this.root,e,this.comparator,!0)}}class Si{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,r,s,u,d){this.key=e,this.value=r,this.color=null!=s?s:no.RED,this.left=null!=u?u:no.EMPTY,this.right=null!=d?d:no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,d){return new no(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===d?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return no.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,r,s,u,d){return this}insert(e,r,s){return new no(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wr{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Wl(this.data.getIterator())}getIteratorFrom(e){return new Wl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wr(this.comparator);return r.data=e,r}}class Wl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function po(i){return i.hasNext()?i.getNext():void 0}class No{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new No([])}unionWith(e){let r=new Wr(jr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new No(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ki(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class si{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new nc("Invalid base64 string: "+d):d}}(e);return new si(r)}static fromUint8Array(e){const r=function(u){let d="";for(let g=0;g<u.length;++g)d+=String.fromCharCode(u[g]);return d}(e);return new si(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const Yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(i){if(wt(!!i),"string"==typeof i){let e=0;const r=Yc.exec(i);if(wt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ii(i.seconds),nanos:Ii(i.nanos)}}function Ii(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ys(i){return"string"==typeof i?si.fromBase64String(i):si.fromUint8Array(i)}function sl(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function da(i){const e=i.mapValue.fields.__previous_value__;return sl(e)?da(e):e}function al(i){const e=Va(i.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class Kl{constructor(e,r,s,u,d,g,w,R,j){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.longPollingOptions=R,this.useFetchStreams=j}}class is{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new is("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}const Zn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ql={nullValue:"NULL_VALUE"};function La(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sl(i)?4:Jr(i)?9007199254740991:10:it()}function Ps(i,e){if(i===e)return!0;const r=La(i);if(r!==La(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return al(i).isEqual(al(e));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const g=Va(u.timestampValue),w=Va(d.timestampValue);return g.seconds===w.seconds&&g.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Ys(i.bytesValue).isEqual(Ys(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,d){return Ii(u.geoPointValue.latitude)===Ii(d.geoPointValue.latitude)&&Ii(u.geoPointValue.longitude)===Ii(d.geoPointValue.longitude)}(i,e);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Ii(u.integerValue)===Ii(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const g=Ii(u.doubleValue),w=Ii(d.doubleValue);return g===w?Gl(g)===Gl(w):isNaN(g)&&isNaN(w)}return!1}(i,e);case 9:return ki(i.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(u,d){const g=u.mapValue.fields||{},w=d.mapValue.fields||{};if(sh(g)!==sh(w))return!1;for(const R in g)if(g.hasOwnProperty(R)&&(void 0===w[R]||!Ps(g[R],w[R])))return!1;return!0}(i,e);default:return it()}var d}function rc(i,e){return void 0!==(i.values||[]).find(r=>Ps(r,e))}function ha(i,e){if(i===e)return 0;const r=La(i),s=La(e);if(r!==s)return Nn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Nn(i.booleanValue,e.booleanValue);case 2:return function(d,g){const w=Ii(d.integerValue||d.doubleValue),R=Ii(g.integerValue||g.doubleValue);return w<R?-1:w>R?1:w===R?0:isNaN(w)?isNaN(R)?0:-1:1}(i,e);case 3:return Zc(i.timestampValue,e.timestampValue);case 4:return Zc(al(i),al(e));case 5:return Nn(i.stringValue,e.stringValue);case 6:return function(d,g){const w=Ys(d),R=Ys(g);return w.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,g){const w=d.split("/"),R=g.split("/");for(let j=0;j<w.length&&j<R.length;j++){const te=Nn(w[j],R[j]);if(0!==te)return te}return Nn(w.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,g){const w=Nn(Ii(d.latitude),Ii(g.latitude));return 0!==w?w:Nn(Ii(d.longitude),Ii(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,g){const w=d.values||[],R=g.values||[];for(let j=0;j<w.length&&j<R.length;++j){const te=ha(w[j],R[j]);if(te)return te}return Nn(w.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===Zn.mapValue&&g===Zn.mapValue)return 0;if(d===Zn.mapValue)return 1;if(g===Zn.mapValue)return-1;const w=d.fields||{},R=Object.keys(w),j=g.fields||{},te=Object.keys(j);R.sort(),te.sort();for(let we=0;we<R.length&&we<te.length;++we){const nt=Nn(R[we],te[we]);if(0!==nt)return nt;const Rt=ha(w[R[we]],j[te[we]]);if(0!==Rt)return Rt}return Nn(R.length,te.length)}(i.mapValue,e.mapValue);default:throw it()}}function Zc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Nn(i,e);const r=Va(i),s=Va(e),u=Nn(r.seconds,s.seconds);return 0!==u?u:Nn(r.nanos,s.nanos)}function xs(i){return ah(i)}function ah(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=Va(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ys(i.bytesValue).toBase64():"referenceValue"in i?mn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=ah(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of s)d?d=!1:u+=",",u+=`${g}:${ah(r.fields[g])}`;return u+"}"}(i.mapValue):it()}function Ua(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lh(i){return!!i&&"integerValue"in i}function ic(i){return!!i&&"arrayValue"in i}function Lt(i){return!!i&&"nullValue"in i}function br(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oc(i){return!!i&&"mapValue"in i}function ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fr(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ll(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ll(i.arrayValue.values[r]);return e}return Object.assign({},i)}function Jr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ed(i){return"nullValue"in i?ql:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ua(is.empty(),mn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:it()}function ul(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ua(is.empty(),mn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Zn:it()}function vs(i,e){const r=ha(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function sc(i,e){const r=ha(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!oc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(r)}setAll(e){let r=jr.emptyPath(),s={},u=[];e.forEach((g,w)=>{if(!r.isImmediateParentOf(w)){const R=this.getFieldsMap(r);this.applyChanges(R,s,u),s={},u=[],r=w.popLast()}g?s[w.lastSegment()]=ll(g):u.push(w.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,u)}delete(e){const r=this.field(e.popLast());oc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];oc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){Fr(r,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new Hi(ll(this.value))}}function Ff(i){const e=[];return Fr(i.fields,(r,s)=>{const u=new jr([r]);if(oc(s)){const d=Ff(s.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new No(e)}class Ei{constructor(e,r,s,u,d,g,w){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=d,this.data=g,this.documentState=w}static newInvalidDocument(e){return new Ei(e,0,Un.min(),Un.min(),Un.min(),Hi.empty(),0)}static newFoundDocument(e,r,s,u){return new Ei(e,1,r,Un.min(),s,u,0)}static newNoDocument(e,r){return new Ei(e,2,r,Un.min(),Un.min(),Hi.empty(),0)}static newUnknownDocument(e,r){return new Ei(e,3,r,Un.min(),Un.min(),Hi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fa{constructor(e,r){this.position=e,this.inclusive=r}}function yo(i,e,r){let s=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(s=d.field.isKeyField()?mn.comparator(mn.fromName(g.referenceValue),r.key):ha(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function pa(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ps(i.position[r],e.position[r]))return!1;return!0}class Xl{constructor(e,r="asc"){this.field=e,this.dir=r}}function _s(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ga{}class xr extends ga{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new dh(e,r,s):"array-contains"===r?new Bf(e,s):"in"===r?new td(e,s):"not-in"===r?new fh(e,s):"array-contains-any"===r?new Oo(e,s):new xr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new Lf(e,s):new Uf(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ha(r,this.value)):null!==r&&La(this.value)===La(r)&&this.matchesComparison(ha(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends ga{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new ei(e,r)}matches(e){return cl(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function cl(i){return"and"===i.op}function uh(i){return"or"===i.op}function ac(i){return lc(i)&&cl(i)}function lc(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function uc(i){if(i instanceof xr)return i.field.canonicalString()+i.op.toString()+xs(i.value);if(ac(i))return i.filters.map(e=>uc(e)).join(",");{const e=i.filters.map(r=>uc(r)).join(",");return`${i.op}(${e})`}}function dl(i,e){return i instanceof xr?(s=i,(u=e)instanceof xr&&s.op===u.op&&s.field.isEqual(u.field)&&Ps(s.value,u.value)):i instanceof ei?function(s,u){return u instanceof ei&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((d,g,w)=>d&&dl(g,u.filters[w]),!0)}(i,e):void it();var s,u}function Vf(i,e){const r=i.filters.concat(e);return ei.create(r,i.op)}function ch(i){return i instanceof xr?`${(r=i).field.canonicalString()} ${r.op} ${xs(r.value)}`:i instanceof ei?function(r){return r.op.toString()+" {"+r.getFilters().map(ch).join(" ,")+"}"}(i):"Filter";var r}class dh extends xr{constructor(e,r,s){super(e,r,s),this.key=mn.fromName(s.referenceValue)}matches(e){const r=mn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Lf extends xr{constructor(e,r){super(e,"in",r),this.keys=hh(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Uf extends xr{constructor(e,r){super(e,"not-in",r),this.keys=hh(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hh(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>mn.fromName(s.referenceValue))}class Bf extends xr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ic(r)&&rc(r.arrayValue,this.value)}}class td extends xr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&rc(this.value.arrayValue,r)}}class fh extends xr{constructor(e,r){super(e,"not-in",r)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!rc(this.value.arrayValue,r)}}class Oo extends xr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ic(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>rc(this.value.arrayValue,s))}}class Ql{constructor(e,r=null,s=[],u=[],d=null,g=null,w=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=g,this.endAt=w,this.ce=null}}function ai(i,e=null,r=[],s=[],u=null,d=null,g=null){return new Ql(i,e,r,s,u,d,g)}function Yl(i){const e=Kt(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>uc(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),ec(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>xs(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>xs(s)).join(",")),e.ce=r}return e.ce}function cc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!_s(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!dl(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!pa(i.startAt,e.startAt)&&pa(i.endAt,e.endAt)}function dc(i){return mn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function nd(i,e){return i.filters.filter(r=>r instanceof xr&&r.field.isEqual(e))}function ph(i,e,r){let s=ql,u=!0;for(const d of nd(i,e)){let g=ql,w=!0;switch(d.op){case"<":case"<=":g=ed(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,w=!1;break;case"!=":case"not-in":g=ql}vs({value:s,inclusive:u},{value:g,inclusive:w})<0&&(s=g,u=w)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];vs({value:s,inclusive:u},{value:g,inclusive:r.inclusive})<0&&(s=g,u=r.inclusive);break}return{value:s,inclusive:u}}function gh(i,e,r){let s=Zn,u=!0;for(const d of nd(i,e)){let g=Zn,w=!0;switch(d.op){case">=":case">":g=ul(d.value),w=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,w=!1;break;case"!=":case"not-in":g=Zn}sc({value:s,inclusive:u},{value:g,inclusive:w})>0&&(s=g,u=w)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];sc({value:s,inclusive:u},{value:g,inclusive:r.inclusive})>0&&(s=g,u=r.inclusive);break}return{value:s,inclusive:u}}class ys{constructor(e,r=null,s=[],u=[],d=null,g="F",w=null,R=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=g,this.startAt=w,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Zs(i,e,r,s,u,d,g,w){return new ys(i,e,r,s,u,d,g,w)}function hl(i){return new ys(i)}function Zl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Cu(i){return null!==i.collectionGroup}function Js(i){const e=Kt(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let w=new Wr(jr.comparator);return g.filters.forEach(R=>{R.getFlattenedFilters().forEach(j=>{j.isInequality()&&(w=w.add(j.field))})}),w})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Xl(d,s))}),r.has(jr.keyField().canonicalString())||e.le.push(new Xl(jr.keyField(),s))}return e.le}function Io(i){const e=Kt(i);return e.he||(e.he=function rd(i,e){if("F"===i.limitType)return ai(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Xl(u.field,"desc"===u.dir?"asc":"desc"));const r=i.endAt?new fa(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fa(i.startAt.position,i.startAt.inclusive):null;return ai(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,Js(i))),e.he}function hc(i,e){const r=i.filters.concat([e]);return new ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Du(i,e,r){return new ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function ma(i,e){return cc(Io(i),Io(e))&&i.limitType===e.limitType}function fc(i){return`${Yl(Io(i))}|lt:${i.limitType}`}function fl(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>ch(u)).join(", ")}]`),ec(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(g=u).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>xs(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>xs(u)).join(",")),`Target(${s})`}(Io(i))}; limitType=${i.limitType})`}function pl(i,e){return e.isFoundDocument()&&function(s,u){const d=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):mn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,u){for(const d of Js(s))if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(i,e)&&function(s,u){for(const d of s.filters)if(!d.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(g,w,R){const j=yo(g,w,R);return g.inclusive?j<=0:j<0}(s.startAt,Js(s),u)||s.endAt&&!function(g,w,R){const j=yo(g,w,R);return g.inclusive?j>=0:j>0}(s.endAt,Js(s),u)));var s,u}function pc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mh(i){return(e,r)=>{let s=!1;for(const u of Js(i)){const d=$f(u,e,r);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function $f(i,e,r){const s=i.field.isKeyField()?mn.comparator(e.key,r.key):function(d,g,w){const R=g.data.field(d),j=w.data.field(d);return null!==R&&null!==j?ha(R,j):it()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return it()}}class gl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(r,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return Eu(this.inner)}size(){return this.innerSize}}const wv=new Gr(mn.comparator);function ko(){return wv}const Au=new Gr(mn.comparator);function gc(...i){let e=Au;for(const r of i)e=e.insert(r.key,r);return e}function Jl(i){let e=Au;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ns(){return od()}function id(){return od()}function od(){return new gl(i=>i.toString(),(i,e)=>i.isEqual(e))}const ml=new Gr(mn.comparator),jf=new Wr(mn.comparator);function Ir(...i){let e=jf;for(const r of i)e=e.add(r);return e}const Os=new Wr(Nn);function vh(){return Os}function eu(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function sd(i){return{integerValue:""+i}}function _h(i,e){return ih(e)?sd(e):eu(i,e)}class Ba{constructor(){this._=void 0}}function yh(i,e,r){return i instanceof tu?function(u,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&sl(d)&&(d=da(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):i instanceof vl?Ih(i,e):i instanceof nu?vc(i,e):function(u,d){const g=mc(u,d),w=ad(g)+ad(u.Ie);return lh(g)&&lh(u.Ie)?sd(w):eu(u.serializer,w)}(i,e)}function xg(i,e,r){return i instanceof vl?Ih(i,e):i instanceof nu?vc(i,e):r}function mc(i,e){return i instanceof Is?lh(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class tu extends Ba{}class vl extends Ba{constructor(e){super(),this.elements=e}}function Ih(i,e){const r=Eh(e);for(const s of i.elements)r.some(u=>Ps(u,s))||r.push(s);return{arrayValue:{values:r}}}class nu extends Ba{constructor(e){super(),this.elements=e}}function vc(i,e){let r=Eh(e);for(const s of i.elements)r=r.filter(u=>!Ps(u,s));return{arrayValue:{values:r}}}class Is extends Ba{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function ad(i){return Ii(i.integerValue||i.doubleValue)}function Eh(i){return ic(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Tu{constructor(e,r){this.field=e,this.transform=r}}class yl{constructor(e,r){this.version=e,this.transformResults=r}}class Er{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Il{}function ud(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ou(i.key,Er.none()):new ru(i.key,i.data,Er.none());{const r=i.data,s=Hi.empty();let u=new Wr(jr.comparator);for(let d of e.fields)if(!u.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?s.delete(d):s.set(d,g),u=u.add(d)}return new ea(i.key,s,new No(u.toArray()),Er.none())}}function Ng(i,e,r){i instanceof ru?function(u,d,g){const w=u.value.clone(),R=iu(u.fieldTransforms,d,g.transformResults);w.setAll(R),d.convertToFoundDocument(g.version,w).setHasCommittedMutations()}(i,e,r):i instanceof ea?function(u,d,g){if(!ld(u.precondition,d))return void d.convertToUnknownDocument(g.version);const w=iu(u.fieldTransforms,d,g.transformResults),R=d.data;R.setAll(yc(u)),R.setAll(w),d.convertToFoundDocument(g.version,R).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function wu(i,e,r,s){return i instanceof ru?function(d,g,w,R){if(!ld(d.precondition,g))return w;const j=d.value.clone(),te=Gf(d.fieldTransforms,R,g);return j.setAll(te),g.convertToFoundDocument(g.version,j).setHasLocalMutations(),null}(i,e,r,s):i instanceof ea?function(d,g,w,R){if(!ld(d.precondition,g))return w;const j=Gf(d.fieldTransforms,R,g),te=g.data;return te.setAll(yc(d)),te.setAll(j),g.convertToFoundDocument(g.version,te).setHasLocalMutations(),null===w?null:w.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(we=>we.field))}(i,e,r,s):(w=r,ld(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):w);var g,w}function _c(i,e){let r=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),d=mc(s.transform,u||null);null!=d&&(null===r&&(r=Hi.empty()),r.set(s.field,d))}return r||null}function Hf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&ki(s,u,(d,g)=>function _l(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof vl&&u instanceof vl||s instanceof nu&&u instanceof nu?ki(s.elements,u.elements,Ps):s instanceof Is&&u instanceof Is?Ps(s.Ie,u.Ie):s instanceof tu&&u instanceof tu);var s,u}(d,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class ru extends Il{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ea extends Il{constructor(e,r,s,u,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function yc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function iu(i,e,r){const s=new Map;wt(i.length===r.length);for(let u=0;u<r.length;u++){const d=i[u],g=d.transform,w=e.data.field(d.field);s.set(d.field,xg(g,w,r[u]))}return s}function Gf(i,e,r){const s=new Map;for(const u of i){const d=u.transform,g=r.data.field(u.field);s.set(u.field,yh(d,g,e))}return s}class ou extends Il{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ch extends Il{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cd{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Ng(d,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=wu(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=wu(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=id();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let w=this.applyToLocalView(g,d.mutatedFields);w=r.has(u.key)?null:w;const R=ud(g,w);null!==R&&s.set(u.key,R),g.isValidDocument()||g.convertToNoDocument(Un.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ir())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(r,s)=>Hf(r,s))&&ki(this.baseMutations,e.baseMutations,(r,s)=>Hf(r,s))}}class Dh{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){wt(e.mutations.length===s.length);let u=function(){return ml}();const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,s[g].version);return new Dh(e,r,s,u)}}class dd{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ah{constructor(e,r){this.count=e,this.unchangedNames=r}}var Gi,Nr;function Th(i){switch(i){default:return it();case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0}}function Fo(i){if(void 0===i)return N("GRPC error has no .code"),Ct.UNKNOWN;switch(i){case Gi.OK:return Ct.OK;case Gi.CANCELLED:return Ct.CANCELLED;case Gi.UNKNOWN:return Ct.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return Ct.INTERNAL;case Gi.UNAVAILABLE:return Ct.UNAVAILABLE;case Gi.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case Gi.NOT_FOUND:return Ct.NOT_FOUND;case Gi.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case Gi.ABORTED:return Ct.ABORTED;case Gi.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case Gi.DATA_LOSS:return Ct.DATA_LOSS;default:return it()}}(Nr=Gi||(Gi={}))[Nr.OK=0]="OK",Nr[Nr.CANCELLED=1]="CANCELLED",Nr[Nr.UNKNOWN=2]="UNKNOWN",Nr[Nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nr[Nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nr[Nr.NOT_FOUND=5]="NOT_FOUND",Nr[Nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nr[Nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nr[Nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nr[Nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nr[Nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nr[Nr.ABORTED=10]="ABORTED",Nr[Nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nr[Nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nr[Nr.INTERNAL=13]="INTERNAL",Nr[Nr.UNAVAILABLE=14]="UNAVAILABLE",Nr[Nr.DATA_LOSS=15]="DATA_LOSS";function zo(){return new TextEncoder}const hd=new fs([4294967295,4294967295],0);function Ic(i){const e=zo().encode(i),r=new xa;return r.update(e),new Uint8Array(r.digest())}function va(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new fs([r,s],0),new fs([u,d],0)]}class bu{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ks(`Invalid padding: ${r}`);if(s<0)throw new ks(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ks(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new ks(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=fs.fromNumber(this.Te)}de(e,r,s){let u=e.add(r.multiply(fs.fromNumber(s)));return 1===u.compare(hd)&&(u=new fs([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Ic(e),[s,u]=va(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,u,d);if(!this.Ae(g))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new bu(d,u,r);return s.forEach(w=>g.insert(w)),g}insert(e){if(0===this.Te)return;const r=Ic(e),[s,u]=va(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,u,d);this.Re(g)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,r,s,u,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ec(Un.min(),u,new Gr(Nn),ko(),Ir())}}class Su{constructor(e,r,s,u,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Su(s,r,Ir(),Ir(),Ir())}}class Cc{constructor(e,r,s,u){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=u}}class El{constructor(e,r){this.targetId=e,this.fe=r}}class Wf{constructor(e,r,s=si.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class Og{constructor(){this.ge=0,this.pe=bh(),this.ye=si.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ir(),r=Ir(),s=Ir();return this.pe.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:it()}}),new Su(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=bh()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,wt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class bv{constructor(e){this.Be=e,this.ke=new Map,this.qe=ko(),this.Qe=kg(),this.Ke=new Gr(Nn)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:it()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,u)=>{this.je(u)&&r(u)})}Je(e){const r=e.targetId,s=e.fe.count,u=this.Ye(r);if(u){const d=u.target;if(dc(d))if(0===s){const g=new mn(d.path);this.We(r,g,Ei.newNoDocument(g,Un.min()))}else wt(1===s);else{const g=this.Ze(r);if(g!==s){const w=this.Xe(e),R=w?this.et(w,e,g):1;0!==R&&(this.He(r),this.Ke=this.Ke.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:d=0}=r;let g,w;try{g=Ys(s).toUint8Array()}catch(R){if(R instanceof nc)return J("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{w=new bu(g,u,d)}catch(R){return J(R instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===w.Te?null:w}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Be.getRemoteKeysForTarget(r);let u=0;return s.forEach(d=>{const g=this.Be.nt(),w=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(w)||(this.We(r,d,null),u++)}),u}it(e){const r=new Map;this.ke.forEach((d,g)=>{const w=this.Ye(g);if(w){if(d.current&&dc(w.target)){const R=new mn(w.target.path);null!==this.qe.get(R)||this.st(g,R)||this.We(g,R,Ei.newNoDocument(R,e))}d.De&&(r.set(g,d.ve()),d.Fe())}});let s=Ir();this.Qe.forEach((d,g)=>{let w=!0;g.forEachWhile(R=>{const j=this.Ye(R);return!j||"TargetPurposeLimboResolution"===j.purpose||(w=!1,!1)}),w&&(s=s.add(d))}),this.qe.forEach((d,g)=>g.setReadTime(e));const u=new Ec(e,r,this.Ke,this.qe,s);return this.qe=ko(),this.Qe=kg(),this.Ke=new Gr(Nn),u}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,r)?u.Me(r,1):u.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new Og,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Wr(Nn),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||q("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Og),this.Be.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Be.getRemoteKeysForTarget(e).has(r)}}function kg(){return new Gr(mn.comparator)}function bh(){return new Gr(mn.comparator)}const ro={asc:"ASCENDING",desc:"DESCENDING"},su={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fd={and:"AND",or:"OR"};class Fg{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Es(i,e){return i.useProto3Json||ec(e)?e:{value:e}}function io(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sh(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function pd(i,e){return io(i,e.toTimestamp())}function Ci(i){return wt(!!i),Un.fromTimestamp(function(r){const s=Va(r);return new Mn(s.seconds,s.nanos)}(i))}function Dc(i,e){return gd(i,e).canonicalString()}function gd(i,e){const r=(u=i,new gr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function Rh(i){const e=gr.fromString(i);return wt(Oh(e)),e}function Cl(i,e){return Dc(i.databaseId,e.path)}function Cs(i,e){const r=Rh(e);if(r.get(1)!==i.databaseId.projectId)throw new Mt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Mt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new mn(I(r))}function v(i,e){return Dc(i.databaseId,e)}function f(i){const e=Rh(i);return 4===e.length?gr.emptyPath():I(e)}function p(i){return new gr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function I(i){return wt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function L(i,e,r){return{name:Cl(i,e),fields:r.value.mapValue.fields}}function Z(i,e,r){const s=Cs(i,e.name),u=Ci(e.updateTime),d=e.createTime?Ci(e.createTime):Un.min(),g=new Hi({mapValue:{fields:e.fields}}),w=Ei.newFoundDocument(s,u,d,g);return r&&w.setHasCommittedMutations(),r?w.setHasCommittedMutations():w}function Vt(i,e){let r;if(e instanceof ru)r={update:L(i,e.key,e.value)};else if(e instanceof ou)r={delete:Cl(i,e.key)};else if(e instanceof ea)r={update:L(i,e.key,e.data),updateMask:Nh(e.fieldMask)};else{if(!(e instanceof Ch))return it();r={verify:Cl(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,g){const w=g.transform;if(w instanceof tu)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof vl)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof nu)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Is)return{fieldPath:g.field.canonicalString(),increment:w.Ie};throw it()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:pd(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:it()),r;var d}function En(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Er.updateTime(Ci(d.updateTime)):void 0!==d.exists?Er.exists(d.exists):Er.none():Er.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(g,w){let R=null;"setToServerValue"in w?(wt("REQUEST_TIME"===w.setToServerValue),R=new tu):"appendMissingElements"in w?R=new vl(w.appendMissingElements.values||[]):"removeAllFromArray"in w?R=new nu(w.removeAllFromArray.values||[]):"increment"in w?R=new Is(g,w.increment):it();const j=jr.fromServerFormat(w.fieldPath);return new Tu(j,R)}(i,u)):[];var d;if(e.update){const u=Cs(i,e.update.name),d=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new No((e.updateMask.fieldPaths||[]).map(te=>jr.fromServerFormat(te)));return new ea(u,d,g,r,s)}return new ru(u,d,r,s)}if(e.delete){const u=Cs(i,e.delete);return new ou(u,r)}if(e.verify){const u=Cs(i,e.verify);return new Ch(u,r)}return it()}function yn(i,e){return{documents:[v(i,e.path)]}}function ni(i,e){const r={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=v(i,u);const d=function(j){if(0!==j.length)return xh(ei.create(j,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const g=function(j){if(0!==j.length)return j.map(te=>{return{field:_a((nt=te).field),direction:md(nt.dir)};var nt})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const w=Es(i,e.limit);return null!==w&&(r.structuredQuery.limit=w),e.startAt&&(r.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(r.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{ut:r,parent:u};var j}function Ds(i){let e=f(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){wt(1===s);const te=r.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let d=[];r.where&&(d=function(we){const nt=Mh(we);return nt instanceof ei&&ac(nt)?nt.getFilters():[nt]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(nt=>{return new Xl(Dl((fn=nt).field),function(Cn){switch(Cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fn.direction));var fn}));let w=null;r.limit&&(w=function(we){let nt;return nt="object"==typeof we?we.value:we,ec(nt)?null:nt}(r.limit));let R=null;var we;r.startAt&&(R=new fa((we=r.startAt).values||[],!!we.before));let j=null;return r.endAt&&(j=function(we){return new fa(we.values||[],!we.before)}(r.endAt)),Zs(e,u,g,d,w,"F",R,j)}function Mh(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Dl(r.unaryFilter.field);return xr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Dl(r.unaryFilter.field);return xr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Dl(r.unaryFilter.field);return xr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Dl(r.unaryFilter.field);return xr.create(g,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(i):void 0!==i.fieldFilter?xr.create(Dl((r=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return ei.create(r.compositeFilter.filters.map(s=>Mh(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return it()}}(r.compositeFilter.op))}(i):it();var r}function md(i){return ro[i]}function Kf(i){return su[i]}function Ph(i){return fd[i]}function _a(i){return{fieldPath:i.canonicalString()}}function Dl(i){return jr.fromServerFormat(i.fieldPath)}function xh(i){return i instanceof xr?function(r){if("=="===r.op){if(br(r.value))return{unaryFilter:{field:_a(r.field),op:"IS_NAN"}};if(Lt(r.value))return{unaryFilter:{field:_a(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(br(r.value))return{unaryFilter:{field:_a(r.field),op:"IS_NOT_NAN"}};if(Lt(r.value))return{unaryFilter:{field:_a(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(r.field),op:Kf(r.op),value:r.value}}}(i):i instanceof ei?function(r){const s=r.getFilters().map(u=>xh(u));return 1===s.length?s[0]:{compositeFilter:{op:Ph(r.op),filters:s}}}(i):it()}function Nh(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Oh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class $a{constructor(e,r,s,u,d=Un.min(),g=Un.min(),w=si.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w,this.expectedCount=R}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tc{constructor(e){this.ct=e}}function Vg(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:wc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Cl(d=i.ct,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:io(d,g.version.toTimestamp()),createTime:io(d,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Ru(e.version)};else{if(!e.isUnknownDocument())return it();s.unknownDocument={path:r.path.toArray(),version:Ru(e.version)}}var d,g;return s}function wc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ru(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mu(i){const e=new Mn(i.seconds,i.nanoseconds);return Un.fromTimestamp(e)}function Pu(i,e){const r=(e.baseMutations||[]).map(d=>En(i.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>En(i.ct,d)),u=Mn.fromMillis(e.localWriteTimeMs);return new cd(e.batchId,u,r,s)}function vd(i){const e=Mu(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Mu(i.lastLimboFreeSnapshotVersion):Un.min();let s;return s=void 0!==i.query.documents?(wt(1===(d=i.query).documents.length),Io(hl(f(d.documents[0])))):function(d){return Io(Ds(d))}(i.query),new $a(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,si.fromBase64String(i.resumeToken));var d}function Sv(i,e){const r=Ru(e.snapshotVersion),s=Ru(e.lastLimboFreeSnapshotVersion);let u;u=dc(e.target)?yn(i.ct,e.target):ni(i.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yl(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Lg(i){const e=Ds({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Du(e,e.limit,"L"):e}function Ug(i,e){return new dd(e.largestBatchId,En(i.ct,e.overlayMutation))}function Rv(i,e){const r=e.path.lastSegment();return[i,xo(e.path.popLast()),r]}function Bg(i,e,r,s){return{indexId:i,uid:e,sequenceNumber:r,readTime:Ru(s.readTime),documentKey:xo(s.documentKey.path),largestBatchId:s.largestBatchId}}class OE{getBundleMetadata(e,r){return $g(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Mu(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return $g(e).put({bundleId:(u=r).id,createTime:Ru(Ci(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return Mv(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Lg(d.bundledQuery),readTime:Mu(d.readTime)};var d})}saveNamedQuery(e,r){return Mv(e).put({name:(u=r).name,readTime:Ru(Ci(u.readTime)),bundledQuery:u.bundledQuery});var u}}function $g(i){return ji(i,"bundles")}function Mv(i){return ji(i,"namedQueries")}class Xf{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Xf(e,r.uid||"")}getOverlay(e,r){return Qf(e).get(Rv(this.userId,r)).next(s=>s?Ug(this.serializer,s):null)}getOverlays(e,r){const s=Ns();return _t.forEach(r,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((d,g)=>{const w=new dd(r,g);u.push(this.ht(e,w))}),_t.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(g=>u.add(xo(g.getCollectionPath())));const d=[];return u.forEach(g=>{const w=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(Qf(e).H("collectionPathOverlayIndex",w))}),_t.waitFor(d)}getOverlaysForCollection(e,r,s){const u=Ns(),d=xo(r),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Qf(e).W("collectionPathOverlayIndex",g).next(w=>{for(const R of w){const j=Ug(this.serializer,R);u.set(j.getKey(),j)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const d=Ns();let g;const w=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Qf(e).Y({index:"collectionGroupOverlayIndex",range:w},(R,j,te)=>{const we=Ug(this.serializer,j);d.size()<u||we.largestBatchId===g?(d.set(we.getKey(),we),g=we.largestBatchId):te.done()}).next(()=>d)}ht(e,r){return Qf(e).put(function(u,d,g){const[w,R,j]=Rv(d,g.mutation.key);return{userId:d,collectionPath:R,documentId:j,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Vt(u.ct,g.mutation)}}(this.serializer,this.userId,r))}}function Qf(i){return ji(i,"documentOverlays")}class bc{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ii(e.integerValue));else if("doubleValue"in e){const s=Ii(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Gl(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Va(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Ys(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Jr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):it()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const u of Object.keys(s))this.Rt(u,r),this.It(s[u],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const u of s)this.It(u,r)}gt(e,r){this.Et(r,37),mn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Pv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Yf(i){const e=64-function(s){let u=0;for(let d=0;d<8;++d){const g=Pv(255&s[d]);if(u+=g,8!==g)break}return u}(i);return Math.ceil(e/8)}bc.bt=new bc;class eI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=r.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=r.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(e){const r=this.Bt(e),s=Yf(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}qt(e){const r=this.Bt(e),s=Yf(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,d,!1),new Uint8Array(g.buffer)}(e),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class xu{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class xv{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class kh{constructor(){this.Gt=new eI,this.zt=new xu(this.Gt),this.jt=new xv(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Nu{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Nu(this.indexId,this.documentKey,this.arrayValue,s)}}function Al(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=tI(i.arrayValue,e.arrayValue),0!==r?r:(r=tI(i.directionalValue,e.directionalValue),0!==r?r:mn.comparator(i.documentKey,e.documentKey)))}function tI(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class nI{constructor(e){this.Yt=new Wr((r,s)=>jr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(wt(e.collectionGroup===this.collectionId),this.en)return!1;const r=tl(e);if(void 0!==r&&!this.nn(r))return!1;const s=qs(e);let u=new Set,d=0,g=0;for(;d<s.length&&this.nn(s[d]);++d)u=u.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const w=this.Yt.getIterator().getNext();if(!u.has(w.field.canonicalString())){const R=s[d];if(!this.rn(w,R)||!this.sn(this.Zt[g++],R))return!1}++d}for(;d<s.length;++d)if(g>=this.Zt.length||!this.sn(this.Zt[g++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new Wr(jr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new fo(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new fo(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new fo(s.field,"asc"===s.dir?0:1)));return new Po(Po.UNKNOWN_ID,this.collectionId,r,Kn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Nv(i){var e,r;if(wt(i instanceof xr||i instanceof ei),i instanceof xr){if(i instanceof td){const u=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>xr.create(i.field,"==",d)))||[];return ei.create(u,"or")}return i}const s=i.filters.map(u=>Nv(u));return ei.create(s,i.op)}function rI(i){if(0===i.getFilters().length)return[];const e=_d(Nv(i));return wt(iI(e)),jg(e)||Ov(e)?[e]:e.getFilters()}function jg(i){return i instanceof xr}function Ov(i){return i instanceof ei&&ac(i)}function iI(i){return jg(i)||Ov(i)||function(r){if(r instanceof ei&&uh(r)){for(const s of r.getFilters())if(!jg(s)&&!Ov(s))return!1;return!0}return!1}(i)}function _d(i){if(wt(i instanceof xr||i instanceof ei),i instanceof xr)return i;if(1===i.filters.length)return _d(i.filters[0]);const e=i.filters.map(s=>_d(s));let r=ei.create(e,i.op);return r=yd(r),iI(r)?r:(wt(r instanceof ei),wt(cl(r)),wt(r.filters.length>1),r.filters.reduce((s,u)=>Hg(s,u)))}function Hg(i,e){let r;return wt(i instanceof xr||i instanceof ei),wt(e instanceof xr||e instanceof ei),r=i instanceof xr?e instanceof xr?ei.create([i,e],"and"):Zf(i,e):e instanceof xr?Zf(e,i):function(u,d){if(wt(u.filters.length>0&&d.filters.length>0),cl(u)&&cl(d))return Vf(u,d.getFilters());const g=uh(u)?u:d,w=uh(u)?d:u,R=g.filters.map(j=>Hg(j,w));return ei.create(R,"or")}(i,e),yd(r)}function Zf(i,e){if(cl(e))return Vf(e,i.getFilters());{const r=e.filters.map(s=>Hg(i,s));return ei.create(r,"or")}}function yd(i){if(wt(i instanceof xr||i instanceof ei),i instanceof xr)return i;const e=i.getFilters();if(1===e.length)return yd(e[0]);if(lc(i))return i;const r=e.map(u=>yd(u)),s=[];return r.forEach(u=>{u instanceof xr?s.push(u):u instanceof ei&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ei.create(s,i.op)}class Id{constructor(){this._n=new Ed}addToCollectionParentIndex(e,r){return this._n.add(r),_t.resolve()}getCollectionParents(e,r){return _t.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return _t.resolve()}deleteFieldIndex(e,r){return _t.resolve()}deleteAllFieldIndexes(e){return _t.resolve()}createTargetIndexes(e,r){return _t.resolve()}getDocumentsMatchingTarget(e,r){return _t.resolve(null)}getIndexType(e,r){return _t.resolve(0)}getFieldIndexes(e,r){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,r){return _t.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,r){return _t.resolve(oi.min())}updateCollectionGroup(e,r,s){return _t.resolve()}updateIndexEntries(e,r){return _t.resolve()}}class Ed{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new Wr(gr.comparator),d=!u.has(s);return this.index[r]=u.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Wr(gr.comparator)).toArray()}}const Sc=new Uint8Array(0);class Cd{constructor(e,r){this.databaseId=r,this.an=new Ed,this.un=new gl(s=>Yl(s),(s,u)=>cc(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:xo(u)};return Dd(e).put(d)}return _t.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[gs(r),""],!1,!0);return Dd(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(b(g.parent))}return s})}addFieldIndex(e,r){const s=Rc(e),u={indexId:(w=r).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var w;delete u.indexId;const d=s.add(u);if(r.indexState){const g=au(e);return d.next(w=>{g.put(Bg(w,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Rc(e),u=au(e),d=ja(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Rc(e),s=ja(e),u=au(e);return r.H().next(()=>s.H()).next(()=>u.H())}createTargetIndexes(e,r){return _t.forEach(this.cn(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const d=new nI(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=ja(e);let u=!0;const d=new Map;return _t.forEach(this.cn(r),g=>this.ln(e,g).next(w=>{u&&(u=!!w),d.set(g,w)})).next(()=>{if(u){let g=Ir();const w=[];return _t.forEach(d,(R,j)=>{var er;q("IndexedDbIndexManager",`Using index ${er=R,`id=${er.indexId}|cg=${er.collectionGroup}|f=${er.fields.map(Tr=>`${Tr.fieldPath}:${Tr.kind}`).join(",")}`} to execute ${Yl(r)}`);const te=function(er,Tr){const Di=tl(Tr);if(void 0===Di)return null;for(const ti of nd(er,Di.fieldPath))switch(ti.op){case"array-contains-any":return ti.value.arrayValue.values||[];case"array-contains":return[ti.value]}return null}(j,R),we=function(er,Tr){const Di=new Map;for(const ti of qs(Tr))for(const Eo of nd(er,ti.fieldPath))switch(Eo.op){case"==":case"in":Di.set(ti.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Di.set(ti.fieldPath.canonicalString(),Eo.value),Array.from(Di.values())}return null}(j,R),nt=function(er,Tr){const Di=[];let ti=!0;for(const Eo of qs(Tr)){const ya=0===Eo.kind?ph(er,Eo.fieldPath,er.startAt):gh(er,Eo.fieldPath,er.startAt);Di.push(ya.value),ti&&(ti=ya.inclusive)}return new fa(Di,ti)}(j,R),Rt=function(er,Tr){const Di=[];let ti=!0;for(const Eo of qs(Tr)){const ya=0===Eo.kind?gh(er,Eo.fieldPath,er.endAt):ph(er,Eo.fieldPath,er.endAt);Di.push(ya.value),ti&&(ti=ya.inclusive)}return new fa(Di,ti)}(j,R),fn=this.hn(R,j,nt),Tn=this.hn(R,j,Rt),Cn=this.Pn(R,j,we),Jn=this.In(R.indexId,te,fn,nt.inclusive,Tn,Rt.inclusive,Cn);return _t.forEach(Jn,_r=>s.j(_r,r.limit).next(er=>{er.forEach(Tr=>{const Di=mn.fromSegments(Tr.documentKey);g.has(Di)||(g=g.add(Di),w.push(Di))})}))}).next(()=>w)}return _t.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:rI(ei.create(e.filters,"and")).map(s=>ai(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,u,d,g,w){const R=(null!=r?r.length:1)*Math.max(s.length,d.length),j=R/(null!=r?r.length:1),te=[];for(let we=0;we<R;++we){const nt=r?this.Tn(r[we/j]):Sc,Rt=this.En(e,nt,s[we%j],u),fn=this.dn(e,nt,d[we%j],g),Tn=w.map(Cn=>this.En(e,nt,Cn,!0));te.push(...this.createRange(Rt,fn,Tn))}return te}En(e,r,s,u){const d=new Nu(e,mn.empty(),r,s);return u?d:d.Jt()}dn(e,r,s,u){const d=new Nu(e,mn.empty(),r,s);return u?d.Jt():d}ln(e,r){const s=new nI(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const w of d)s.tn(w)&&(!g||w.fields.length>g.fields.length)&&(g=w);return g})}getIndexType(e,r){let s=2;const u=this.cn(r);return _t.forEach(u,d=>this.ln(e,d).next(g=>{g?0!==s&&g.fields.length<function(R){let j=new Wr(jr.comparator),te=!1;for(const we of R.filters)for(const nt of we.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?te=!0:j=j.add(nt.field));for(const we of R.orderBy)we.field.isKeyField()||(j=j.add(we.field));return j.size+(te?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}An(e,r){const s=new kh;for(const u of qs(e)){const d=r.data.field(u.fieldPath);if(null==d)return null;const g=s.Ht(u.kind);bc.bt.Pt(d,g)}return s.Wt()}Tn(e){const r=new kh;return bc.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new kh;return bc.bt.Pt(Ua(this.databaseId,r),s.Ht(function(d){const g=qs(d);return 0===g.length?0:g[g.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let u=[];u.push(new kh);let d=0;for(const g of qs(e)){const w=s[d++];for(const R of u)if(this.Vn(r,g.fieldPath)&&ic(w))u=this.mn(u,g,w);else{const j=R.Ht(g.kind);bc.bt.Pt(w,j)}}return this.fn(u)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const u=[...e],d=[];for(const g of s.arrayValue.values||[])for(const w of u){const R=new kh;R.seed(w.Wt()),bc.bt.Pt(g,R.Ht(r.kind)),d.push(R)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof xr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Rc(e),u=au(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const g=[];return _t.forEach(d,w=>u.get([w.indexId,this.uid]).next(R=>{g.push(function(te,we){const nt=we?new Kn(we.sequenceNumber,new oi(Mu(we.readTime),new mn(b(we.documentKey)),we.largestBatchId)):Kn.empty(),Rt=te.fields.map(([fn,Tn])=>new fo(jr.fromServerFormat(fn),Tn));return new Po(te.indexId,te.collectionGroup,Rt,nt)}(w,R))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Nn(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=Rc(e),d=au(e);return this.gn(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(w=>_t.forEach(w,R=>d.put(Bg(R.indexId,this.uid,g,s)))))}updateIndexEntries(e,r){const s=new Map;return _t.forEach(r,(u,d)=>{const g=s.get(u.collectionGroup);return(g?_t.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(w=>(s.set(u.collectionGroup,w),_t.forEach(w,R=>this.pn(e,u,R).next(j=>{const te=this.yn(d,R);return j.isEqual(te)?_t.resolve():this.wn(e,d,R,j,te)}))))})}Sn(e,r,s,u){return ja(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,u){return ja(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const u=ja(e);let d=new Wr(Al);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(g,w)=>{d=d.add(new Nu(s.indexId,r,w.arrayValue,w.directionalValue))}).next(()=>d)}yn(e,r){let s=new Wr(Al);const u=this.An(r,e);if(null==u)return s;const d=tl(r);if(null!=d){const g=e.data.field(d.fieldPath);if(ic(g))for(const w of g.arrayValue.values||[])s=s.add(new Nu(r.indexId,e.key,this.Tn(w),u))}else s=s.add(new Nu(r.indexId,e.key,Sc,u));return s}wn(e,r,s,u,d){q("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(R,j,te,we,nt){const Rt=R.getIterator(),fn=j.getIterator();let Tn=po(Rt),Cn=po(fn);for(;Tn||Cn;){let Jn=!1,_r=!1;if(Tn&&Cn){const er=te(Tn,Cn);er<0?_r=!0:er>0&&(Jn=!0)}else null!=Tn?_r=!0:Jn=!0;Jn?(we(Cn),Cn=po(fn)):_r?(nt(Tn),Tn=po(Rt)):(Tn=po(Rt),Cn=po(fn))}}(u,d,Al,w=>{g.push(this.Sn(e,r,s,w))},w=>{g.push(this.bn(e,r,s,w))}),_t.waitFor(g)}gn(e){let r=1;return au(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,w)=>Al(g,w)).filter((g,w,R)=>!w||0!==Al(g,R[w-1]));const u=[];u.push(e);for(const g of s){const w=Al(g,e),R=Al(g,r);if(0===w)u[0]=e.Jt();else if(w>0&&R<0)u.push(g),u.push(g.Jt());else if(R>0)break}u.push(r);const d=[];for(let g=0;g<u.length;g+=2){if(this.Dn(u[g],u[g+1]))return[];d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,Sc,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,Sc,[]]))}return d}Dn(e,r){return Al(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Ad)}getMinOffset(e,r){return _t.mapArray(this.cn(r),s=>this.ln(e,s).next(u=>u||it())).next(Ad)}}function Dd(i){return ji(i,"collectionParents")}function ja(i){return ji(i,"indexEntries")}function Rc(i){return ji(i,"indexConfiguration")}function au(i){return ji(i,"indexState")}function Ad(i){wt(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;$l(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new oi(e.readTime,e.documentKey,r)}const oI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Td(i,e,r){const s=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(r.batchId);let w=0;const R=s.Y({range:g},(te,we,nt)=>(w++,nt.delete()));d.push(R.next(()=>{wt(1===w)}));const j=[];for(const te of r.mutations){const we=ee(e,te.key.path,r.batchId);d.push(u.delete(we)),j.push(te.key)}return _t.waitFor(d).next(()=>j)}function Jf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw it();e=i.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class Fh{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,r,s,u){wt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Fh(d,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ou(e).Y({index:"userMutationsIndex",range:s},(u,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const d=ku(e),g=Ou(e);return g.add({}).next(w=>{wt("number"==typeof w);const R=new cd(w,r,s,u),j=function(Rt,fn,Tn){const Cn=Tn.baseMutations.map(_r=>Vt(Rt.ct,_r)),Jn=Tn.mutations.map(_r=>Vt(Rt.ct,_r));return{userId:fn,batchId:Tn.batchId,localWriteTimeMs:Tn.localWriteTime.toMillis(),baseMutations:Cn,mutations:Jn}}(this.serializer,this.userId,R),te=[];let we=new Wr((nt,Rt)=>Nn(nt.canonicalString(),Rt.canonicalString()));for(const nt of u){const Rt=ee(this.userId,nt.key.path,w);we=we.add(nt.key.path.popLast()),te.push(g.put(j)),te.push(d.put(Rt,ge))}return we.forEach(nt=>{te.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.Cn[w]=R.keys()}),_t.waitFor(te).next(()=>R)})}lookupMutationBatch(e,r){return Ou(e).get(r).next(s=>s?(wt(s.userId===this.userId),Pu(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?_t.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Cn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ou(e).Y({index:"userMutationsIndex",range:u},(g,w,R)=>{w.userId===this.userId&&(wt(w.batchId>=s),d=Pu(this.serializer,w)),R.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ou(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(u,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ou(e).W("userMutationsIndex",r).next(s=>s.map(u=>Pu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=x(this.userId,r.path),u=IDBKeyRange.lowerBound(s),d=[];return ku(e).Y({range:u},(g,w,R)=>{const[j,te,we]=g,nt=b(te);if(j===this.userId&&r.path.isEqual(nt))return Ou(e).get(we).next(Rt=>{if(!Rt)throw it();wt(Rt.userId===this.userId),d.push(Pu(this.serializer,Rt))});R.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Wr(Nn);const u=[];return r.forEach(d=>{const g=x(this.userId,d.path),w=IDBKeyRange.lowerBound(g),R=ku(e).Y({range:w},(j,te,we)=>{const[nt,Rt,fn]=j,Tn=b(Rt);nt===this.userId&&d.path.isEqual(Tn)?s=s.add(fn):we.done()});u.push(R)}),_t.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,d=x(this.userId,s),g=IDBKeyRange.lowerBound(d);let w=new Wr(Nn);return ku(e).Y({range:g},(R,j,te)=>{const[we,nt,Rt]=R,fn=b(nt);we===this.userId&&s.isPrefixOf(fn)?fn.length===u&&(w=w.add(Rt)):te.done()}).next(()=>this.Fn(e,w))}Fn(e,r){const s=[],u=[];return r.forEach(d=>{u.push(Ou(e).get(d).next(g=>{if(null===g)throw it();wt(g.userId===this.userId),s.push(Pu(this.serializer,g))}))}),_t.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Td(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),_t.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return _t.resolve();const s=IDBKeyRange.lowerBound(function(g){return[g]}(this.userId)),u=[];return ku(e).Y({range:s},(d,g,w)=>{if(d[0]===this.userId){const R=b(d[1]);u.push(R)}else w.done()}).next(()=>{wt(0===u.length)})})}containsKey(e,r){return kv(e,this.userId,r)}xn(e){return Gg(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kv(i,e,r){const s=x(e,r.path),u=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return ku(i).Y({range:d,J:!0},(w,R,j)=>{const[te,we,nt]=w;te===e&&we===u&&(g=!0),j.done()}).next(()=>g)}function Ou(i){return ji(i,"mutations")}function ku(i){return ji(i,"documentMutations")}function Gg(i){return ji(i,"mutationQueues")}class Mc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mc(0)}static Ln(){return new Mc(-1)}}class sI{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Mc(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Un.fromTimestamp(new Mn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.kn(e,u)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Tl(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(wt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let u=0;const d=[];return Tl(e).Y((g,w)=>{const R=vd(w);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(u++,d.push(this.removeTargetData(e,R)))}).next(()=>_t.waitFor(d)).next(()=>u)}forEachTarget(e,r){return Tl(e).Y((s,u)=>{const d=vd(u);r(d)})}Bn(e){return zg(e).get("targetGlobalKey").next(r=>(wt(null!==r),r))}kn(e,r){return zg(e).put("targetGlobalKey",r)}qn(e,r){return Tl(e).put(Sv(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Yl(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Tl(e).Y({range:u,index:"queryTargetsIndex"},(g,w,R)=>{const j=vd(w);cc(r,j.target)&&(d=j,R.done())}).next(()=>d)}addMatchingKeys(e,r,s){const u=[],d=wl(e);return r.forEach(g=>{const w=xo(g.path);u.push(d.put({targetId:s,path:w})),u.push(this.referenceDelegate.addReference(e,s,g))}),_t.waitFor(u)}removeMatchingKeys(e,r,s){const u=wl(e);return _t.forEach(r,d=>{const g=xo(d.path);return _t.waitFor([u.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=wl(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=wl(e);let d=Ir();return u.Y({range:s,J:!0},(g,w,R)=>{const j=b(g[1]),te=new mn(j);d=d.add(te)}).next(()=>d)}containsKey(e,r){const s=xo(r.path),u=IDBKeyRange.bound([s],[gs(s)],!1,!0);let d=0;return wl(e).Y({index:"documentTargetsIndex",J:!0,range:u},([g,w],R,j)=>{0!==g&&(d++,j.done())}).next(()=>d>0)}_t(e,r){return Tl(e).get(r).next(s=>s?vd(s):null)}}function Tl(i){return ji(i,"targets")}function zg(i){return ji(i,"targetGlobal")}function wl(i){return ji(i,"targetDocuments")}function Fv([i,e],[r,s]){const u=Nn(i,r);return 0===u?Nn(e,s):u}class kE{constructor(e){this.Kn=e,this.buffer=new Wr(Fv),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Fv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,k.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ho(s)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield rs(s)}yield r.zn(3e5)}))}}class Vh{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return _t.resolve(Go._e);const s=new kE(r);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(oI)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oI):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,u,d,g,w,R,j;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,g=Date.now(),this.nthSequenceNumber(e,u))).next(we=>(s=we,w=Date.now(),this.removeTargets(e,s,r))).next(we=>(d=we,R=Date.now(),this.removeOrphanedDocuments(e,s))).next(we=>(j=Date.now(),D()<=Ee.$b.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-te}ms\n\tDetermined least recently used ${u} in `+(w-g)+`ms\n\tRemoved ${d} targets in `+(R-w)+`ms\n\tRemoved ${we} documents in `+(j-R)+`ms\nTotal Duration: ${j-te}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:we})))}}class ep{constructor(e,r){this.db=e,this.garbageCollector=function Vv(i,e){return new Vh(i,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,u)=>r(u))}addReference(e,r,s){return wd(e,s)}removeReference(e,r,s){return wd(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return wd(e,r)}er(e,r){return function(u,d){let g=!1;return Gg(u).Z(w=>kv(u,w,d).next(R=>(R&&(g=!0),_t.resolve(!R)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Xn(e,(g,w)=>{if(w<=r){const R=this.er(e,g).next(j=>{if(!j)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,Un.min()),wl(e).delete([0,xo(g.path)])))});u.push(R)}}).next(()=>_t.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return wd(e,r)}Xn(e,r){const s=wl(e);let u,d=Go._e;return s.Y({index:"documentTargetsIndex"},([g,w],{path:R,sequenceNumber:j})=>{0===g?(d!==Go._e&&r(new mn(b(u)),d),d=j,u=R):d=Go._e}).next(()=>{d!==Go._e&&r(new mn(b(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wd(i,e){return wl(i).put((u=i.currentSequenceNumber,{targetId:0,path:xo(e.path),sequenceNumber:u}));var u}class Lv{constructor(){this.changes=new gl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?_t.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Fu(e).put(s)}removeEntry(e,r,s){return Fu(e).delete(function(d,g){const w=d.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],wc(g),w[w.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Ei.newInvalidDocument(r);return Fu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bd(r))},(u,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:Ei.newInvalidDocument(r)};return Fu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bd(r))},(u,d)=>{s={document:this.nr(r,d),size:Jf(d)}}).next(()=>s)}getEntries(e,r){let s=ko();return this.ir(e,r,(u,d)=>{const g=this.nr(u,d);s=s.insert(u,g)}).next(()=>s)}sr(e,r){let s=ko(),u=new Gr(mn.comparator);return this.ir(e,r,(d,g)=>{const w=this.nr(d,g);s=s.insert(d,w),u=u.insert(d,Jf(g))}).next(()=>({documents:s,_r:u}))}ir(e,r,s){if(r.isEmpty())return _t.resolve();let u=new Wr(Uh);r.forEach(R=>u=u.add(R));const d=IDBKeyRange.bound(bd(u.first()),bd(u.last())),g=u.getIterator();let w=g.getNext();return Fu(e).Y({index:"documentKeyIndex",range:d},(R,j,te)=>{const we=mn.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;w&&Uh(w,we)<0;)s(w,null),w=g.getNext();w&&w.isEqual(we)&&(s(w,j),w=g.hasNext()?g.getNext():null),w?te.U(bd(w)):te.done()}).next(()=>{for(;w;)s(w,null),w=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,d){const g=r.path,w=[g.popLast().toArray(),g.lastSegment(),wc(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fu(e).W(IDBKeyRange.bound(w,R,!0)).next(j=>{null==d||d.incrementDocumentReadCount(j.length);let te=ko();for(const we of j){const nt=this.nr(mn.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);nt.isFoundDocument()&&(pl(r,nt)||u.has(nt.key))&&(te=te.insert(nt.key,nt))}return te})}getAllFromCollectionGroup(e,r,s,u){let d=ko();const g=Wg(r,s),w=Wg(r,oi.max());return Fu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,w,!0)},(R,j,te)=>{const we=this.nr(mn.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);d=d.insert(we.key,we),d.size===u&&te.done()}).next(()=>d)}newChangeBuffer(e){return new np(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Lh(e).get("remoteDocumentGlobalKey").next(r=>(wt(!!r),r))}tr(e,r){return Lh(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function qf(i,e){let r;if(e.document)r=Z(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=mn.fromSegments(e.noDocument.path),u=Mu(e.noDocument.readTime);r=Ei.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const s=mn.fromSegments(e.unknownDocument.path),u=Mu(e.unknownDocument.version);r=Ei.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const d=new Mn(u[0],u[1]);return Un.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Un.min()))return s}return Ei.newInvalidDocument(e)}}function tp(i){return new Uv(i)}class np extends Lv{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new gl(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new Wr((d,g)=>Nn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const w=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,w.readTime)),g.isValidDocument()){const R=Vg(this.ar.serializer,g);u=u.add(d.path.popLast());const j=Jf(R);s+=j-w.size,r.push(this.ar.addEntry(e,d,R))}else if(s-=w.size,this.trackRemovals){const R=Vg(this.ar.serializer,g.convertToNoDocument(Un.min()));r.push(this.ar.addEntry(e,d,R))}}),u.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),_t.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:u})=>(u.forEach((d,g)=>{this.ur.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function Lh(i){return ji(i,"remoteDocumentGlobal")}function Fu(i){return ji(i,"remoteDocumentsV14")}function bd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wg(i,e){const r=e.documentKey.path.toArray();return[i,wc(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Uh(i,e){const r=i.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(u=Nn(r[d],s[d]),u)return u;return u=Nn(r.length,s.length),u||(u=Nn(r[r.length-2],s[s.length-2]),u||Nn(r[r.length-1],s[s.length-1]))}class Kg{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Pc{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&wu(s.mutation,u,No.empty(),Mn.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,Ir()).next(()=>s))}getLocalViewOfDocuments(e,r,s=Ir()){const u=Ns();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(d=>{let g=gc();return d.forEach((w,R)=>{g=g.insert(w,R.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Ns();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,Ir()))}populateOverlays(e,r,s){const u=[];return s.forEach(d=>{r.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,w)=>{r.set(g,w)})})}computeViews(e,r,s,u){let d=ko();const g=od(),w=od();return r.forEach((R,j)=>{const te=s.get(j.key);u.has(j.key)&&(void 0===te||te.mutation instanceof ea)?d=d.insert(j.key,j):void 0!==te?(g.set(j.key,te.mutation.getFieldMask()),wu(te.mutation,j,te.mutation.getFieldMask(),Mn.now())):g.set(j.key,No.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((j,te)=>g.set(j,te)),r.forEach((j,te)=>{var we;return w.set(j,new Kg(te,null!==(we=g.get(j))&&void 0!==we?we:null))}),w))}recalculateAndSaveOverlays(e,r){const s=od();let u=new Gr((g,w)=>g-w),d=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const w of g)w.keys().forEach(R=>{const j=r.get(R);if(null===j)return;let te=s.get(R)||No.empty();te=w.applyToLocalView(j,te),s.set(R,te);const we=(u.get(w.batchId)||Ir()).add(R);u=u.insert(w.batchId,we)})}).next(()=>{const g=[],w=u.getReverseIterator();for(;w.hasNext();){const R=w.getNext(),j=R.key,te=R.value,we=id();te.forEach(nt=>{if(!d.has(nt)){const Rt=ud(r.get(nt),s.get(nt));null!==Rt&&we.set(nt,Rt),d=d.add(nt)}}),g.push(this.documentOverlayCache.saveOverlays(e,j,we))}return _t.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return mn.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Cu(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var g}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-d.size):_t.resolve(Ns());let w=-1,R=d;return g.next(j=>_t.forEach(j,(te,we)=>(w<we.largestBatchId&&(w=we.largestBatchId),d.get(te)?_t.resolve():this.remoteDocumentCache.getEntry(e,te).next(nt=>{R=R.insert(te,nt)}))).next(()=>this.populateOverlays(e,j,d)).next(()=>this.computeViews(e,R,j,Ir())).next(te=>({batchId:w,changes:Jl(te)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new mn(r)).next(s=>{let u=gc();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const d=r.collectionGroup;let g=gc();return this.indexManager.getCollectionParents(e,d).next(w=>_t.forEach(w,R=>{const j=(we=r,nt=R.child(d),new ys(nt,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,nt;return this.getDocumentsMatchingCollectionQuery(e,j,s,u).next(te=>{te.forEach((we,nt)=>{g=g.insert(we,nt)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,u){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,u))).next(g=>{d.forEach((R,j)=>{const te=j.getKey();null===g.get(te)&&(g=g.insert(te,Ei.newInvalidDocument(te)))});let w=gc();return g.forEach((R,j)=>{const te=d.get(R);void 0!==te&&wu(te.mutation,j,No.empty(),Mn.now()),pl(r,j)&&(w=w.insert(R,j))}),w})}}class lI{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return _t.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ci(u.createTime)}),_t.resolve();var u}getNamedQuery(e,r){return _t.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(u=r).name,query:Lg(u.bundledQuery),readTime:Ci(u.readTime)}),_t.resolve();var u}}class uI{constructor(){this.overlays=new Gr(mn.comparator),this.hr=new Map}getOverlay(e,r){return _t.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ns();return _t.forEach(r,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,d)=>{this.ht(e,r,d)}),_t.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),_t.resolve()}getOverlaysForCollection(e,r,s){const u=Ns(),d=r.length+1,g=new mn(r.child("")),w=this.overlays.getIteratorFrom(g);for(;w.hasNext();){const R=w.getNext().value,j=R.getKey();if(!r.isPrefixOf(j.path))break;j.path.length===d&&R.largestBatchId>s&&u.set(R.getKey(),R)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let d=new Gr((j,te)=>j-te);const g=this.overlays.getIterator();for(;g.hasNext();){const j=g.getNext().value;if(j.getKey().getCollectionGroup()===r&&j.largestBatchId>s){let te=d.get(j.largestBatchId);null===te&&(te=Ns(),d=d.insert(j.largestBatchId,te)),te.set(j.getKey(),j)}}const w=Ns(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((j,te)=>w.set(j,te)),!(w.size()>=u)););return _t.resolve(w)}ht(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const g=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new dd(r,s));let d=this.hr.get(r);void 0===d&&(d=Ir(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class Bv{constructor(){this.Pr=new Wr(oo.Ir),this.Tr=new Wr(oo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new oo(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new oo(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new mn(new gr([])),s=new oo(r,e),u=new oo(r,e+1),d=[];return this.Tr.forEachInRange([s,u],g=>{this.Ar(g),d.push(g.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new mn(new gr([])),s=new oo(r,e),u=new oo(r,e+1);let d=Ir();return this.Tr.forEachInRange([s,u],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new oo(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class oo{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return mn.comparator(e.key,r.key)||Nn(e.pr,r.pr)}static Er(e,r){return Nn(e.pr,r.pr)||mn.comparator(e.key,r.key)}}class qg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Wr(oo.Ir)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const d=this.yr;this.yr++;const g=new cd(d,r,s,u);this.mutationQueue.push(g);for(const w of u)this.wr=this.wr.add(new oo(w.key,d)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return _t.resolve(g)}lookupMutationBatch(e,r){return _t.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.br(r+1),d=u<0?0:u;return _t.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new oo(r,0),u=new oo(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,u],g=>{const w=this.Sr(g.pr);d.push(w)}),_t.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Wr(Nn);return r.forEach(u=>{const d=new oo(u,0),g=new oo(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,g],w=>{s=s.add(w.pr)})}),_t.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let d=s;mn.isDocumentKey(d)||(d=d.child(""));const g=new oo(new mn(d),0);let w=new Wr(Nn);return this.wr.forEachWhile(R=>{const j=R.key.path;return!!s.isPrefixOf(j)&&(j.length===u&&(w=w.add(R.pr)),!0)},g),_t.resolve(this.Dr(w))}Dr(e){const r=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){wt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return _t.forEach(r.mutations,u=>{const d=new oo(u.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new oo(r,0),u=this.wr.firstAfterOrEqual(s);return _t.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class $v{constructor(e){this.vr=e,this.docs=new Gr(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),d=u?u.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return _t.resolve(s?s.document.mutableCopy():Ei.newInvalidDocument(r))}getEntries(e,r){let s=ko();return r.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():Ei.newInvalidDocument(u))}),_t.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let d=ko();const g=r.path,w=new mn(g.child("")),R=this.docs.getIteratorFrom(w);for(;R.hasNext();){const{key:j,value:{document:te}}=R.getNext();if(!g.isPrefixOf(j.path))break;j.path.length>g.length+1||$l(Oa(te),s)<=0||(u.has(te.key)||pl(r,te))&&(d=d.insert(te.key,te.mutableCopy()))}return _t.resolve(d)}getAllFromCollectionGroup(e,r,s,u){it()}Fr(e,r){return _t.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new jv(this)}getSize(e){return _t.resolve(this.size)}}class jv extends Lv{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),_t.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Hv{constructor(e){this.persistence=e,this.Mr=new gl(r=>Yl(r),cc),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Bv,this.targetCount=0,this.Lr=Mc.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,u)=>r(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),_t.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Mc(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,_t.resolve()}updateTargetData(e,r){return this.qn(r),_t.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,r,s){let u=0;const d=[];return this.Mr.forEach((g,w)=>{w.sequenceNumber<=r&&null===s.get(w.targetId)&&(this.Mr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),_t.waitFor(d).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return _t.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),_t.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const u=this.persistence.referenceDelegate,d=[];return u&&r.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),_t.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),_t.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return _t.resolve(s)}containsKey(e,r){return _t.resolve(this.Nr.containsKey(r))}}class rp{constructor(e,r){this.Br={},this.overlays={},this.kr=new Go(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hv(this),this.indexManager=new Id,this.remoteDocumentCache=new $v(s=>this.referenceDelegate.Kr(s)),this.serializer=new Tc(r),this.$r=new lI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new uI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new qg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){q("MemoryPersistence","Starting transaction:",e);const u=new cI(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(d=>this.referenceDelegate.Wr(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Gr(e,r){return _t.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class cI extends Fi{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.zr=new Bv,this.jr=null}static Hr(e){return new ip(e)}get Jr(){if(this.jr)return this.jr;throw it()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),_t.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),_t.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),_t.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Jr,s=>{const u=mn.fromPath(s);return this.Yr(e,u).next(d=>{d||r.removeEntry(u,Un.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return _t.or([()=>_t.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class dI{constructor(e){this.serializer=e}N(e,r,s,u){const d=new ka("createOrUpgrade",r);var R;s<1&&u>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A,{unique:!0}),R.createObjectStore("documentMutations"),Gv(e),function(R){R.createObjectStore("remoteDocuments")}(e));let g=_t.resolve();return s<3&&u>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Gv(e)),g=g.next(()=>function(R){const j=R.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Un.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",te)}(d))),s<4&&u>=4&&(0!==s&&(g=g.next(()=>function(R,j){return j.store("mutations").W().next(te=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A,{unique:!0});const we=j.store("mutations"),nt=te.map(Rt=>we.put(Rt));return _t.waitFor(nt)})}(e,d))),g=g.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(g=g.next(()=>this.Xr(d))),s<6&&u>=6&&(g=g.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&u>=7&&(g=g.next(()=>this.ti(d))),s<8&&u>=8&&(g=g.next(()=>this.ni(e,d))),s<9&&u>=9&&(g=g.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(g=g.next(()=>this.ri(d))),s<11&&u>=11&&(g=g.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(g=g.next(()=>{!function(R){const j=R.createObjectStore("documentOverlays",{keyPath:zl});j.createIndex("collectionPathOverlayIndex",ol,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Xc,{unique:!1})}(e)})),s<13&&u>=13&&(g=g.next(()=>function(R){const j=R.createObjectStore("remoteDocumentsV14",{keyPath:Dt});j.createIndex("documentKeyIndex",Xt),j.createIndex("collectionGroupIndex",St)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(g=g.next(()=>this.si(e,d))),s<15&&u>=15&&(g=g.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:to}).createIndex("sequenceNumberIndex",Xs,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:rl}).createIndex("documentKeyIndex",il,{unique:!1})}(e))),s<16&&u>=16&&(g=g.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),g}ei(e){let r=0;return e.store("remoteDocuments").Y((s,u)=>{r+=Jf(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(u=>_t.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(w=>_t.forEach(w,R=>{wt(R.userId===d.userId);const j=Pu(this.serializer,R);return Td(e,d.userId,j).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.Y((g,w)=>{const R=new gr(g),j=[0,xo(R)];d.push(r.get(j).next(te=>te?_t.resolve():r.put({targetId:0,path:xo(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Hr});const s=r.store("collectionParents"),u=new Ed,d=g=>{if(u.add(g)){const w=g.lastSegment(),R=g.popLast();return s.put({collectionId:w,parent:xo(R)})}};return r.store("remoteDocuments").Y({J:!0},(g,w)=>{const R=new gr(g);return d(R.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([g,w,R],j)=>{const te=b(w);return d(te.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,u)=>{const d=vd(u),g=Sv(this.serializer,d);return r.put(g)})}ii(e,r){const s=r.store("remoteDocuments"),u=[];return s.Y((d,g)=>{const w=r.store("remoteDocumentsV14"),R=(we=g,we.document?new mn(gr.fromString(we.document.name).popFirst(5)):we.noDocument?mn.fromSegments(we.noDocument.path):we.unknownDocument?mn.fromSegments(we.unknownDocument.path):it()).path.toArray(),j={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var we;u.push(w.put(j))}).next(()=>_t.waitFor(u))}si(e,r){const s=r.store("mutations"),u=tp(this.serializer),d=new rp(ip.Hr,this.serializer.ct);return s.W().next(g=>{const w=new Map;return g.forEach(R=>{var j;let te=null!==(j=w.get(R.userId))&&void 0!==j?j:Ir();Pu(this.serializer,R).keys().forEach(we=>te=te.add(we)),w.set(R.userId,te)}),_t.forEach(w,(R,j)=>{const te=new di(j),we=Xf.lt(this.serializer,te),nt=d.getIndexManager(te),Rt=Fh.lt(te,this.serializer,nt,d.referenceDelegate);return new Pc(u,Rt,we,nt).recalculateAndSaveOverlaysForDocumentKeys(new Iu(r,Go._e),R).next()})})}}function Gv(i){i.createObjectStore("targetDocuments",{keyPath:fr}).createIndex("documentTargetsIndex",pi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wn,{unique:!0}),i.createObjectStore("targetGlobal")}const bl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xc{constructor(e,r,s,u,d,g,w,R,j,te,we=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=g,this.document=w,this._i=j,this.ai=te,this.ui=we,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=nt=>Promise.resolve(),!xc.D())throw new Mt(Ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ep(this,u),this.Ti=r+"main",this.serializer=new Tc(R),this.Ei=new qi(this.Ti,this.ui,new dI(this.serializer)),this.Qr=new sI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tp(this.serializer),this.$r=new OE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===te&&N("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Mt(Ct.FAILED_PRECONDITION,bl);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Go(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,k.A)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var r=(0,k.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,k.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Ho(e))return q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Bh(e).get("owner").next(r=>_t.resolve(this.Si(r)))}bi(e){return Xg(e).delete(this.clientId)}Di(){var e=this;return(0,k.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ji(s,"clientMetadata");return u.W().next(d=>{const g=e.vi(d,18e5),w=d.filter(R=>-1===g.indexOf(R));return _t.forEach(w,R=>u.delete(R.clientId)).next(()=>w)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?_t.resolve(!0):Bh(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Mt(Ct.FAILED_PRECONDITION,bl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xg(e).W().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&q("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,k.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Iu(r,Go._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Xg(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Fh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xf.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){q("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",d=16===(R=this.ui)?kf:15===R?tc:14===R?Qs:13===R?Qc:12===R?oh:11===R?ca:void it();var R;let g;return this.Ei.runTransaction(e,u,d,w=>(g=new Iu(w,this.kr?this.kr.next():Go._e),"readwrite-primary"===r?this.gi(g).next(R=>!!R||this.pi(g)).next(R=>{if(!R)throw N(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Mt(Ct.FAILED_PRECONDITION,fi);return s(g)}).next(R=>this.wi(g).next(()=>R)):this.ki(g).next(()=>s(g)))).then(w=>(g.raiseOnCommittedEvent(),w))}ki(e){return Bh(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Mt(Ct.FAILED_PRECONDITION,bl)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bh(e).put("owner",r)}static D(){return qi.D()}yi(e){const r=Bh(e);return r.get("owner").next(s=>this.Si(s)?(q("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):_t.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(N(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,oe.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return q("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return N("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){N("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bh(i){return ji(i,"owner")}function Xg(i){return ji(i,"clientMetadata")}function zv(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Wv{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=u}static Ki(e,r){let s=Ir(),u=Ir();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Wv(e,r.fromCache,s,u)}}class FE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hI{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,oe.nr)()?8:qi.v((0,oe.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,u){const d={result:null};return this.ji(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.Hi(e,r,u,s).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new FE;return this.Ji(e,r,g).next(w=>{if(d.result=w,this.Ui)return this.Yi(e,r,g,w.size)})}).next(()=>d.result)}Yi(e,r,s,u){return s.documentReadCount<this.Wi?(D()<=Ee.$b.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",fl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),_t.resolve()):(D()<=Ee.$b.DEBUG&&q("QueryEngine","Query:",fl(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(D()<=Ee.$b.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",fl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Io(r))):_t.resolve())}ji(e,r){if(Zl(r))return _t.resolve(null);let s=Io(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Du(r,null,"F"),s=Io(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=Ir(...d);return this.zi.getDocuments(e,g).next(w=>this.indexManager.getMinOffset(e,s).next(R=>{const j=this.Zi(r,w);return this.Xi(r,j,g,R.readTime)?this.ji(e,Du(r,null,"F")):this.es(e,j,r,R)}))})))}Hi(e,r,s,u){return Zl(r)||u.isEqual(Un.min())?_t.resolve(null):this.zi.getDocuments(e,s).next(d=>{const g=this.Zi(r,d);return this.Xi(r,g,s,u)?_t.resolve(null):(D()<=Ee.$b.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fl(r)),this.es(e,g,r,Yu(u,-1)).next(w=>w))})}Zi(e,r){let s=new Wr(mh(e));return r.forEach((u,d)=>{pl(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ji(e,r,s){return D()<=Ee.$b.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",fl(r)),this.zi.getDocumentsMatchingQuery(e,r,oi.min(),s)}es(e,r,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Kv{constructor(e,r,s,u){this.persistence=e,this.ts=r,this.serializer=u,this.ns=new Gr(Nn),this.rs=new gl(d=>Yl(d),cc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function qv(i,e,r,s){return new Kv(i,e,r,s)}function Xv(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,k.A)(function*(i,e){const r=Kt(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],w=[];let R=Ir();for(const j of u){g.push(j.batchId);for(const te of j.mutations)R=R.add(te.key)}for(const j of d){w.push(j.batchId);for(const te of j.mutations)R=R.add(te.key)}return r.localDocuments.getDocuments(s,R).next(j=>({us:j,removedBatchIds:g,addedBatchIds:w}))})})}),Qg.apply(this,arguments)}function sp(i){const e=Kt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Sd(i,e,r){let s=Ir(),u=Ir();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=ko();return r.forEach((w,R)=>{const j=d.get(w);R.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(w)),R.isNoDocument()&&R.version.isEqual(Un.min())?(e.removeEntry(w,R.readTime),g=g.insert(w,R)):!j.isValidDocument()||R.version.compareTo(j.version)>0||0===R.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(R),g=g.insert(w,R)):q("LocalStore","Ignoring outdated watch update for ",w,". Current version:",j.version," Watch version:",R.version)}),{cs:g,ls:u}})}function Qv(i,e){const r=Kt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nc(i,e){const r=Kt(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Qr.getTargetData(s,e).next(d=>d?(u=d,_t.resolve(u)):r.Qr.allocateTargetId(s).next(g=>(u=new $a(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Oc(i,e,r){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,k.A)(function*(i,e,r){const s=Kt(i),u=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Ho(g))throw g;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)}),Yv.apply(this,arguments)}function Yg(i,e,r){const s=Kt(i);let u=Un.min(),d=Ir();return s.persistence.runTransaction("Execute query","readwrite",g=>function(R,j,te){const we=Kt(R),nt=we.rs.get(te);return void 0!==nt?_t.resolve(we.ns.get(nt)):we.Qr.getTargetData(j,te)}(s,g,Io(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,w.targetId).next(R=>{d=R})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?u:Un.min(),r?d:Ir())).next(w=>(lp(s,pc(e),w),{documents:w,hs:d})))}function pI(i,e){const r=Kt(i),s=Kt(r.Qr),u=r.ns.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(g=>g?g.target:null))}function ap(i,e){const r=Kt(i),s=r.ss.get(e)||Un.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.os.getAllFromCollectionGroup(u,e,Yu(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(lp(r,e,u),u))}function lp(i,e,r){let s=i.ss.get(e)||Un.min();r.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.ss.set(e,s)}function Zv(){return Zv=(0,k.A)(function*(i,e,r,s){const u=Kt(i);let d=Ir(),g=ko();for(const j of r){const te=e.Ps(j.metadata.name);j.document&&(d=d.add(te));const we=e.Is(j);we.setReadTime(e.Ts(j.metadata.readTime)),g=g.insert(te,we)}const w=u.os.newChangeBuffer({trackRemovals:!0}),R=yield Nc(u,(te=s,Io(hl(gr.fromString(`__bundle__/docs/${te}`)))));var te;return u.persistence.runTransaction("Apply bundle documents","readwrite",j=>Sd(j,w,g).next(te=>(w.apply(j),te)).next(te=>u.Qr.removeMatchingKeysForTargetId(j,R.targetId).next(()=>u.Qr.addMatchingKeys(j,d,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(j,te.cs,te.ls)).next(()=>te.cs)))}),Zv.apply(this,arguments)}function Jv(i,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,k.A)(function*(i,e,r=Ir()){const s=yield Nc(i,Io(Lg(e.bundledQuery))),u=Kt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=Ci(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return u.$r.saveNamedQuery(d,e);const w=s.withResumeToken(si.EMPTY_BYTE_STRING,g);return u.ns=u.ns.insert(w.targetId,w),u.Qr.updateTargetData(d,w).next(()=>u.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>u.$r.saveNamedQuery(d,e))})}),Zg.apply(this,arguments)}function e_(i,e){return`firestore_clients_${i}_${e}`}function t_(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Jg(i,e){return`firestore_targets_${i}_${e}`}class up{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Es(e,r,s){const u=JSON.parse(s);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new Mt(u.error.code,u.error.message))),g?new up(e,r,u.state,d):(N("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rd{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new Mt(s.error.code,s.error.message))),d?new Rd(e,s.state,u):(N("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $h{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=vh();for(let g=0;u&&g<s.activeTargetIds.length;++g)u=ih(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return u?new $h(e,d):(N("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class em{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new em(r.clientId,r.onlineState):(N("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tm{constructor(){this.activeTargetIds=vh()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cp{constructor(e,r,s,u,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Gr(Nn),this.started=!1,this.ys=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=e_(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new tm),this.bs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,k.A)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Vs)continue;const d=e.getItem(e_(e.persistenceKey,u));if(d){const g=$h.Es(u,d);g&&(e.ps=e.ps.insert(g.clientId,g))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Jg(this.persistenceKey,e));if(s){const u=Rd.Es(e,s);u&&(r=u.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jg(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return q("SharedClientState","READ",e,r),r}setItem(e,r){q("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(q("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void N("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,k.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const u=r.$s(s.key);return r.Us(u,null)}{const u=r.Ws(s.key,s.newValue);if(u)return r.Us(u.clientId,u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.Gs(s.key,s.newValue);if(u)return r.zs(u)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const u=r.js(s.key,s.newValue);if(u)return r.Hs(u)}}else if(s.key===r.vs){if(null!==s.newValue){const u=r.xs(s.newValue);if(u)return r.Os(u)}}else if(s.key===r.Ss){const u=function(g){let w=Go._e;if(null!=g)try{const R=JSON.parse(g);wt("number"==typeof R),w=R}catch(R){N("SharedClientState","Failed to read sequence number from WebStorage",R)}return w}(s.newValue);u!==Go._e&&r.sequenceNumberHandler(u)}else if(s.key===r.Fs){const u=r.Js(s.newValue);yield Promise.all(u.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const u=new up(this.currentUser,e,r,s),d=t_(this.persistenceKey,this.currentUser,e);this.setItem(d,u.ds())}Bs(e){const r=t_(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const u=Jg(this.persistenceKey,e),d=new Rd(e,r,s);this.setItem(u,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return $h.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return up.Es(new di(void 0!==s[2]?s[2]:null),u,r)}js(e,r){const s=this.Cs.exec(e),u=Number(s[1]);return Rd.Es(u,r)}xs(e){return em.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,k.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),u=this.Ns(this.ps),d=this.Ns(s),g=[],w=[];return d.forEach(R=>{u.has(R)||g.push(R)}),u.forEach(R=>{d.has(R)||w.push(R)}),this.syncEngine.eo(g,w).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=vh();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class jh{constructor(){this.no=new tm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new tm,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gI{io(e){}shutdown(){}}class dp{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hp=null;function Vu(){return null===hp?hp=268435456+Math.round(2147483648*Math.random()):hp++,"0x"+hp.toString(16)}const mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Wo="WebChannelConnection";class n_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${u}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${d}`}get wo(){return!1}So(r,s,u,d,g){const w=Vu(),R=this.bo(r,s.toUriEncodedString());q("RestConnection",`Sending RPC '${r}' ${w}:`,R,u);const j={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(j,d,g),this.Co(r,R,j,u).then(te=>(q("RestConnection",`Received RPC '${r}' ${w}: `,te),te),te=>{throw J("RestConnection",`RPC '${r}' ${w} failed with error: `,te,"url: ",R,"request:",u),te})}vo(r,s,u,d,g,w){return this.So(r,s,u,d,g)}Do(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ps,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,g)=>r[g]=d),u&&u.headers.forEach((d,g)=>r[g]=d)}bo(r,s){return`${this.fo}/v1/${s}:${mI[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,u){const d=Vu();return new Promise((g,w)=>{const R=new Ro;R.setWithCredentials(!0),R.listenOnce(Pa.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case ho.NO_ERROR:const te=R.getResponseJson();q(Wo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(te)),g(te);break;case ho.TIMEOUT:q(Wo,`RPC '${e}' ${d} timed out`),w(new Mt(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case ho.HTTP_ERROR:const we=R.getStatus();if(q(Wo,`RPC '${e}' ${d} failed with status:`,we,"response text:",R.getResponseText()),we>0){let nt=R.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const Rt=null==nt?void 0:nt.error;if(Rt&&Rt.status&&Rt.message){const fn=function(Cn){const Jn=Cn.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(Jn)>=0?Jn:Ct.UNKNOWN}(Rt.status);w(new Mt(fn,Rt.message))}else w(new Mt(Ct.UNKNOWN,"Server responded with status "+R.getStatus()))}else w(new Mt(Ct.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{q(Wo,`RPC '${e}' ${d} completed.`)}});const j=JSON.stringify(u);q(Wo,`RPC '${e}' ${d} sending request:`,u),R.send(r,"POST",j,s,15)})}Fo(e,r,s){const u=Vu(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=Ra(),w=Ma(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(R.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Do(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const te=d.join("");q(Wo,`Creating RPC '${e}' stream ${u}: ${te}`,R);const we=g.createWebChannel(te,R);let nt=!1,Rt=!1;const fn=new vI({lo:Cn=>{Rt?q(Wo,`Not sending because RPC '${e}' stream ${u} is closed:`,Cn):(nt||(q(Wo,`Opening RPC '${e}' stream ${u} transport.`),we.open(),nt=!0),q(Wo,`RPC '${e}' stream ${u} sending:`,Cn),we.send(Cn))},ho:()=>we.close()}),Tn=(Cn,Jn,_r)=>{Cn.listen(Jn,er=>{try{_r(er)}catch(Tr){setTimeout(()=>{throw Tr},0)}})};return Tn(we,el.EventType.OPEN,()=>{Rt||q(Wo,`RPC '${e}' stream ${u} transport opened.`)}),Tn(we,el.EventType.CLOSE,()=>{Rt||(Rt=!0,q(Wo,`RPC '${e}' stream ${u} transport closed`),fn.Vo())}),Tn(we,el.EventType.ERROR,Cn=>{Rt||(Rt=!0,J(Wo,`RPC '${e}' stream ${u} transport errored:`,Cn),fn.Vo(new Mt(Ct.UNAVAILABLE,"The operation could not be completed")))}),Tn(we,el.EventType.MESSAGE,Cn=>{var Jn;if(!Rt){const _r=Cn.data[0];wt(!!_r);const Tr=_r.error||(null===(Jn=_r[0])||void 0===Jn?void 0:Jn.error);if(Tr){q(Wo,`RPC '${e}' stream ${u} received error:`,Tr);const Di=Tr.status;let ti=function(T0){const Cy=Gi[T0];if(void 0!==Cy)return Fo(Cy)}(Di),Eo=Tr.message;void 0===ti&&(ti=Ct.INTERNAL,Eo="Unknown error status: "+Di+" with message "+Tr.message),Rt=!0,fn.Vo(new Mt(ti,Eo)),we.close()}else q(Wo,`RPC '${e}' stream ${u} received:`,_r),fn.mo(_r)}}),Tn(w,Ja.STAT_EVENT,Cn=>{Cn.stat===Bl.PROXY?q(Wo,`RPC '${e}' stream ${u} detected buffering proxy`):Cn.stat===Bl.NOPROXY&&q(Wo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{fn.Ro()},0),fn}}function r_(){return typeof window<"u"?window:null}function fp(){return typeof document<"u"?document:null}function Hh(i){return new Fg(i,!0)}class nm{constructor(e,r,s=1e3,u=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=u,this.Oo=d,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,r-s);u>0&&q("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class rm{constructor(e,r,s,u,d,g,w,R){this.oi=e,this.$o=s,this.Uo=u,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=w,this.listener=R,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new nm(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,k.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,k.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,k.A)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===Ct.RESOURCE_EXHAUSTED?(N(r.toString()),N("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===Ct.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Wo===r&&this.o_(s,u)},s=>{e(()=>{const u=new Mt(Ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(u)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(u=>{s(()=>this.__(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Yo(){var e=this;this.state=5,this.jo.qo((0,k.A)(function*(){e.state=0,e.start()}))}__(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LE extends rm{constructor(e,r,s,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,g),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function pt(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:it(),u=e.targetChange.targetIds||[],d=function(j,te){return j.useProto3Json?(wt(void 0===te||"string"==typeof te),si.fromBase64String(te||"")):(wt(void 0===te||te instanceof Buffer||te instanceof Uint8Array),si.fromUint8Array(te||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,w=g&&function(j){const te=void 0===j.code?Ct.UNKNOWN:Fo(j.code);return new Mt(te,j.message||"")}(g);r=new Wf(s,u,d,w||null)}else if("documentChange"in e){const s=e.documentChange,u=Cs(i,s.document.name),d=Ci(s.document.updateTime),g=s.document.createTime?Ci(s.document.createTime):Un.min(),w=new Hi({mapValue:{fields:s.document.fields}}),R=Ei.newFoundDocument(u,d,g,w);r=new Cc(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,u=Cs(i,s.document),d=s.readTime?Ci(s.readTime):Un.min(),g=Ei.newNoDocument(u,d);r=new Cc([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,u=Cs(i,s.document);r=new Cc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return it();{const s=e.filter,{count:u=0,unchangedNames:d}=s,g=new Ah(u,d);r=new El(s.targetId,g)}}var j;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Un.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Un.min():g.readTime?Ci(g.readTime):Un.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=p(this.serializer),r.addTarget=function(d,g){let w;const R=g.target;if(w=dc(R)?{documents:yn(d,R)}:{query:ni(d,R).ut},w.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){w.resumeToken=Sh(d,g.resumeToken);const j=Es(d,g.expectedCount);null!==j&&(w.expectedCount=j)}else if(g.snapshotVersion.compareTo(Un.min())>0){w.readTime=io(d,g.snapshotVersion.toTimestamp());const j=Es(d,g.expectedCount);null!==j&&(w.expectedCount=j)}return w}(this.serializer,e);const s=function Ac(i,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=p(this.serializer),r.removeTarget=e,this.t_(r)}}class UE extends rm{constructor(e,r,s,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,g),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function Fn(i,e){return i&&i.length>0?(wt(void 0!==e),i.map(r=>function(u,d){let g=Ci(u.updateTime?u.updateTime:d);return g.isEqual(Un.min())&&(g=Ci(d)),new yl(g,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.T_(s,r)}return wt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=p(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Vt(this.serializer,s))};this.t_(r)}}class Gh extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.A_=!1}R_(){if(this.A_)throw new Mt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,u){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.So(e,gd(r,s),u,d,g)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(Ct.UNKNOWN,d.toString())})}vo(e,r,s,u,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,w])=>this.connection.vo(e,gd(r,s),u,g,w,d)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Mt(Ct.UNKNOWN,g.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class yI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(N(r),this.g_=!1):q("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class i_{constructor(e,r,s,u,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(w=>{s.enqueueAndForget((0,k.A)(function*(){var R;kc(g)&&(q("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,k.A)(function*(te){const we=Kt(te);we.v_.add(4),yield Md(we),we.x_.set("Unknown"),we.v_.delete(4),yield zh(we)}),function j(te){return R.apply(this,arguments)})(g))}))}),this.x_=new yI(s,u)}}function zh(i){return om.apply(this,arguments)}function om(){return om=(0,k.A)(function*(i){if(kc(i))for(const e of i.F_)yield e(!0)}),om.apply(this,arguments)}function Md(i){return sm.apply(this,arguments)}function sm(){return sm=(0,k.A)(function*(i){for(const e of i.F_)yield e(!1)}),sm.apply(this,arguments)}function pp(i,e){const r=Kt(i);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),Kh(r)?o_(r):Ha(r).Jo()&&Wh(r,e))}function Pd(i,e){const r=Kt(i),s=Ha(r);r.C_.delete(e),s.Jo()&&II(r,e),0===r.C_.size&&(s.Jo()?s.Xo():kc(r)&&r.x_.set("Unknown"))}function Wh(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Un.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ha(i).c_(e)}function II(i,e){i.O_.Oe(e),Ha(i).l_(e)}function o_(i){i.O_=new bv({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ha(i).start(),i.x_.p_()}function Kh(i){return kc(i)&&!Ha(i).Ho()&&i.C_.size>0}function kc(i){return 0===Kt(i).v_.size}function EI(i){i.O_=void 0}function BE(i){return s_.apply(this,arguments)}function s_(){return s_=(0,k.A)(function*(i){i.C_.forEach((e,r)=>{Wh(i,e)})}),s_.apply(this,arguments)}function $E(i,e){return am.apply(this,arguments)}function am(){return am=(0,k.A)(function*(i,e){EI(i),Kh(i)?(i.x_.S_(e),o_(i)):i.x_.set("Unknown")}),am.apply(this,arguments)}function gp(i,e,r){return xd.apply(this,arguments)}function xd(){return xd=(0,k.A)(function*(i,e,r){if(i.x_.set("Online"),e instanceof Wf&&2===e.state&&e.cause)try{yield(s=(0,k.A)(function*(d,g){const w=g.cause;for(const R of g.targetIds)d.C_.has(R)&&(yield d.remoteSyncer.rejectListen(R,w),d.C_.delete(R),d.O_.removeTarget(R))}),function u(d,g){return s.apply(this,arguments)})(i,e)}catch(s){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Nd(i,s)}else if(e instanceof Cc?i.O_.$e(e):e instanceof El?i.O_.Je(e):i.O_.Ge(e),!r.isEqual(Un.min()))try{const s=yield sp(i.localStore);r.compareTo(s)>=0&&(yield function(d,g){const w=d.O_.it(g);return w.targetChanges.forEach((R,j)=>{if(R.resumeToken.approximateByteSize()>0){const te=d.C_.get(j);te&&d.C_.set(j,te.withResumeToken(R.resumeToken,g))}}),w.targetMismatches.forEach((R,j)=>{const te=d.C_.get(R);if(!te)return;d.C_.set(R,te.withResumeToken(si.EMPTY_BYTE_STRING,te.snapshotVersion)),II(d,R);const we=new $a(te.target,R,j,te.sequenceNumber);Wh(d,we)}),d.remoteSyncer.applyRemoteEvent(w)}(i,r))}catch(s){q("RemoteStore","Failed to raise snapshot:",s),yield Nd(i,s)}var s}),xd.apply(this,arguments)}function Nd(i,e,r){return mp.apply(this,arguments)}function mp(){return mp=(0,k.A)(function*(i,e,r){if(!Ho(e))throw e;i.v_.add(1),yield Md(i),i.x_.set("Offline"),r||(r=()=>sp(i.localStore)),i.asyncQueue.enqueueRetryable((0,k.A)(function*(){q("RemoteStore","Retrying IndexedDB access"),yield r(),i.v_.delete(1),yield zh(i)}))}),mp.apply(this,arguments)}function lm(i,e){return e().catch(r=>Nd(i,r,e))}function Od(i){return um.apply(this,arguments)}function um(){return um=(0,k.A)(function*(i){const e=Kt(i),r=Sl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;a_(e);)try{const u=yield Qv(e.localStore,s);if(null===u){0===e.D_.length&&r.Xo();break}s=u.batchId,kd(e,u)}catch(u){yield Nd(e,u)}Fs(e)&&uu(e)}),um.apply(this,arguments)}function a_(i){return kc(i)&&i.D_.length<10}function kd(i,e){i.D_.push(e);const r=Sl(i);r.Jo()&&r.P_&&r.I_(e.mutations)}function Fs(i){return kc(i)&&!Sl(i).Ho()&&i.D_.length>0}function uu(i){Sl(i).start()}function l_(i){return u_.apply(this,arguments)}function u_(){return u_=(0,k.A)(function*(i){Sl(i).d_()}),u_.apply(this,arguments)}function CI(i){return c_.apply(this,arguments)}function c_(){return c_=(0,k.A)(function*(i){const e=Sl(i);for(const r of i.D_)e.I_(r.mutations)}),c_.apply(this,arguments)}function jE(i,e,r){return vp.apply(this,arguments)}function vp(){return vp=(0,k.A)(function*(i,e,r){const s=i.D_.shift(),u=Dh.from(s,e,r);yield lm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Od(i)}),vp.apply(this,arguments)}function d_(i,e){return h_.apply(this,arguments)}function h_(){return h_=(0,k.A)(function*(i,e){var r;e&&Sl(i).P_&&(yield(r=(0,k.A)(function*(u,d){if(Th(w=d.code)&&w!==Ct.ABORTED){const g=u.D_.shift();Sl(u).Zo(),yield lm(u,()=>u.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield Od(u)}var w}),function s(u,d){return r.apply(this,arguments)})(i,e)),Fs(i)&&uu(i)}),h_.apply(this,arguments)}function qh(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,k.A)(function*(i,e){const r=Kt(i);r.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const s=kc(r);r.v_.add(3),yield Md(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield zh(r)}),Xh.apply(this,arguments)}function Qh(i,e){return cm.apply(this,arguments)}function cm(){return cm=(0,k.A)(function*(i,e){const r=Kt(i);e?(r.v_.delete(2),yield zh(r)):e||(r.v_.add(2),yield Md(r),r.x_.set("Unknown"))}),cm.apply(this,arguments)}function Ha(i){return i.N_||(i.N_=function(r,s,u){const d=Kt(r);return d.R_(),new LE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{Po:BE.bind(null,i),To:$E.bind(null,i),u_:gp.bind(null,i)}),i.F_.push(function(){var e=(0,k.A)(function*(r){r?(i.N_.Zo(),Kh(i)?o_(i):i.x_.set("Unknown")):(yield i.N_.stop(),EI(i))});return function(r){return e.apply(this,arguments)}}())),i.N_}function Sl(i){return i.L_||(i.L_=function(r,s,u){const d=Kt(r);return d.R_(),new UE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{Po:l_.bind(null,i),To:d_.bind(null,i),E_:CI.bind(null,i),T_:jE.bind(null,i)}),i.F_.push(function(){var e=(0,k.A)(function*(r){r?(i.L_.Zo(),yield Od(i)):(yield i.L_.stop(),i.D_.length>0&&(q("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(r){return e.apply(this,arguments)}}())),i.L_}class _p{constructor(e,r,s,u,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,d){const g=Date.now()+s,w=new _p(e,r,g,u,d);return w.start(s),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lu(i,e){if(N("AsyncQueue",`${e}: ${i}`),Ho(i))return new Mt(Ct.UNAVAILABLE,`${e}: ${i}`);throw i}class cu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||mn.comparator(r.key,s.key):(r,s)=>mn.comparator(r.key,s.key),this.keyedMap=gc(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new cu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class f_{constructor(){this.B_=new Gr(mn.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):it():this.B_=this.B_.insert(r,e)}k_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Fd{constructor(e,r,s,u,d,g,w,R,j){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=R,this.hasCachedResults=j}static fromInitialDocuments(e,r,s,u,d){const g=[];return r.forEach(w=>{g.push({type:0,doc:w})}),new Fd(e,r,cu.emptySet(r),g,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class p_{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class DI{constructor(){this.queries=new gl(e=>fc(e),ma),this.onlineState="Unknown",this.W_=new Set}}function dm(i,e){return hm.apply(this,arguments)}function hm(){return hm=(0,k.A)(function*(i,e){const r=Kt(i);let s=3;const u=e.query;let d=r.queries.get(u);d?!d.K_()&&e.U_()&&(s=2):(d=new p_,s=e.U_()?0:1);try{switch(s){case 0:d.q_=yield r.onListen(u,!0);break;case 1:d.q_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(g){const w=Lu(g,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(w)}r.queries.set(u,d),d.Q_.push(e),e.G_(r.onlineState),d.q_&&e.z_(d.q_)&&pm(r)}),hm.apply(this,arguments)}function yp(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,k.A)(function*(i,e){const r=Kt(i),s=e.query;let u=3;const d=r.queries.get(s);if(d){const g=d.Q_.indexOf(e);g>=0&&(d.Q_.splice(g,1),0===d.Q_.length?u=e.U_()?0:1:!d.K_()&&e.U_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}),Fc.apply(this,arguments)}function Ip(i,e){const r=Kt(i);let s=!1;for(const u of e){const g=r.queries.get(u.query);if(g){for(const w of g.Q_)w.z_(u)&&(s=!0);g.q_=u}}s&&pm(r)}function fm(i,e,r){const s=Kt(i),u=s.queries.get(e);if(u)for(const d of u.Q_)d.onError(r);s.queries.delete(e)}function pm(i){i.W_.forEach(e=>{e.next()})}var gm,Ep;(Ep=gm||(gm={})).j_="default",Ep.Cache="cache";class Cp{constructor(e,r,s){this.query=e,this.H_=r,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=s||{}}z_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Fd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),r=!0):this.X_(e,this.onlineState)&&(this.ea(e),r=!0),this.Y_=e,r}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let r=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),r=!0),r}X_(e,r){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==gm.Cache}}class Vc{constructor(e,r){this.na=e,this.byteLength=r}ra(){return"metadata"in this.na}}class mm{constructor(e){this.serializer=e}Ps(e){return Cs(this.serializer,e)}Is(e){return e.metadata.exists?Z(this.serializer,e.document,!1):Ei.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ci(e)}}class g_{constructor(e,r,s){this.ia=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=m_(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++r;const s=gr.fromString(e.na.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}oa(e){const r=new Map,s=new mm(this.serializer);for(const u of e)if(u.metadata.queries){const d=s.Ps(u.metadata.name);for(const g of u.metadata.queries){const w=(r.get(g)||Ir()).add(d);r.set(g,w)}}return r}complete(){var e=this;return(0,k.A)(function*(){const r=yield function VE(i,e,r,s){return Zv.apply(this,arguments)}(e.localStore,new mm(e.serializer),e.documents,e.ia.id),s=e.oa(e.documents);for(const u of e.queries)yield Jv(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:r}})()}}function m_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class AI{constructor(e){this.key=e}}class Yh{constructor(e){this.key=e}}class v_{constructor(e,r){this.query=e,this.ua=r,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ir(),this.mutatedKeys=Ir(),this.ha=mh(e),this.Pa=new cu(this.ha)}get Ia(){return this.ua}Ta(e,r){const s=r?r.Ea:new f_,u=r?r.Pa:this.Pa;let d=r?r.mutatedKeys:this.mutatedKeys,g=u,w=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,we)=>{const nt=u.get(te),Rt=pl(this.query,we)?we:null,fn=!!nt&&this.mutatedKeys.has(nt.key),Tn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let Cn=!1;nt&&Rt?nt.data.isEqual(Rt.data)?fn!==Tn&&(s.track({type:3,doc:Rt}),Cn=!0):this.da(nt,Rt)||(s.track({type:2,doc:Rt}),Cn=!0,(R&&this.ha(Rt,R)>0||j&&this.ha(Rt,j)<0)&&(w=!0)):!nt&&Rt?(s.track({type:0,doc:Rt}),Cn=!0):nt&&!Rt&&(s.track({type:1,doc:nt}),Cn=!0,(R||j)&&(w=!0)),Cn&&(Rt?(g=g.add(Rt),d=Tn?d.add(te):d.delete(te)):(g=g.delete(te),d=d.delete(te)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const te="F"===this.query.limitType?g.last():g.first();g=g.delete(te.key),d=d.delete(te.key),s.track({type:1,doc:te})}return{Pa:g,Ea:s,Xi:w,mutatedKeys:d}}da(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,u){const d=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const g=e.Ea.k_();g.sort((te,we)=>function(Rt,fn){const Tn=Cn=>{switch(Cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return Tn(Rt)-Tn(fn)}(te.type,we.type)||this.ha(te.doc,we.doc)),this.Aa(s),u=null!=u&&u;const w=r&&!u?this.Ra():[],R=0===this.la.size&&this.current&&!u?1:0,j=R!==this.ca;return this.ca=R,0!==g.length||j?{snapshot:new Fd(this.query,e.Pa,d,g,e.mutatedKeys,0===R,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),Va:w}:{Va:w}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new f_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(r=>this.ua=this.ua.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ua=this.ua.delete(r)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ir(),this.Pa.forEach(s=>{this.ma(s.key)&&(this.la=this.la.add(s.key))});const r=[];return e.forEach(s=>{this.la.has(s)||r.push(new Yh(s))}),this.la.forEach(s=>{e.has(s)||r.push(new AI(s))}),r}fa(e){this.ua=e.hs,this.la=Ir();const r=this.Ta(e.documents);return this.applyChanges(r,!0)}ga(){return Fd.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class __{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class y_{constructor(e){this.key=e,this.pa=!1}}class I_{constructor(e,r,s,u,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.ya={},this.wa=new gl(w=>fc(w),ma),this.Sa=new Map,this.ba=new Set,this.Da=new Gr(mn.comparator),this.Ca=new Map,this.va=new Bv,this.Fa={},this.Ma=new Map,this.xa=Mc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function vm(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,k.A)(function*(i,e,r=!0){const s=Pp(i);let u;const d=s.wa.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),u=d.view.ga()):u=yield _m(s,e,r,!0),u}),Dp.apply(this,arguments)}function Ap(i,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,k.A)(function*(i,e){const r=Pp(i);yield _m(r,e,!0,!1)}),Lc.apply(this,arguments)}function _m(i,e,r,s){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,k.A)(function*(i,e,r,s){const u=yield Nc(i.localStore,Io(e)),d=u.targetId,g=r?i.sharedClientState.addLocalQueryTarget(d):"not-current";let w;return s&&(w=yield Uc(i,e,d,"current"===g,u.resumeToken)),i.isPrimaryClient&&r&&pp(i.remoteStore,u),w}),Zh.apply(this,arguments)}function Uc(i,e,r,s,u){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,k.A)(function*(i,e,r,s,u){i.Na=(we,nt,Rt)=>{return(fn=(0,k.A)(function*(Cn,Jn,_r,er){let Tr=Jn.view.Ta(_r);Tr.Xi&&(Tr=yield Yg(Cn.localStore,Jn.query,!1).then(({documents:ya})=>Jn.view.Ta(ya,Tr)));const Di=er&&er.targetChanges.get(Jn.targetId),ti=er&&null!=er.targetMismatches.get(Jn.targetId),Eo=Jn.view.applyChanges(Tr,Cn.isPrimaryClient,Di,ti);return ef(Cn,Jn.targetId,Eo.Va),Eo.snapshot}),function Tn(Cn,Jn,_r,er){return fn.apply(this,arguments)})(i,we,nt,Rt);var fn};const d=yield Yg(i.localStore,e,!0),g=new v_(e,d.hs),w=g.Ta(d.documents),R=Su.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,u),j=g.applyChanges(w,i.isPrimaryClient,R);ef(i,r,j.Va);const te=new __(e,r,g);return i.wa.set(e,te),i.Sa.has(r)?i.Sa.get(r).push(e):i.Sa.set(r,[e]),j.snapshot}),Tp.apply(this,arguments)}function ym(i,e,r){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,k.A)(function*(i,e,r){const s=Kt(i),u=s.wa.get(e),d=s.Sa.get(u.targetId);if(d.length>1)return s.Sa.set(u.targetId,d.filter(g=>!ma(g,e))),void s.wa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Oc(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Pd(s.remoteStore,u.targetId),Rl(s,u.targetId)}).catch(rs))):(Rl(s,u.targetId),yield Oc(s.localStore,u.targetId,!0))}),Vd.apply(this,arguments)}function TI(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,k.A)(function*(i,e){const r=Kt(i),s=r.wa.get(e),u=r.Sa.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Pd(r.remoteStore,s.targetId))}),wp.apply(this,arguments)}function Im(){return Im=(0,k.A)(function*(i,e,r){const s=Rm(i);try{const u=yield function(g,w){const R=Kt(g),j=Mn.now(),te=w.reduce((Rt,fn)=>Rt.add(fn.key),Ir());let we,nt;return R.persistence.runTransaction("Locally write mutations","readwrite",Rt=>{let fn=ko(),Tn=Ir();return R.os.getEntries(Rt,te).next(Cn=>{fn=Cn,fn.forEach((Jn,_r)=>{_r.isValidDocument()||(Tn=Tn.add(Jn))})}).next(()=>R.localDocuments.getOverlayedDocuments(Rt,fn)).next(Cn=>{we=Cn;const Jn=[];for(const _r of w){const er=_c(_r,we.get(_r.key).overlayedDocument);null!=er&&Jn.push(new ea(_r.key,er,Ff(er.value.mapValue),Er.exists(!0)))}return R.mutationQueue.addMutationBatch(Rt,j,Jn,w)}).next(Cn=>{nt=Cn;const Jn=Cn.applyToLocalDocumentSet(we,Tn);return R.documentOverlayCache.saveOverlays(Rt,Cn.batchId,Jn)})}).then(()=>({batchId:nt.batchId,changes:Jl(we)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(g,w,R){let j=g.Fa[g.currentUser.toKey()];j||(j=new Gr(Nn)),j=j.insert(w,R),g.Fa[g.currentUser.toKey()]=j}(s,u.batchId,r),yield Ml(s,u.changes),yield Od(s.remoteStore)}catch(u){const d=Lu(u,"Failed to persist write");r.reject(d)}}),Im.apply(this,arguments)}function E_(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,k.A)(function*(i,e){const r=Kt(i);try{const s=yield function lu(i,e){const r=Kt(i),s=e.snapshotVersion;let u=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.os.newChangeBuffer({trackRemovals:!0});u=r.ns;const w=[];e.targetChanges.forEach((te,we)=>{const nt=u.get(we);if(!nt)return;w.push(r.Qr.removeMatchingKeys(d,te.removedDocuments,we).next(()=>r.Qr.addMatchingKeys(d,te.addedDocuments,we)));let Rt=nt.withSequenceNumber(d.currentSequenceNumber);var Tn,Cn,Jn;null!==e.targetMismatches.get(we)?Rt=Rt.withResumeToken(si.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):te.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(te.resumeToken,s)),u=u.insert(we,Rt),Cn=Rt,Jn=te,(0===(Tn=nt).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Tn.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&w.push(r.Qr.updateTargetData(d,Rt))});let R=ko(),j=Ir();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(d,te))}),w.push(Sd(d,g,e.documentUpdates).next(te=>{R=te.cs,j=te.ls})),!s.isEqual(Un.min())){const te=r.Qr.getLastRemoteSnapshotVersion(d).next(we=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));w.push(te)}return _t.waitFor(w).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,R,j)).next(()=>R)}).then(d=>(r.ns=u,d))}(r.localStore,e);e.targetChanges.forEach((u,d)=>{const g=r.Ca.get(d);g&&(wt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.pa=!0:u.modifiedDocuments.size>0?wt(g.pa):u.removedDocuments.size>0&&(wt(g.pa),g.pa=!1))}),yield Ml(r,s,e)}catch(s){yield rs(s)}}),bp.apply(this,arguments)}function Em(i,e,r){const s=Kt(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.wa.forEach((d,g)=>{const w=g.view.G_(e);w.snapshot&&u.push(w.snapshot)}),function(g,w){const R=Kt(g);R.onlineState=w;let j=!1;R.queries.forEach((te,we)=>{for(const nt of we.Q_)nt.G_(w)&&(j=!0)}),j&&pm(R)}(s.eventManager,e),u.length&&s.ya.u_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Cr(i,e,r){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,k.A)(function*(i,e,r){const s=Kt(i);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.Ca.get(e),d=u&&u.key;if(d){let g=new Gr(mn.comparator);g=g.insert(d,Ei.newNoDocument(d,Un.min()));const w=Ir().add(d),R=new Ec(Un.min(),new Map,new Gr(Nn),g,w);yield E_(s,R),s.Da=s.Da.remove(d),s.Ca.delete(e),tf(s)}else yield Oc(s.localStore,e,!1).then(()=>Rl(s,e,r)).catch(rs)}),Sp.apply(this,arguments)}function C_(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,k.A)(function*(i,e){const r=Kt(i),s=e.batch.batchId;try{const u=yield function fI(i,e){const r=Kt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(w,R,j,te){const we=j.batch,nt=we.keys();let Rt=_t.resolve();return nt.forEach(fn=>{Rt=Rt.next(()=>te.getEntry(R,fn)).next(Tn=>{const Cn=j.docVersions.get(fn);wt(null!==Cn),Tn.version.compareTo(Cn)<0&&(we.applyToRemoteDocument(Tn,j),Tn.isValidDocument()&&(Tn.setReadTime(j.commitVersion),te.addEntry(Tn)))})}),Rt.next(()=>w.mutationQueue.removeMutationBatch(R,we))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let R=Ir();for(let j=0;j<w.mutationResults.length;++j)w.mutationResults[j].transformResults.length>0&&(R=R.add(w.batch.mutations[j].key));return R}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);Jh(r,s,null),Bu(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ml(r,u)}catch(u){yield rs(u)}}),Uu.apply(this,arguments)}function D_(i,e,r){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,k.A)(function*(i,e,r){const s=Kt(i);try{const u=yield function(g,w){const R=Kt(g);return R.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let te;return R.mutationQueue.lookupMutationBatch(j,w).next(we=>(wt(null!==we),te=we.keys(),R.mutationQueue.removeMutationBatch(j,we))).next(()=>R.mutationQueue.performConsistencyCheck(j)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(j,te,w)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,te)).next(()=>R.localDocuments.getDocuments(j,te))})}(s.localStore,e);Jh(s,e,r),Bu(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ml(s,u)}catch(u){yield rs(u)}}),Rp.apply(this,arguments)}function Ld(){return Ld=(0,k.A)(function*(i,e){const r=Kt(i);kc(r.remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const w=Kt(g);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>w.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void e.resolve();const u=r.Ma.get(s)||[];u.push(e),r.Ma.set(s,u)}catch(s){const u=Lu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ld.apply(this,arguments)}function Bu(i,e){(i.Ma.get(e)||[]).forEach(r=>{r.resolve()}),i.Ma.delete(e)}function Jh(i,e,r){const s=Kt(i);let u=s.Fa[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(r?d.reject(r):d.resolve(),u=u.remove(e)),s.Fa[s.currentUser.toKey()]=u}}function Rl(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Sa.get(e))i.wa.delete(s),r&&i.ya.La(s,r);i.Sa.delete(e),i.isPrimaryClient&&i.va.Vr(e).forEach(s=>{i.va.containsKey(s)||Cm(i,s)})}function Cm(i,e){i.ba.delete(e.path.canonicalString());const r=i.Da.get(e);null!==r&&(Pd(i.remoteStore,r),i.Da=i.Da.remove(e),i.Ca.delete(r),tf(i))}function ef(i,e,r){for(const s of r)s instanceof AI?(i.va.addReference(s.key,e),Dm(i,s)):s instanceof Yh?(q("SyncEngine","Document no longer in limbo: "+s.key),i.va.removeReference(s.key,e),i.va.containsKey(s.key)||Cm(i,s.key)):it()}function Dm(i,e){const r=e.key,s=r.path.canonicalString();i.Da.get(r)||i.ba.has(s)||(q("SyncEngine","New document in limbo: "+r),i.ba.add(s),tf(i))}function tf(i){for(;i.ba.size>0&&i.Da.size<i.maxConcurrentLimboResolutions;){const e=i.ba.values().next().value;i.ba.delete(e);const r=new mn(gr.fromString(e)),s=i.xa.next();i.Ca.set(s,new y_(r)),i.Da=i.Da.insert(r,s),pp(i.remoteStore,new $a(Io(hl(r.path)),s,"TargetPurposeLimboResolution",Go._e))}}function Ml(i,e,r){return nf.apply(this,arguments)}function nf(){return nf=(0,k.A)(function*(i,e,r){const s=Kt(i),u=[],d=[],g=[];var w;s.wa.isEmpty()||(s.wa.forEach((w,R)=>{g.push(s.Na(R,e,r).then(j=>{if((j||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,null!=j&&j.fromCache?"not-current":"current"),j){u.push(j);const te=Wv.Ki(R.targetId,j);d.push(te)}}))}),yield Promise.all(g),s.ya.u_(u),yield(w=(0,k.A)(function*(j,te){const we=Kt(j);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>_t.forEach(te,Rt=>_t.forEach(Rt.qi,fn=>we.persistence.referenceDelegate.addReference(nt,Rt.targetId,fn)).next(()=>_t.forEach(Rt.Qi,fn=>we.persistence.referenceDelegate.removeReference(nt,Rt.targetId,fn)))))}catch(nt){if(!Ho(nt))throw nt;q("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of te){const Rt=nt.targetId;if(!nt.fromCache){const fn=we.ns.get(Rt),Cn=fn.withLastLimboFreeSnapshotVersion(fn.snapshotVersion);we.ns=we.ns.insert(Rt,Cn)}}}),function R(j,te){return w.apply(this,arguments)})(s.localStore,d))}),nf.apply(this,arguments)}function SI(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,k.A)(function*(i,e){const r=Kt(i);if(!r.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const s=yield Xv(r.localStore,e);r.currentUser=e,(d=r).Ma.forEach(w=>{w.forEach(R=>{R.reject(new Mt(Ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ma.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ml(r,s.us)}var d}),Am.apply(this,arguments)}function RI(i,e){const r=Kt(i),s=r.Ca.get(e);if(s&&s.pa)return Ir().add(s.key);{let u=Ir();const d=r.Sa.get(e);if(!d)return u;for(const g of d){const w=r.wa.get(g);u=u.unionWith(w.view.Ia)}return u}}function A_(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,k.A)(function*(i,e){const r=Kt(i),s=yield Yg(r.localStore,e.query,!0),u=e.view.fa(s);return r.isPrimaryClient&&ef(r,e.targetId,u.Va),u}),Tm.apply(this,arguments)}function MI(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,k.A)(function*(i,e){const r=Kt(i);return ap(r.localStore,e).then(s=>Ml(r,s))}),wm.apply(this,arguments)}function PI(i,e,r,s){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,k.A)(function*(i,e,r,s){const u=Kt(i),d=yield function(w,R){const j=Kt(w),te=Kt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",we=>te.vn(we,R).next(nt=>nt?j.localDocuments.getDocuments(we,nt):_t.resolve(null)))}(u.localStore,e);var R;null!==d?("pending"===r?yield Od(u.remoteStore):"acknowledged"===r||"rejected"===r?(Jh(u,e,s||null),Bu(u,e),R=e,Kt(Kt(u.localStore).mutationQueue).Mn(R)):it(),yield Ml(u,d)):q("SyncEngine","Cannot apply mutation batch with id: "+e)}),Mp.apply(this,arguments)}function bm(){return bm=(0,k.A)(function*(i,e){const r=Kt(i);if(Pp(r),Rm(r),!0===e&&!0!==r.Oa){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield w_(r,s.toArray());r.Oa=!0,yield Qh(r.remoteStore,!0);for(const d of u)pp(r.remoteStore,d)}else if(!1===e&&!1!==r.Oa){const s=[];let u=Promise.resolve();r.Sa.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):u=u.then(()=>(Rl(r,g),Oc(r.localStore,g,!0))),Pd(r.remoteStore,g)}),yield u,yield w_(r,s),function(g){const w=Kt(g);w.Ca.forEach((R,j)=>{Pd(w.remoteStore,j)}),w.va.mr(),w.Ca=new Map,w.Da=new Gr(mn.comparator)}(r),r.Oa=!1,yield Qh(r.remoteStore,!1)}}),bm.apply(this,arguments)}function w_(i,e,r){return os.apply(this,arguments)}function os(){return os=(0,k.A)(function*(i,e,r){const s=Kt(i),u=[],d=[];for(const g of e){let w;const R=s.Sa.get(g);if(R&&0!==R.length){w=yield Nc(s.localStore,Io(R[0]));for(const j of R){const te=s.wa.get(j),we=yield A_(s,te);we.snapshot&&d.push(we.snapshot)}}else{const j=yield pI(s.localStore,g);w=yield Nc(s.localStore,j),yield Uc(s,b_(j),g,!1,w.resumeToken)}u.push(w)}return s.ya.u_(d),u}),os.apply(this,arguments)}function b_(i){return Zs(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function xI(i){return r=Kt(i).localStore,Kt(Kt(r).persistence).Bi();var r}function HE(i,e,r,s){return rf.apply(this,arguments)}function rf(){return rf=(0,k.A)(function*(i,e,r,s){const u=Kt(i);if(u.Oa)return void q("SyncEngine","Ignoring unexpected query state notification.");const d=u.Sa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const g=yield ap(u.localStore,pc(d[0])),w=Ec.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,si.EMPTY_BYTE_STRING);yield Ml(u,g,w);break}case"rejected":yield Oc(u.localStore,e,!0),Rl(u,e,s);break;default:it()}}),rf.apply(this,arguments)}function S_(i,e,r){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,k.A)(function*(i,e,r){const s=Pp(i);if(s.Oa){for(const u of e){if(s.Sa.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){q("SyncEngine","Adding an already active target "+u);continue}const d=yield pI(s.localStore,u),g=yield Nc(s.localStore,d);yield Uc(s,b_(d),g.targetId,!1,g.resumeToken),pp(s.remoteStore,g)}for(const u of r)s.Sa.has(u)&&(yield Oc(s.localStore,u,!1).then(()=>{Pd(s.remoteStore,u),Rl(s,u)}).catch(rs))}}),Sm.apply(this,arguments)}function Pp(i){const e=Kt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=E_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cr.bind(null,e),e.ya.u_=Ip.bind(null,e.eventManager),e.ya.La=fm.bind(null,e.eventManager),e}function Rm(i){const e=Kt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D_.bind(null,e),e}class Ud{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,k.A)(function*(){r.serializer=Hh(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return qv(this.persistence,new hI,e.initialUser,this.serializer)}createPersistence(e){return new rp(ip.Hr,this.serializer)}createSharedClientState(e){return new jh}terminate(){var e=this;return(0,k.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sf extends Ud{constructor(e,r,s){super(),this.ka=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,k.A)(function*(){yield r().call(s,e),yield s.ka.initialize(s,e),yield Rm(s.ka.syncEngine),yield Od(s.ka.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qv(this.persistence,new hI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new aI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ju(r,this.persistence);return new Zu(e.asyncQueue,s)}createPersistence(e){const r=zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new xc(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,r_(),fp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new jh}}class M_ extends sf{constructor(e,r){super(e,r,!1),this.ka=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,k.A)(function*(){yield r().call(s,e);const u=s.ka.syncEngine;s.sharedClientState instanceof cp&&(s.sharedClientState.syncEngine={Zs:PI.bind(null,u),Xs:HE.bind(null,u),eo:S_.bind(null,u),Bi:xI.bind(null,u),Ys:MI.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,k.A)(function*(g){yield function T_(i,e){return bm.apply(this,arguments)}(s.ka.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=r_();if(!cp.D(r))throw new Mt(Ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cp(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Bd{initialize(e,r){var s=this;return(0,k.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Em(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,s.syncEngine),yield Qh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DI}createDatastore(e){const r=Hh(e.databaseInfo.databaseId),s=new n_(e.databaseInfo);return new Gh(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,d=e.asyncQueue,g=r=>Em(this.syncEngine,r,0),w=dp.D()?new dp:new gI,new i_(s,u,d,g,w);var s,u,d,g,w}createSyncEngine(e,r){return function(u,d,g,w,R,j,te){const we=new I_(u,d,g,w,R,j);return te&&(we.Oa=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,k.A)(function*(){var r,s;yield(s=(0,k.A)(function*(d){const g=Kt(d);q("RemoteStore","RemoteStore shutting down."),g.v_.add(5),yield Md(g),g.M_.shutdown(),g.x_.set("Unknown")}),function u(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function P_(i,e=10240){let r=0;return{read:()=>(0,k.A)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,k.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):N("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class OI{constructor(e,r){this.Ka=e,this.serializer=r,this.metadata=new nr,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(s=>{s&&s.ra()?this.metadata.resolve(s.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.na)}`))},s=>this.metadata.reject(s))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,k.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,k.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,k.A)(function*(){const r=yield e.Wa();if(null===r)return null;const s=e.$a.decode(r),u=Number(s);isNaN(u)&&e.Ga(`length string (${s}) is not valid number`);const d=yield e.za(u);return new Vc(JSON.parse(d),r.length+u)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,k.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const r=e.ja();r<0&&e.Ga("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}za(e){var r=this;return(0,k.A)(function*(){for(;r.buffer.length<e;)(yield r.Ha())&&r.Ga("Reached the end of bundle when more is expected.");const s=r.$a.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,k.A)(function*(){const r=yield e.Ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Pl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,k.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Mt(Ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,k.A)(function*(g,w){const R=Kt(g),j={documents:w.map(Rt=>Cl(R.serializer,Rt))},te=yield R.vo("BatchGetDocuments",R.serializer.databaseId,gr.emptyPath(),j,w.length),we=new Map;te.forEach(Rt=>{const fn=function Ke(i,e){return"found"in e?function(s,u){wt(!!u.found);const d=Cs(s,u.found.name),g=Ci(u.found.updateTime),w=u.found.createTime?Ci(u.found.createTime):Un.min(),R=new Hi({mapValue:{fields:u.found.fields}});return Ei.newFoundDocument(d,g,w,R)}(i,e):"missing"in e?function(s,u){wt(!!u.missing),wt(!!u.readTime);const d=Cs(s,u.missing),g=Ci(u.readTime);return Ei.newNoDocument(d,g)}(i,e):it()}(R.serializer,Rt);we.set(fn.key.toString(),fn)});const nt=[];return w.forEach(Rt=>{const fn=we.get(Rt.toString());wt(!!fn),nt.push(fn)}),nt}),function d(g,w){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,k.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const d=mn.fromPath(u);e.mutations.push(new Ch(d,e.precondition(d)))}),yield(s=(0,k.A)(function*(d,g){const w=Kt(d),R={writes:g.map(j=>Vt(w.serializer,j))};yield w.So("Commit",w.serializer.databaseId,gr.emptyPath(),R)}),function u(d,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw it();r=Un.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Mt(Ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Un.min())?Er.exists(!1):Er.updateTime(r):Er.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Un.min()))throw new Mt(Ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(r)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mm{constructor(e,r,s,u,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=d,this.Ja=s.maxAttempts,this.jo=new nm(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,k.A)(function*(){const r=new Pl(e.datastore),s=e.Xa(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.eu(d)}))}).catch(u=>{e.eu(u)})}))}Xa(e){try{const r=this.updateFunction(e);return!ec(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Th(r)}return!1}}class kI{constructor(e,r,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=di.UNAUTHENTICATED,this.clientId=la.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,k.A)(function*(w){q("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(q("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,k.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=Lu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Np(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,k.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,k.A)(function*(d){s.isEqual(d)||(yield Xv(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Op.apply(this,arguments)}function kp(i,e){return $d.apply(this,arguments)}function $d(){return $d=(0,k.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield x_(i);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>qh(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,u)=>qh(e.remoteStore,u)),i._onlineComponents=e}),$d.apply(this,arguments)}function Fp(i){return"FirebaseError"===i.name?i.code===Ct.FAILED_PRECONDITION||i.code===Ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function x_(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,k.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Np(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Fp(r))throw r;J("Error using user provided cache. Falling back to memory cache: "+r),yield Np(i,new Ud)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Np(i,new Ud);return i._offlineComponents}),Vp.apply(this,arguments)}function af(i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,k.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield kp(i,i._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield kp(i,new Bd))),i._onlineComponents}),Lp.apply(this,arguments)}function lf(i){return x_(i).then(e=>e.persistence)}function $u(i){return x_(i).then(e=>e.localStore)}function xl(i){return af(i).then(e=>e.remoteStore)}function Pm(i){return af(i).then(e=>e.syncEngine)}function ju(i){return xm.apply(this,arguments)}function xm(){return xm=(0,k.A)(function*(i){const e=yield af(i),r=e.eventManager;return r.onListen=vm.bind(null,e.syncEngine),r.onUnlisten=ym.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ap.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=TI.bind(null,e.syncEngine),r}),xm.apply(this,arguments)}function Hd(i,e,r={}){const s=new nr;return i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return function(d,g,w,R,j){const te=new xp({next:nt=>{g.enqueueAndForget(()=>yp(d,we));const Rt=nt.docs.has(w);!Rt&&nt.fromCache?j.reject(new Mt(Ct.UNAVAILABLE,"Failed to get document because the client is offline.")):Rt&&nt.fromCache&&R&&"server"===R.source?j.reject(new Mt(Ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(nt)},error:nt=>j.reject(nt)}),we=new Cp(hl(w.path),te,{includeMetadataChanges:!0,ta:!0});return dm(d,we)}(yield ju(i),i.asyncQueue,e,r,s)})),s.promise}function Gd(i,e,r={}){const s=new nr;return i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return function(d,g,w,R,j){const te=new xp({next:nt=>{g.enqueueAndForget(()=>yp(d,we)),nt.fromCache&&"server"===R.source?j.reject(new Mt(Ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(nt)},error:nt=>j.reject(nt)}),we=new Cp(w,te,{includeMetadataChanges:!0,ta:!0});return dm(d,we)}(yield ju(i),i.asyncQueue,e,r,s)})),s.promise}function Om(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const cf=new Map;function km(i,e,r){if(!r)throw new Mt(Ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function BI(i,e,r,s){if(!0===e&&!0===s)throw new Mt(Ct.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function V_(i){if(!mn.isDocumentKey(i))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function L_(i){if(mn.isDocumentKey(i))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function df(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":it()}function Vr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Mt(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=df(i);throw new Mt(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function U_(i,e){if(e<=0)throw new Mt(Ct.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Fm{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Mt(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mt(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Om(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Mt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Mt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Mt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mt(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fm(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Oi;switch(s.type){case"firstParty":return new Ln(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Mt(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=cf.get(r);s&&(q("ComponentProvider","Removing Datastore"),cf.delete(r),s.terminate())}(this),Promise.resolve()}}class so{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class gi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}}class Vs extends so{constructor(e,r,s){super(e,r,hl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new mn(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function B_(i,e,...r){if(i=(0,oe.Ku)(i),km("collection","path",e),i instanceof Bc){const s=gr.fromString(e,...r);return L_(s),new Vs(i,null,s)}{if(!(i instanceof gi||i instanceof Vs))throw new Mt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gr.fromString(e,...r));return L_(s),new Vs(i.firestore,null,s)}}function Up(i,e,...r){if(i=(0,oe.Ku)(i),1===arguments.length&&(e=la.newId()),km("doc","path",e),i instanceof Bc){const s=gr.fromString(e,...r);return V_(s),new gi(i,null,new mn(s))}{if(!(i instanceof gi||i instanceof Vs))throw new Mt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gr.fromString(e,...r));return V_(s),new gi(i.firestore,i instanceof Vs?i.converter:null,new mn(s))}}function hf(i,e){return i=(0,oe.Ku)(i),e=(0,oe.Ku)(e),(i instanceof gi||i instanceof Vs)&&(e instanceof gi||e instanceof Vs)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ff(i,e){return i=(0,oe.Ku)(i),e=(0,oe.Ku)(e),i instanceof so&&e instanceof so&&i.firestore===e.firestore&&ma(i._query,e._query)&&i.converter===e.converter}class jI{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new nm(this,"async_queue_retry"),this.cu=()=>{const r=fp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=fp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const r=fp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const r=new nr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,k.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(r){if(!Ho(r))throw r;q("AsyncQueue","Operation failed with retryable error: "+r)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const r=this.nu.then(()=>(this._u=!0,e().catch(s=>{throw this.ou=s,this._u=!1,N("INTERNAL UNHANDLED ERROR: ",function(g){let w=g.message||"";return g.stack&&(w=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),w}(s)),s}).then(s=>(this._u=!1,s))));return this.nu=r,r}enqueueAfterDelay(e,r,s){this.lu(),this.uu.indexOf(e)>-1&&(r=0);const u=_p.createAndSchedule(this,e,r,s,d=>this.Iu(d));return this.su.push(u),u}lu(){this.ou&&it()}verifyOperationInProgress(){}Tu(){var e=this;return(0,k.A)(function*(){let r;do{r=e.nu,yield r}while(r!==e.nu)})()}Eu(e){for(const r of this.su)if(r.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.su)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const r=this.su.indexOf(e);this.su.splice(r,1)}}function $_(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(i)}class GE{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ri extends Bc{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new jI,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||j_(this),this._firestoreClient.terminate()}}function ao(i){return i._firestoreClient||j_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function j_(i){var e,r,s;const u=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Kl(i._databaseId,R,i._persistenceKey,(te=u).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,Om(te.experimentalLongPollingOptions),te.useFetchStreams));var R,te;i._firestoreClient=new kI(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Bp(i,e,r){const s=new nr;return i.asyncQueue.enqueue((0,k.A)(function*(){try{yield Np(i,r),yield kp(i,e),s.resolve()}catch(u){const d=u;if(!Fp(d))throw d;J("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function zd(i){if(i._initialized||i._terminated)throw new Mt(Ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(si.fromBase64String(e))}catch(r){throw new Mt(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ga(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class du{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Mt(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $c{constructor(e){this._methodName=e}}class Hp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Mt(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Mt(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const qI=/^__.*__$/;class XI{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new ea(e,this.data,this.fieldMask,r,this.fieldTransforms):new ru(e,this.data,r,this.fieldTransforms)}}class z_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new ea(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Gp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class Hu{constructor(e,r,s,u,d,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===d&&this.Ru(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Hu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.mu({path:s,gu:!1});return u.pu(e),u}yu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.mu({path:s,gu:!1});return u.Ru(),u}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return _f(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Gp(this.Vu)&&qI.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class QI{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Hh(e)}Cu(e,r,s,u=!1){return new Hu({Vu:e,methodName:r,Du:s,path:jr.emptyPath(),gu:!1,bu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nl(i){const e=i._freezeSettings(),r=Hh(i._databaseId);return new QI(i._databaseId,!!e.ignoreUndefinedProperties,r)}function jc(i,e,r,s,u,d={}){const g=i.Cu(d.merge||d.mergeFields?2:0,e,r,u);mf("Data must be an object, but it was:",g,s);const w=K_(s,g);let R,j;if(d.merge)R=new No(g.fieldMask),j=g.fieldTransforms;else if(d.mergeFields){const te=[];for(const we of d.mergeFields){const nt=vf(e,we,r);if(!g.contains(nt))throw new Mt(Ct.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);YI(te,nt)||te.push(nt)}R=new No(te),j=g.fieldTransforms.filter(we=>R.covers(we.field))}else R=null,j=g.fieldTransforms;return new XI(new Hi(w),R,j)}class zp extends $c{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function W_(i,e,r){return new Hu({Vu:3,Du:e.settings.Du,methodName:i._methodName,gu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bm extends $c{_toFieldTransform(e){return new Tu(e.path,new tu)}isEqual(e){return e instanceof Bm}}class gf extends $c{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=W_(this,e,!0),s=this.vu.map(d=>Hc(d,r)),u=new vl(s);return new Tu(e.path,u)}isEqual(e){return e instanceof gf&&(0,oe.bD)(this.vu,e.vu)}}class $m extends $c{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=W_(this,e,!0),s=this.vu.map(d=>Hc(d,r)),u=new nu(s);return new Tu(e.path,u)}isEqual(e){return e instanceof $m&&(0,oe.bD)(this.vu,e.vu)}}class Wp extends $c{constructor(e,r){super(e),this.Fu=r}_toFieldTransform(e){const r=new Is(e.serializer,_h(e.serializer,this.Fu));return new Tu(e.path,r)}isEqual(e){return e instanceof Wp&&this.Fu===e.Fu}}function jm(i,e,r,s){const u=i.Cu(1,e,r);mf("Data must be an object, but it was:",u,s);const d=[],g=Hi.empty();Fr(s,(R,j)=>{const te=Kp(e,R,r);j=(0,oe.Ku)(j);const we=u.yu(te);if(j instanceof zp)d.push(te);else{const nt=Hc(j,we);null!=nt&&(d.push(te),g.set(te,nt))}});const w=new No(d);return new z_(g,w,u.fieldTransforms)}function Hm(i,e,r,s,u,d){const g=i.Cu(1,e,r),w=[vf(e,s,r)],R=[u];if(d.length%2!=0)throw new Mt(Ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<d.length;nt+=2)w.push(vf(e,d[nt])),R.push(d[nt+1]);const j=[],te=Hi.empty();for(let nt=w.length-1;nt>=0;--nt)if(!YI(j,w[nt])){const Rt=w[nt];let fn=R[nt];fn=(0,oe.Ku)(fn);const Tn=g.yu(Rt);if(fn instanceof zp)j.push(Rt);else{const Cn=Hc(fn,Tn);null!=Cn&&(j.push(Rt),te.set(Rt,Cn))}}const we=new No(j);return new z_(te,we,g.fieldTransforms)}function Gm(i,e,r,s=!1){return Hc(r,i.Cu(s?4:3,e))}function Hc(i,e){if(Gc(i=(0,oe.Ku)(i)))return mf("Unsupported field value:",e,i),K_(i,e);if(i instanceof $c)return function(s,u){if(!Gp(u.Vu))throw u.Su(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Su(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(s,u){const d=[];let g=0;for(const w of s){let R=Hc(w,u.wu(g));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),g++}return{arrayValue:{values:d}}}(i,e)}return function(s,u){if(null===(s=(0,oe.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return _h(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Mn.fromDate(s);return{timestampValue:io(u.serializer,d)}}if(s instanceof Mn){const d=new Mn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:io(u.serializer,d)}}if(s instanceof Hp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ga)return{bytesValue:Sh(u.serializer,s._byteString)};if(s instanceof gi){const d=u.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw u.Su(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Dc(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Su(`Unsupported field value: ${df(s)}`)}(i,e)}function K_(i,e){const r={};return Eu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(i,(s,u)=>{const d=Hc(u,e.fu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function Gc(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Mn||i instanceof Hp||i instanceof Ga||i instanceof gi||i instanceof $c)}function mf(i,e,r){if(!Gc(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=df(r);throw e.Su("an object"===s?i+" a custom object":i+" "+s)}var u}function vf(i,e,r){if((e=(0,oe.Ku)(e))instanceof du)return e._internalPath;if("string"==typeof e)return Kp(i,e);throw _f("Field path arguments must be of type string or ",i,!1,void 0,r)}const q_=new RegExp("[~\\*/\\[\\]]");function Kp(i,e,r){if(e.search(q_)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new du(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function _f(i,e,r,s,u){const d=s&&!s.isEmpty(),g=void 0!==u;let w=`Function ${e}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let R="";return(d||g)&&(R+=" (found",d&&(R+=` in field ${s}`),g&&(R+=` in document ${u}`),R+=")"),new Mt(Ct.INVALID_ARGUMENT,w+i+R)}function YI(i,e){return i.some(r=>r.isEqual(e))}class yf{constructor(e,r,s,u,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class qp extends yf{data(){return super.data()}}function If(i,e){return"string"==typeof e?Kp(i,e):e instanceof du?e._internalPath:e._delegate._internalPath}function X_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Mt(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zm{}class Ef extends zm{}function Ol(i,e,...r){let s=[];e instanceof zm&&s.push(e),s=s.concat(r),function(d){const g=d.filter(R=>R instanceof As).length,w=d.filter(R=>R instanceof Xp).length;if(g>1||g>0&&w>0)throw new Mt(Ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Xp extends Ef{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Xp(e,r,s)}_apply(e){const r=this._parse(e);return Zp(e._query,r),new so(e.firestore,e.converter,hc(e._query,r))}_parse(e){const r=Nl(e.firestore);return function(d,g,w,R,j,te,we){let nt;if(j.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){qm(we,te);const Rt=[];for(const fn of we)Rt.push(Gu(R,d,fn));nt={arrayValue:{values:Rt}}}else nt=Gu(R,d,we)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||qm(we,te),nt=Gm(w,"where",we,"in"===te||"not-in"===te);return xr.create(j,te,nt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class As extends zm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new As(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ei.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,d){let g=u;const w=d.getFlattenedFilters();for(const R of w)Zp(g,R),g=hc(g,R)}(e._query,r),new so(e.firestore,e.converter,hc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Y_ extends Ef{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Y_(e,r)}_apply(e){const r=function(u,d,g){if(null!==u.startAt)throw new Mt(Ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Mt(Ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(d,g)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(u,d){const g=u.explicitOrderBy.concat([d]);return new ys(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class Qp extends Ef{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Qp(e,r,s)}_apply(e){return new so(e.firestore,e.converter,Du(e._query,this._limit,this._limitType))}}class Yp extends Ef{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Yp(e,r,s)}_apply(e){const r=ey(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(d=r,new ys((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}class Cf extends Ef{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Cf(e,r,s)}_apply(e){const r=ey(e,this.type,this._docOrFields,this._inclusive);return new so(e.firestore,e.converter,(d=r,new ys((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function ey(i,e,r,s){if(r[0]=(0,oe.Ku)(r[0]),r[0]instanceof yf)return function(d,g,w,R,j){if(!R)throw new Mt(Ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const te=[];for(const we of Js(d))if(we.field.isKeyField())te.push(Ua(g,R.key));else{const nt=R.data.field(we.field);if(sl(nt))throw new Mt(Ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const Rt=we.field.canonicalString();throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Rt}' (used as the orderBy) does not exist.`)}te.push(nt)}return new fa(te,j)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const u=Nl(i.firestore);return function(g,w,R,j,te,we){const nt=g.explicitOrderBy;if(te.length>nt.length)throw new Mt(Ct.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Rt=[];for(let fn=0;fn<te.length;fn++){const Tn=te[fn];if(nt[fn].field.isKeyField()){if("string"!=typeof Tn)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Tn}`);if(!Cu(g)&&-1!==Tn.indexOf("/"))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Tn}' contains a slash.`);const Cn=g.path.child(gr.fromString(Tn));if(!mn.isDocumentKey(Cn))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const Jn=new mn(Cn);Rt.push(Ua(w,Jn))}else{const Cn=Gm(R,j,Tn);Rt.push(Cn)}}return new fa(Rt,we)}(i._query,i.firestore._databaseId,u,e,r,s)}}function Gu(i,e,r){if("string"==typeof(r=(0,oe.Ku)(r))){if(""===r)throw new Mt(Ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cu(e)&&-1!==r.indexOf("/"))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(gr.fromString(r));if(!mn.isDocumentKey(s))throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ua(i,new mn(s))}if(r instanceof gi)return Ua(i,r._key);throw new Mt(Ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(r)}.`)}function qm(i,e){if(!Array.isArray(i)||0===i.length)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zp(i,e){const r=function(u,d){for(const g of u)for(const w of g.getFlattenedFilters())if(d.indexOf(w.op)>=0)return w.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Mt(Ct.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Jp{convertValue(e,r="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw it()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Fr(e,(u,d)=>{s[u]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new Hp(Ii(e.latitude),Ii(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=da(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const r=Va(e);return new Mn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=gr.fromString(e);wt(Oh(s));const u=new is(s.get(1),s.get(3)),d=new mn(s.popFirst(5));return u.isEqual(r)||N(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Df(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class ny extends Jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,r)}}class za{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends yf{constructor(e,r,s,u,d,g){super(e,r,s,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(If("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Af extends hu{data(e={}){return super.data(e)}}class kl{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new za(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Af(this._firestore,this._userDataWriter,s.key,s,new za(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Mt(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new Af(u._firestore,u._userDataWriter,w.doc.key,w.doc,new za(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:g++}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>d||3!==w.type).map(w=>{const R=new Af(u._firestore,u._userDataWriter,w.doc.key,w.doc,new za(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let j=-1,te=-1;return 0!==w.type&&(j=g.indexOf(w.doc.key),g=g.delete(w.doc.key)),1!==w.type&&(g=g.add(w.doc),te=g.indexOf(w.doc.key)),{type:iy(w.type),doc:R,oldIndex:j,newIndex:te}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function iy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function fu(i,e){return i instanceof hu&&e instanceof hu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof kl&&e instanceof kl&&i._firestore===e._firestore&&ff(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class zc extends Jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,r)}}function Kd(i,e,r){i=Vr(i,gi);const s=Vr(i.firestore,Ri),u=Df(i.converter,e,r);return qd(s,[jc(Nl(s),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,Er.none())])}function ay(i,e,r,...s){i=Vr(i,gi);const u=Vr(i.firestore,Ri),d=Nl(u);let g;return g="string"==typeof(e=(0,oe.Ku)(e))||e instanceof du?Hm(d,"updateDoc",i._key,e,r,s):jm(d,"updateDoc",i._key,e),qd(u,[g.toMutation(i._key,Er.exists(!0))])}function ly(i,...e){var r,s,u;i=(0,oe.Ku)(i);let d={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||$_(e[g])||(d=e[g],g++);const w={includeMetadataChanges:d.includeMetadataChanges,source:d.source};if($_(e[g])){const we=e[g];e[g]=null===(r=we.next)||void 0===r?void 0:r.bind(we),e[g+1]=null===(s=we.error)||void 0===s?void 0:s.bind(we),e[g+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let R,j,te;if(i instanceof gi)j=Vr(i.firestore,Ri),te=hl(i._key.path),R={next:we=>{e[g]&&e[g](Qm(j,i,we))},error:e[g+1],complete:e[g+2]};else{const we=Vr(i,so);j=Vr(we.firestore,Ri),te=we._query;const nt=new zc(j);R={next:Rt=>{e[g]&&e[g](new kl(j,nt,we,Rt))},error:e[g+1],complete:e[g+2]},X_(i._query)}return function(nt,Rt,fn,Tn){const Cn=new xp(Tn),Jn=new Cp(Rt,Cn,fn);return nt.asyncQueue.enqueueAndForget((0,k.A)(function*(){return dm(yield ju(nt),Jn)})),()=>{Cn.Qa(),nt.asyncQueue.enqueueAndForget((0,k.A)(function*(){return yp(yield ju(nt),Jn)}))}}(ao(j),te,w,R)}function qd(i,e){return function(s,u){const d=new nr;return s.asyncQueue.enqueueAndForget((0,k.A)(function*(){return function wI(i,e,r){return Im.apply(this,arguments)}(yield Pm(s),u,d)})),d.promise}(ao(i),e)}function Qm(i,e,r){const s=r.docs.get(e._key),u=new zc(i);return new hu(i,u,e._key,s,new za(r.hasPendingWrites,r.fromCache),e.converter)}const h0={maxAttempts:5};class py{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,r,s){this._verifyNotCommitted();const u=Fl(e,this._firestore),d=Df(u.converter,r,s),g=jc(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(g.toMutation(u._key,Er.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const d=Fl(e,this._firestore);let g;return g="string"==typeof(r=(0,oe.Ku)(r))||r instanceof du?Hm(this._dataReader,"WriteBatch.update",d._key,r,s,u):jm(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Fl(e,this._firestore);return this._mutations=this._mutations.concat(new ou(r._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(Ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(i,e){if((i=(0,oe.Ku)(i)).firestore!==e)throw new Mt(Ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Zm extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Nl(r)}get(r){const s=Fl(r,this._firestore),u=new ny(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return it();const g=d[0];if(g.isFoundDocument())return new yf(this._firestore,u,g.key,g,s.converter);if(g.isNoDocument())return new yf(this._firestore,u,s._key,null,s.converter);throw it()})}set(r,s,u){const d=Fl(r,this._firestore),g=Df(d.converter,s,u),w=jc(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,u);return this._transaction.set(d._key,w),this}update(r,s,u,...d){const g=Fl(r,this._firestore);let w;return w="string"==typeof(s=(0,oe.Ku)(s))||s instanceof du?Hm(this._dataReader,"Transaction.update",g._key,s,u,d):jm(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,w),this}delete(r){const s=Fl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Fl(e,this._firestore),s=new zc(this._firestore);return super.get(e).then(u=>new hu(this._firestore,s,r._key,u._document,new za(!1,!1),r.converter))}}function rv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function iv(){if(typeof Uint8Array>"u")throw new Mt("unimplemented","Uint8Arrays are not available in this environment.")}function ov(){if(!function Pg(){return typeof atob<"u"}())throw new Mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){ps=ae.SDK_VERSION,(0,ae._registerComponent)(new G.uA("firestore",(s,{instanceIdentifier:u,options:d})=>{const g=s.getProvider("app").getImmediate(),w=new Ri(new Pr(s.getProvider("auth-internal")),new hi(s.getProvider("app-check-internal")),function(j,te){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new Mt(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(j.options.projectId,te)}(g,u),g);return d=Object.assign({useFetchStreams:r},d),w._setSettings(d),w},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Qu,"4.6.0",e),(0,ae.registerVersion)(Qu,"4.6.0","esm2017")}();class Wc{constructor(e){this._delegate=e}static fromBase64String(e){return ov(),new Wc(Ga.fromBase64String(e))}static fromUint8Array(e){return iv(),new Wc(Ga.fromUint8Array(e))}toBase64(){return ov(),this._delegate.toBase64()}toUint8Array(){return iv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function og(i){return function _y(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class yy{enableIndexedDbPersistence(e,r){return function GI(i,e){zd(i=Vr(i,Ri));const r=ao(i);if(r._uninitializedComponentsProvider)throw new Mt(Ct.FAILED_PRECONDITION,"SDK cache is already specified.");J("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new Bd;return Bp(r,u,new sf(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function zI(i){zd(i=Vr(i,Ri));const e=ao(i);if(e._uninitializedComponentsProvider)throw new Mt(Ct.FAILED_PRECONDITION,"SDK cache is already specified.");J("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new Bd;return Bp(e,s,new M_(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pf(i){if(i._initialized&&!i._terminated)throw new Mt(Ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,k.A)(function*(){try{yield(r=(0,k.A)(function*(u){if(!qi.D())return Promise.resolve();const d=u+"main";yield qi.delete(d)}),function s(u){return r.apply(this,arguments)})(zv(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class sv{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof is||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&J("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function Vm(i,e,r,s={}){var u;const d=(i=Vr(i,Bc))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&J("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let w,R;if("string"==typeof s.mockUserToken)w=s.mockUserToken,R=di.MOCK_USER;else{w=(0,oe.Fy)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new Mt(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new di(j)}i._authCredentials=new ns(new Mr(w,R))}}(this._delegate,e,r,s)}enableNetwork(){return function $p(i){return function uf(i){return i.asyncQueue.enqueue((0,k.A)(function*(){const e=yield lf(i),r=yield xl(i);return e.setNetworkEnabled(!0),function(u){const d=Kt(u);return d.v_.delete(0),zh(d)}(r)}))}(ao(i=Vr(i,Ri)))}(this._delegate)}disableNetwork(){return function H_(i){return function O_(i){return i.asyncQueue.enqueue((0,k.A)(function*(){const e=yield lf(i),r=yield xl(i);return e.setNetworkEnabled(!1),(s=(0,k.A)(function*(d){const g=Kt(d);g.v_.add(0),yield Md(g),g.x_.set("Offline")}),function u(d){return s.apply(this,arguments)})(r);var s}))}(ao(i=Vr(i,Ri)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,BI("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Lm(i){return function(r){const s=new nr;return r.asyncQueue.enqueueAndForget((0,k.A)(function*(){return function bI(i,e){return Ld.apply(this,arguments)}(yield Pm(r),s)})),s.promise}(ao(i=Vr(i,Ri)))}(this._delegate)}onSnapshotsInSync(e){return function a0(i,e){return function k_(i,e){const r=new xp(e);return i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return u=yield ju(i),d=r,Kt(u).W_.add(d),void d.next();var u,d})),()=>{r.Qa(),i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return u=yield ju(i),d=r,void Kt(u).W_.delete(d);var u,d}))}}(ao(i=Vr(i,Ri)),$_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bf(this,B_(this._delegate,e))}catch(r){throw Ls(r,"collection()","Firestore.collection()")}}doc(e){try{return new Wa(this,Up(this._delegate,e))}catch(r){throw Ls(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function $I(i,e){if(i=Vr(i,Bc),km("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mt(Ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(i,null,(s=e,new ys(gr.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Ls(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gy(i,e,r){i=Vr(i,Ri);const s=Object.assign(Object.assign({},h0),r);return function(d){if(d.maxAttempts<1)throw new Mt(Ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,g,w){const R=new nr;return d.asyncQueue.enqueueAndForget((0,k.A)(function*(){const j=yield function N_(i){return af(i).then(e=>e.datastore)}(d);new Mm(d.asyncQueue,j,w,g,R).Ya()})),R.promise}(ao(i),u=>e(new Zm(i,u)),s)}(this._delegate,r=>e(new I0(this,r)))}batch(){return ao(this._delegate),new E0(new py(this._delegate,e=>qd(this._delegate,e)))}loadBundle(e){return function G_(i,e){const r=ao(i=Vr(i,Ri)),s=new GE;return function F_(i,e,r,s){const u=function(g,w){let R;return R="string"==typeof g?zo().encode(g):g,te=function(te,we){if(te instanceof Uint8Array)return P_(te,void 0);if(te instanceof ArrayBuffer)return P_(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new OI(te,w);var te}(r,Hh(e));i.asyncQueue.enqueueAndForget((0,k.A)(function*(){!function R_(i,e,r){const s=Kt(i);var u;(u=(0,k.A)(function*(g,w,R){try{const j=yield w.getMetadata();if(yield function(fn,Tn){const Cn=Kt(fn),Jn=Ci(Tn.createTime);return Cn.persistence.runTransaction("hasNewerBundle","readonly",_r=>Cn.$r.getBundleMetadata(_r,Tn.id)).then(_r=>!!_r&&_r.createTime.compareTo(Jn)>=0)}(g.localStore,j))return yield w.close(),R._completeWith({taskState:"Success",documentsLoaded:(fn=j).totalDocuments,bytesLoaded:fn.totalBytes,totalDocuments:fn.totalDocuments,totalBytes:fn.totalBytes}),Promise.resolve(new Set);R._updateProgress(m_(j));const te=new g_(j,g.localStore,w.serializer);let we=yield w.Ba();for(;we;){const Rt=yield te.sa(we);Rt&&R._updateProgress(Rt),we=yield w.Ba()}const nt=yield te.complete();return yield Ml(g,nt.aa,void 0),yield function(fn,Tn){const Cn=Kt(fn);return Cn.persistence.runTransaction("Save bundle","readwrite",Jn=>Cn.$r.saveBundleMetadata(Jn,Tn))}(g.localStore,j),R._completeWith(nt.progress),Promise.resolve(nt._a)}catch(j){return J("SyncEngine",`Loading bundle failed with ${j}`),R._failWith(j),Promise.resolve(new Set)}var fn}),function d(g,w,R){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Pm(i),u,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function WI(i,e){return function FI(i,e){return i.asyncQueue.enqueue((0,k.A)(function*(){return function(s,u){const d=Kt(s);return d.persistence.runTransaction("Get named query","readonly",g=>d.$r.getNamedQuery(g,u))}(yield $u(i),e)}))}(ao(i=Vr(i,Ri)),e).then(r=>r?new so(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Us(this,r):null)}}class sg extends Jp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(new Ga(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Wa.forKey(r,this.firestore,null)}}class I0{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new sg(e)}get(e){const r=Zd(e);return this._delegate.get(r).then(s=>new Qd(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const u=Zd(e);return s?(rv("Transaction.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(e,r,s,...u){const d=Zd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...u),this}delete(e){const r=Zd(e);return this._delegate.delete(r),this}}class E0{constructor(e){this._delegate=e}set(e,r,s){const u=Zd(e);return s?(rv("WriteBatch.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(e,r,s,...u){const d=Zd(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...u),this}delete(e){const r=Zd(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Xd{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new Af(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Yd(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=Xd.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let d=u.get(r);return d||(d=new Xd(e,new sg(e),r),u.set(r,d)),d}}Xd.INSTANCES=new WeakMap;class Wa{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new sg(e)}static forPath(e,r,s){if(e.length%2!=0)throw new Mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wa(r,new gi(r._delegate,s,new mn(e)))}static forKey(e,r,s){return new Wa(r,new gi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new bf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bf(this.firestore,B_(this._delegate,e))}catch(r){throw Ls(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,oe.Ku)(e))instanceof gi&&hf(this._delegate,e)}set(e,r){r=rv("DocumentReference.set",r);try{return r?Kd(this._delegate,e,r):Kd(this._delegate,e)}catch(s){throw Ls(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?ay(this._delegate,e):ay(this._delegate,e,r,...s)}catch(u){throw Ls(u,"updateDoc()","DocumentReference.update()")}}delete(){return function o0(i){return qd(Vr(i.firestore,Ri),[new ou(i._key,Er.none())])}(this._delegate)}onSnapshot(...e){const r=C0(e),s=D0(e,u=>new Qd(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return ly(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function tg(i){i=Vr(i,gi);const e=Vr(i.firestore,Ri),r=ao(e),s=new zc(e);return function jd(i,e){const r=new nr;return i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return(s=(0,k.A)(function*(d,g,w){try{const R=yield function(te,we){const nt=Kt(te);return nt.persistence.runTransaction("read document","readonly",Rt=>nt.localDocuments.getDocument(Rt,we))}(d,g);R.isFoundDocument()?w.resolve(R):R.isNoDocument()?w.resolve(null):w.reject(new Mt(Ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const j=Lu(R,`Failed to get document '${g} from cache`);w.reject(j)}}),function u(d,g,w){return s.apply(this,arguments)})(yield $u(i),e,r);var s})),r.promise}(r,i._key).then(u=>new hu(e,s,i._key,u,new za(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function oy(i){i=Vr(i,gi);const e=Vr(i.firestore,Ri);return Hd(ao(e),i._key,{source:"server"}).then(r=>Qm(e,i,r))}(this._delegate):function Tf(i){i=Vr(i,gi);const e=Vr(i.firestore,Ri);return Hd(ao(e),i._key).then(r=>Qm(e,i,r))}(this._delegate),r.then(s=>new Qd(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Wa(this.firestore,this._delegate.withConverter(e?Xd.getInstance(this.firestore,e):null))}}function Ls(i,e,r){return i.message=i.message.replace(e,r),i}function C0(i){for(const e of i)if("object"==typeof e&&!og(e))return e;return{}}function D0(i,e){var r,s;let u;return u=og(i[0])?i[0]:og(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Qd{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return fu(this._delegate,e._delegate)}}class Yd extends Qd{data(e){const r=this._delegate.data(e);return this._delegate._converter||function vr(i,e){i||it()}(void 0!==r),r}}class Us{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new sg(e)}where(e,r,s){try{return new Us(this.firestore,Ol(this._delegate,function Q_(i,e,r){const s=e,u=If("where",i);return Xp._create(u,s,r)}(e,r,s)))}catch(u){throw Ls(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Us(this.firestore,Ol(this._delegate,function lo(i,e="asc"){const r=e,s=If("orderBy",i);return Y_._create(s,r)}(e,r)))}catch(s){throw Ls(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Ol(this._delegate,function Wm(i){return U_("limit",i),Qp._create("limit",i,"F")}(e)))}catch(r){throw Ls(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Ol(this._delegate,function JI(i){return U_("limitToLast",i),Qp._create("limitToLast",i,"L")}(e)))}catch(r){throw Ls(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Ol(this._delegate,function Km(...i){return Yp._create("startAt",i,!0)}(...e)))}catch(r){throw Ls(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Ol(this._delegate,function Z_(...i){return Yp._create("startAfter",i,!1)}(...e)))}catch(r){throw Ls(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Ol(this._delegate,function J_(...i){return Cf._create("endBefore",i,!1)}(...e)))}catch(r){throw Ls(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Ol(this._delegate,function e0(...i){return Cf._create("endAt",i,!0)}(...e)))}catch(r){throw Ls(r,"endAt()","Query.endAt()")}}isEqual(e){return ff(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function n0(i){i=Vr(i,so);const e=Vr(i.firestore,Ri),r=ao(e),s=new zc(e);return function Nm(i,e){const r=new nr;return i.asyncQueue.enqueueAndForget((0,k.A)(function*(){return(s=(0,k.A)(function*(d,g,w){try{const R=yield Yg(d,g,!0),j=new v_(g,R.hs),te=j.Ta(R.documents),we=j.applyChanges(te,!1);w.resolve(we.snapshot)}catch(R){const j=Lu(R,`Failed to execute query '${g} against cache`);w.reject(j)}}),function u(d,g,w){return s.apply(this,arguments)})(yield $u(i),e,r);var s})),r.promise}(r,i._query).then(u=>new kl(e,s,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function r0(i){i=Vr(i,so);const e=Vr(i.firestore,Ri),r=ao(e),s=new zc(e);return Gd(r,i._query,{source:"server"}).then(u=>new kl(e,s,i,u))}(this._delegate):function sy(i){i=Vr(i,so);const e=Vr(i.firestore,Ri),r=ao(e),s=new zc(e);return X_(i._query),Gd(r,i._query).then(u=>new kl(e,s,i,u))}(this._delegate),r.then(s=>new Iy(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=C0(e),s=D0(e,u=>new Iy(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return ly(this._delegate,r,s)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?Xd.getInstance(this.firestore,e):null))}}class tC{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Yd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Iy{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Yd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new tC(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new Yd(this._firestore,s))})}isEqual(e){return fu(this._delegate,e._delegate)}}class bf extends Us{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wa(this.firestore,e):null}doc(e){try{return new Wa(this.firestore,void 0===e?Up(this._delegate):Up(this._delegate,e))}catch(r){throw Ls(r,"doc()","CollectionReference.doc()")}}add(e){return function s0(i,e){const r=Vr(i.firestore,Ri),s=Up(i),u=Df(i.converter,e);return qd(r,[jc(Nl(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Er.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new Wa(this.firestore,r))}isEqual(e){return hf(this._delegate,e._delegate)}withConverter(e){return new bf(this.firestore,this._delegate.withConverter(e?Xd.getInstance(this.firestore,e):null))}}function Zd(i){return Vr(i,gi)}class Ey{constructor(...e){this._delegate=new du(...e)}static documentId(){return new Ey(jr.keyField().canonicalString())}isEqual(e){return(e=(0,oe.Ku)(e))instanceof du&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ev(){return new Bm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jd(e)}static delete(){const e=function Jm(){return new zp("deleteField")}();return e._methodName="FieldValue.delete",new Jd(e)}static arrayUnion(...e){const r=function f0(...i){return new gf("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Jd(r)}static arrayRemove(...e){const r=function p0(...i){return new $m("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Jd(r)}static increment(e){const r=function g0(i){return new Wp("increment",i)}(e);return r._methodName="FieldValue.increment",new Jd(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nC={Firestore:sv,GeoPoint:Hp,Timestamp:Mn,Blob:Wc,Transaction:I0,WriteBatch:E0,DocumentReference:Wa,DocumentSnapshot:Qd,Query:Us,QueryDocumentSnapshot:Yd,QuerySnapshot:Iy,CollectionReference:bf,FieldPath:Ey,FieldValue:Jd,setLogLevel:function eC(i){!function V(i){Mo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function A0(i){(function rC(i,e){i.INTERNAL.registerComponent(new G.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},nC)))})(i,(e,r)=>new sv(e,r,new yy)),i.registerVersion("@firebase/firestore-compat","0.3.29")}(l.A)},4902:(rn,ot,S)=>{"use strict";var l;S.d(ot,{F:()=>G});var k=S(4438),ae=S(262);let G=(()=>{var Ee;class oe{constructor(){this._papa=l||(l=S.t(ae,2))}parse(je,ce){return this._papa.parse(je,ce)}unparse(je,ce){return this._papa.unparse(je,ce)}setLocalChunkSize(je){this._papa.LocalChunkSize=je}setRemoteChunkSize(je){this._papa.RemoteChunkSize=je}setDefaultDelimiter(je){this._papa.DefaultDelimiter=je}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return(Ee=oe).\u0275fac=function(je){return new(je||Ee)},Ee.\u0275prov=k.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),oe})()},467:(rn,ot,S)=>{"use strict";function l(ae,G,Ee,oe,ie,je,ce){try{var ye=ae[je](ce),X=ye.value}catch(Ne){return void Ee(Ne)}ye.done?G(X):Promise.resolve(X).then(oe,ie)}function k(ae){return function(){var G=this,Ee=arguments;return new Promise(function(oe,ie){var je=ae.apply(G,Ee);function ce(X){l(je,oe,ie,ce,ye,"next",X)}function ye(X){l(je,oe,ie,ce,ye,"throw",X)}ce(void 0)})}}S.d(ot,{A:()=>k})},9842:(rn,ot,S)=>{"use strict";function l(Ee){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(Ee)}function G(Ee,oe,ie){return(oe=function ae(Ee){var oe=function k(Ee,oe){if("object"!=l(Ee)||!Ee)return Ee;var ie=Ee[Symbol.toPrimitive];if(void 0!==ie){var je=ie.call(Ee,oe||"default");if("object"!=l(je))return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===oe?String:Number)(Ee)}(Ee,"string");return"symbol"==l(oe)?oe:String(oe)}(oe))in Ee?Object.defineProperty(Ee,oe,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Ee[oe]=ie,Ee}S.d(ot,{A:()=>G})},1635:(rn,ot,S)=>{"use strict";function G(fe,ve){var Te={};for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&ve.indexOf(me)<0&&(Te[me]=fe[me]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(me=Object.getOwnPropertySymbols(fe);ct<me.length;ct++)ve.indexOf(me[ct])<0&&Object.prototype.propertyIsEnumerable.call(fe,me[ct])&&(Te[me[ct]]=fe[me[ct]])}return Te}function Ee(fe,ve,Te,me){var We,ct=arguments.length,Ie=ct<3?ve:null===me?me=Object.getOwnPropertyDescriptor(ve,Te):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ie=Reflect.decorate(fe,ve,Te,me);else for(var Be=fe.length-1;Be>=0;Be--)(We=fe[Be])&&(Ie=(ct<3?We(Ie):ct>3?We(ve,Te,Ie):We(ve,Te))||Ie);return ct>3&&Ie&&Object.defineProperty(ve,Te,Ie),Ie}function Ne(fe,ve,Te,me){return new(Te||(Te=Promise))(function(Ie,We){function Be(ft){try{$e(me.next(ft))}catch(Gt){We(Gt)}}function tt(ft){try{$e(me.throw(ft))}catch(Gt){We(Gt)}}function $e(ft){ft.done?Ie(ft.value):function ct(Ie){return Ie instanceof Te?Ie:new Te(function(We){We(Ie)})}(ft.value).then(Be,tt)}$e((me=me.apply(fe,ve||[])).next())})}function Ae(fe){return this instanceof Ae?(this.v=fe,this):new Ae(fe)}function Ve(fe,ve,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,me=Te.apply(fe,ve||[]),Ie=[];return ct={},We("next"),We("throw"),We("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function We(Bt){me[Bt]&&(ct[Bt]=function(Yt){return new Promise(function(jt,yt){Ie.push([Bt,Yt,jt,yt])>1||Be(Bt,Yt)})})}function Be(Bt,Yt){try{!function tt(Bt){Bt.value instanceof Ae?Promise.resolve(Bt.value.v).then($e,ft):Gt(Ie[0][2],Bt)}(me[Bt](Yt))}catch(jt){Gt(Ie[0][3],jt)}}function $e(Bt){Be("next",Bt)}function ft(Bt){Be("throw",Bt)}function Gt(Bt,Yt){Bt(Yt),Ie.shift(),Ie.length&&Be(Ie[0][0],Ie[0][1])}}function He(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ve=fe[Symbol.asyncIterator];return ve?ve.call(fe):(fe=function Xe(fe){var ve="function"==typeof Symbol&&Symbol.iterator,Te=ve&&fe[ve],me=0;if(Te)return Te.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&me>=fe.length&&(fe=void 0),{value:fe&&fe[me++],done:!fe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Te={},me("next"),me("throw"),me("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function me(Ie){Te[Ie]=fe[Ie]&&function(We){return new Promise(function(Be,tt){!function ct(Ie,We,Be,tt){Promise.resolve(tt).then(function($e){Ie({value:$e,done:Be})},We)}(Be,tt,(We=fe[Ie](We)).done,We.value)})}}}S.d(ot,{AQ:()=>Ve,Cg:()=>Ee,N3:()=>Ae,Tt:()=>G,sH:()=>Ne,xN:()=>He}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=3656)}]);