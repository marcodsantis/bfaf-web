"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5657],{5657:(w,p,g)=>{g.r(p),g.d(p,{LoginscreenPageModule:()=>k});var u=g(177),i=g(4341),s=g(9364),l=g(4964),f=g(467),n=g(4438),v=g(6796),h=g(3510),P=g(7157);function M(e,a){if(1&e&&(n.j41(0,"div",19),n.EFF(1),n.k0s()),2&e){const o=n.XpG().$implicit;n.R7$(),n.SpI(" ",o.message," ")}}function b(e,a){if(1&e&&(n.qex(0),n.DNE(1,M,2,1,"div",12),n.bVm()),2&e){let o;const r=a.$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",(null==(o=t.validationFormUser.get("email"))?null:o.hasError(r.type))&&(null==(o=t.validationFormUser.get("email"))?null:o.dirty)&&(null==(o=t.validationFormUser.get("email"))?null:o.touched))}}function _(e,a){if(1&e&&(n.j41(0,"div",19),n.EFF(1),n.k0s()),2&e){const o=n.XpG().$implicit;n.R7$(),n.SpI(" ",o.message," ")}}function C(e,a){if(1&e&&(n.qex(0),n.DNE(1,_,2,1,"div",12),n.bVm()),2&e){let o;const r=a.$implicit,t=n.XpG();n.R7$(),n.Y8G("ngIf",(null==(o=t.validationFormUser.get("password"))?null:o.hasError(r.type))&&(null==(o=t.validationFormUser.get("password"))?null:o.dirty)&&(null==(o=t.validationFormUser.get("password"))?null:o.touched))}}function F(e,a){if(1&e&&(n.j41(0,"div",19),n.EFF(1),n.k0s()),2&e){const o=n.XpG();n.R7$(),n.SpI(" ",o.loginErrorMessage," ")}}const O=[{path:"",component:(()=>{var e;class a{constructor(r,t,c,d,m){this.formBuilder=r,this.authservice=t,this.router=c,this.fireStore=d,this.nav=m,this.validationUserMessage={email:[{type:"required",message:"Por favor, digite um email"},{type:"pattern",message:"O email est\xe1 incorreto. Tente novamente"}],password:[{type:"required",message:"Por favor, digite uma senha"},{type:"minlength",message:"A senha deve ter 5 ou mais caracteres"}]},this.loginErrorMessage="",this.validationFormUser=this.formBuilder.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(5)]]})}ngOnInit(){this.validationFormUser=this.formBuilder.group({email:new i.MJ("",i.k0.compose([i.k0.required,i.k0.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new i.MJ("",i.k0.compose([i.k0.required,i.k0.minLength(5)]))})}LoginUser(r){var t=this;return(0,f.A)(function*(){try{const c=yield t.authservice.loginFireauth(r);if(console.log(c),t.authservice.setUser({username:c.user.displayName,uid:c.user.uid}),c.user){const d=t.fireStore.collection("profile").doc(c.user.uid);d.get().subscribe(m=>{m.exists?t.nav.navigateForward(["tabs"]):d.set({name:c.user.displayName,email:c.user.email}).then(()=>{console.log("Profile document created with ID:",c.user.uid),t.nav.navigateForward(["uploadimage"])}).catch(E=>{console.error("Error creating profile document:",E)})})}}catch(c){console.error(c),t.loginErrorMessage="Email ou senha incorretos. Tente novamente."}})()}}return(e=a).\u0275fac=function(r){return new(r||e)(n.rXU(i.ok),n.rXU(v.u),n.rXU(l.Ix),n.rXU(h.Qe),n.rXU(P.q9))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-loginscreen"]],decls:30,vars:5,consts:[[1,"ion-no-border"],["defaulthref","login","text",""],[1,"ion-no-margin"],["src","/assets/images/header.svg",1,"half-size-img"],[3,"ngSubmit","formGroup"],[1,"wrapform"],["color","E1EAF9"],["type","text","name","email","formControlName","email","placeholder","Email","required",""],["name","mail-outline"],[4,"ngFor","ngForOf"],["type","password","name","password","formControlName","password","placeholder","Senha","required",""],["name","lock-closed-outline"],["class","error_message",4,"ngIf"],[1,"password-forgot"],["fill","clear","routerLink","/forgotpassword",1,"ion-no-padding"],[1,"sign-btn-wrap"],["shape","round","type","submit","fill","solid",1,"sign-btn",3,"disabled"],[1,"ion-card-footer"],["routerLink","/signup",1,"ion-no-padding"],[1,"error_message"]],template:function(r,t){1&r&&(n.j41(0,"ion-header",0),n.nrm(1,"ion-back-button",1),n.k0s(),n.j41(2,"ion-content")(3,"ion-card",2),n.nrm(4,"ion-img",3),n.k0s(),n.j41(5,"ion-card-content")(6,"form",4),n.bIt("ngSubmit",function(){return t.LoginUser(t.validationFormUser.value)}),n.j41(7,"div",5)(8,"ion-item",6),n.nrm(9,"ion-input",7)(10,"ion-icon",8),n.k0s(),n.j41(11,"div"),n.DNE(12,b,2,1,"ng-container",9),n.k0s(),n.j41(13,"ion-item",6),n.nrm(14,"ion-input",10)(15,"ion-icon",11),n.k0s(),n.j41(16,"div"),n.DNE(17,C,2,1,"ng-container",9),n.k0s()(),n.DNE(18,F,2,1,"div",12),n.j41(19,"div",13)(20,"ion-button",14),n.EFF(21,"Esqueci minha senha"),n.k0s()(),n.j41(22,"div",15)(23,"ion-button",16),n.EFF(24,"Login"),n.k0s()()()(),n.j41(25,"div",17)(26,"span"),n.EFF(27,"N\xe3o possui uma conta?"),n.k0s(),n.j41(28,"button",18),n.EFF(29,"Inscreva-se"),n.k0s()()()),2&r&&(n.R7$(6),n.Y8G("formGroup",t.validationFormUser),n.R7$(6),n.Y8G("ngForOf",t.validationUserMessage.email),n.R7$(5),n.Y8G("ngForOf",t.validationUserMessage.password),n.R7$(),n.Y8G("ngIf",t.loginErrorMessage),n.R7$(5),n.Y8G("disabled",!t.validationFormUser.valid))},dependencies:[u.Sq,u.bT,i.qT,i.BC,i.cb,i.YS,s.Jm,s.b_,s.I9,s.W9,s.eU,s.iq,s.KW,s.$w,s.uz,s.Gw,s.el,s.N7,l.Wk,i.j4,i.JD],styles:["ion-header[_ngcontent-%COMP%]{position:absolute}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color: #E1EAF9;--opacity: 0}ion-content[_ngcontent-%COMP%]{--ion-background-color: #E1EAF9}.warpform[_ngcontent-%COMP%]{margin-top:15px}ion-item[_ngcontent-%COMP%]{color:#74787e;--border-color: #D4D7DB;--highlight-color-focused: #1248A0;--padding-start: 0;--inner-padding-end: 0;font-size:12px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#647b9d}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:6px;font-size:18px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]:hover{color:#1248a0}.password-forgot[_ngcontent-%COMP%]{text-align:right}.password-forgot[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:12px}.sign-btn-wrap[_ngcontent-%COMP%]{text-align:center;padding-top:20px}.sign-btn-wrap[_ngcontent-%COMP%]   .sign-btn[_ngcontent-%COMP%]{--ion-primary-color: #215AB7;color:#faf6fa;--background-activated: #E1EAF9;--background-focused: #E1EAF9;--background-hover: #647B9D;border-radius:25px;--background: #215AB7}.text-tag[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.text-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#898585}.social-btns[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.social-btns[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:50px;width:50px;padding-left:5px!important}ion-card[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none!important}.ion-card-footer[_ngcontent-%COMP%]{width:100%;height:40px;align-items:center;justify-content:center;display:flex}.ion-card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#85888d;font-size:12px;font-weight:200}.ion-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;font-size:14px;font-weight:400px;padding-left:3px;color:#535558}.ion-card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#969393}ion-back-button[_ngcontent-%COMP%]{position:fixed}.error_message[_ngcontent-%COMP%]{color:red}.half-size-img[_ngcontent-%COMP%]{height:50vh;width:100%;object-fit:cover}ion-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:transparent;box-shadow:none!important;padding:0}"]}),a})()}];let x=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[l.iI.forChild(O),l.iI]}),a})(),k=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[u.MD,i.YN,s.bv,x,i.X1]}),a})()}}]);